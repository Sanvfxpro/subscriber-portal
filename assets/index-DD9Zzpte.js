(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ep(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var id={exports:{}},ui={},ad={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bs=Symbol.for("react.element"),rp=Symbol.for("react.portal"),np=Symbol.for("react.fragment"),sp=Symbol.for("react.strict_mode"),op=Symbol.for("react.profiler"),ip=Symbol.for("react.provider"),ap=Symbol.for("react.context"),lp=Symbol.for("react.forward_ref"),cp=Symbol.for("react.suspense"),up=Symbol.for("react.memo"),dp=Symbol.for("react.lazy"),kc=Symbol.iterator;function hp(t){return t===null||typeof t!="object"?null:(t=kc&&t[kc]||t["@@iterator"],typeof t=="function"?t:null)}var ld={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cd=Object.assign,ud={};function In(t,e,r){this.props=t,this.context=e,this.refs=ud,this.updater=r||ld}In.prototype.isReactComponent={};In.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};In.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dd(){}dd.prototype=In.prototype;function kl(t,e,r){this.props=t,this.context=e,this.refs=ud,this.updater=r||ld}var _l=kl.prototype=new dd;_l.constructor=kl;cd(_l,In.prototype);_l.isPureReactComponent=!0;var _c=Array.isArray,hd=Object.prototype.hasOwnProperty,bl={current:null},fd={key:!0,ref:!0,__self:!0,__source:!0};function pd(t,e,r){var n,s={},o=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)hd.call(e,n)&&!fd.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Bs,type:t,key:o,ref:i,props:s,_owner:bl.current}}function fp(t,e){return{$$typeof:Bs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bs}function pp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var bc=/\/+/g;function Di(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pp(""+t.key):e.toString(36)}function xo(t,e,r,n,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Bs:case rp:i=!0}}if(i)return i=t,s=s(i),t=n===""?"."+Di(i,0):n,_c(s)?(r="",t!=null&&(r=t.replace(bc,"$&/")+"/"),xo(s,e,r,"",function(u){return u})):s!=null&&(Sl(s)&&(s=fp(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(bc,"$&/")+"/")+t)),e.push(s)),1;if(i=0,n=n===""?".":n+":",_c(t))for(var l=0;l<t.length;l++){o=t[l];var c=n+Di(o,l);i+=xo(o,e,r,c,s)}else if(c=hp(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=n+Di(o,l++),i+=xo(o,e,r,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Js(t,e,r){if(t==null)return t;var n=[],s=0;return xo(t,n,"","",function(o){return e.call(r,o,s++)}),n}function mp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ye={current:null},ko={transition:null},gp={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:ko,ReactCurrentOwner:bl};function md(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Js,forEach:function(t,e,r){Js(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Js(t,function(){e++}),e},toArray:function(t){return Js(t,function(e){return e})||[]},only:function(t){if(!Sl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=In;re.Fragment=np;re.Profiler=op;re.PureComponent=kl;re.StrictMode=sp;re.Suspense=cp;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gp;re.act=md;re.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=cd({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=bl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)hd.call(e,c)&&!fd.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Bs,type:t.type,key:s,ref:o,props:n,_owner:i}};re.createContext=function(t){return t={$$typeof:ap,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ip,_context:t},t.Consumer=t};re.createElement=pd;re.createFactory=function(t){var e=pd.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:lp,render:t}};re.isValidElement=Sl;re.lazy=function(t){return{$$typeof:dp,_payload:{_status:-1,_result:t},_init:mp}};re.memo=function(t,e){return{$$typeof:up,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=ko.transition;ko.transition={};try{t()}finally{ko.transition=e}};re.unstable_act=md;re.useCallback=function(t,e){return Ye.current.useCallback(t,e)};re.useContext=function(t){return Ye.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return Ye.current.useDeferredValue(t)};re.useEffect=function(t,e){return Ye.current.useEffect(t,e)};re.useId=function(){return Ye.current.useId()};re.useImperativeHandle=function(t,e,r){return Ye.current.useImperativeHandle(t,e,r)};re.useInsertionEffect=function(t,e){return Ye.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return Ye.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return Ye.current.useMemo(t,e)};re.useReducer=function(t,e,r){return Ye.current.useReducer(t,e,r)};re.useRef=function(t){return Ye.current.useRef(t)};re.useState=function(t){return Ye.current.useState(t)};re.useSyncExternalStore=function(t,e,r){return Ye.current.useSyncExternalStore(t,e,r)};re.useTransition=function(){return Ye.current.useTransition()};re.version="18.3.1";ad.exports=re;var C=ad.exports;const yp=ep(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=C,wp=Symbol.for("react.element"),xp=Symbol.for("react.fragment"),kp=Object.prototype.hasOwnProperty,_p=vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bp={key:!0,ref:!0,__self:!0,__source:!0};function gd(t,e,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)kp.call(e,n)&&!bp.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:wp,type:t,key:o,ref:i,props:s,_owner:_p.current}}ui.Fragment=xp;ui.jsx=gd;ui.jsxs=gd;id.exports=ui;var a=id.exports,yd={exports:{}},ut={},vd={exports:{}},wd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,G){var V=L.length;L.push(G);e:for(;0<V;){var S=V-1>>>1,x=L[S];if(0<s(x,G))L[S]=G,L[V]=x,V=S;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var G=L[0],V=L.pop();if(V!==G){L[0]=V;e:for(var S=0,x=L.length,j=x>>>1;S<j;){var D=2*(S+1)-1,I=L[D],J=D+1,F=L[J];if(0>s(I,V))J<x&&0>s(F,I)?(L[S]=F,L[J]=V,S=J):(L[S]=I,L[D]=V,S=D);else if(J<x&&0>s(F,V))L[S]=F,L[J]=V,S=J;else break e}}return G}function s(L,G){var V=L.sortIndex-G.sortIndex;return V!==0?V:L.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,f=3,v=!1,y=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(L){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=L)n(u),G.sortIndex=G.expirationTime,e(c,G);else break;G=r(u)}}function w(L){if(k=!1,m(L),!y)if(r(c)!==null)y=!0,q(N);else{var G=r(u);G!==null&&Ne(w,G.startTime-L)}}function N(L,G){y=!1,k&&(k=!1,g(R),R=-1),v=!0;var V=f;try{for(m(G),h=r(c);h!==null&&(!(h.expirationTime>G)||L&&!ne());){var S=h.callback;if(typeof S=="function"){h.callback=null,f=h.priorityLevel;var x=S(h.expirationTime<=G);G=t.unstable_now(),typeof x=="function"?h.callback=x:h===r(c)&&n(c),m(G)}else n(c);h=r(c)}if(h!==null)var j=!0;else{var D=r(u);D!==null&&Ne(w,D.startTime-G),j=!1}return j}finally{h=null,f=V,v=!1}}var b=!1,E=null,R=-1,W=5,H=-1;function ne(){return!(t.unstable_now()-H<W)}function fe(){if(E!==null){var L=t.unstable_now();H=L;var G=!0;try{G=E(!0,L)}finally{G?Z():(b=!1,E=null)}}else b=!1}var Z;if(typeof p=="function")Z=function(){p(fe)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ce=Q.port2;Q.port1.onmessage=fe,Z=function(){ce.postMessage(null)}}else Z=function(){T(fe,0)};function q(L){E=L,b||(b=!0,Z())}function Ne(L,G){R=T(function(){L(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,q(N))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var V=f;f=G;try{return L()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=f;f=L;try{return G()}finally{f=V}},t.unstable_scheduleCallback=function(L,G,V){var S=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?S+V:S):V=S,L){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=V+x,L={id:d++,callback:G,priorityLevel:L,startTime:V,expirationTime:x,sortIndex:-1},V>S?(L.sortIndex=V,e(u,L),r(c)===null&&L===r(u)&&(k?(g(R),R=-1):k=!0,Ne(w,V-S))):(L.sortIndex=x,e(c,L),y||v||(y=!0,q(N))),L},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(L){var G=f;return function(){var V=f;f=G;try{return L.apply(this,arguments)}finally{f=V}}}})(wd);vd.exports=wd;var Sp=vd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp=C,ct=Sp;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xd=new Set,bs={};function Gr(t,e){On(t,e),On(t+"Capture",e)}function On(t,e){for(bs[t]=e,t=0;t<e.length;t++)xd.add(e[t])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ya=Object.prototype.hasOwnProperty,Cp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sc={},jc={};function Np(t){return ya.call(jc,t)?!0:ya.call(Sc,t)?!1:Cp.test(t)?jc[t]=!0:(Sc[t]=!0,!1)}function Ep(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Op(t,e,r,n){if(e===null||typeof e>"u"||Ep(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Je(t,e,r,n,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fe[t]=new Je(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fe[e]=new Je(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fe[t]=new Je(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fe[t]=new Je(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fe[t]=new Je(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fe[t]=new Je(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fe[t]=new Je(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fe[t]=new Je(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fe[t]=new Je(t,5,!1,t.toLowerCase(),null,!1,!1)});var jl=/[\-:]([a-z])/g;function Cl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jl,Cl);Fe[e]=new Je(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jl,Cl);Fe[e]=new Je(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jl,Cl);Fe[e]=new Je(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fe[t]=new Je(t,1,!1,t.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fe[t]=new Je(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nl(t,e,r,n){var s=Fe.hasOwnProperty(e)?Fe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Op(e,r,s,n)&&(r=null),n||s===null?Np(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Jt=jp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xs=Symbol.for("react.element"),dn=Symbol.for("react.portal"),hn=Symbol.for("react.fragment"),El=Symbol.for("react.strict_mode"),va=Symbol.for("react.profiler"),kd=Symbol.for("react.provider"),_d=Symbol.for("react.context"),Ol=Symbol.for("react.forward_ref"),wa=Symbol.for("react.suspense"),xa=Symbol.for("react.suspense_list"),Pl=Symbol.for("react.memo"),or=Symbol.for("react.lazy"),bd=Symbol.for("react.offscreen"),Cc=Symbol.iterator;function Gn(t){return t===null||typeof t!="object"?null:(t=Cc&&t[Cc]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,Ri;function ss(t){if(Ri===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ri=e&&e[1]||""}return`
`+Ri+t}var Li=!1;function Mi(t,e){if(!t||Li)return"";Li=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Li=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ss(t):""}function Pp(t){switch(t.tag){case 5:return ss(t.type);case 16:return ss("Lazy");case 13:return ss("Suspense");case 19:return ss("SuspenseList");case 0:case 2:case 15:return t=Mi(t.type,!1),t;case 11:return t=Mi(t.type.render,!1),t;case 1:return t=Mi(t.type,!0),t;default:return""}}function ka(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hn:return"Fragment";case dn:return"Portal";case va:return"Profiler";case El:return"StrictMode";case wa:return"Suspense";case xa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _d:return(t.displayName||"Context")+".Consumer";case kd:return(t._context.displayName||"Context")+".Provider";case Ol:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pl:return e=t.displayName||null,e!==null?e:ka(t.type)||"Memo";case or:e=t._payload,t=t._init;try{return ka(t(e))}catch{}}return null}function Tp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ka(e);case 8:return e===El?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ap(t){var e=Sd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zs(t){t._valueTracker||(t._valueTracker=Ap(t))}function jd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Sd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Do(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _a(t,e){var r=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Nc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=xr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Cd(t,e){e=e.checked,e!=null&&Nl(t,"checked",e,!1)}function ba(t,e){Cd(t,e);var r=xr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sa(t,e.type,r):e.hasOwnProperty("defaultValue")&&Sa(t,e.type,xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ec(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Sa(t,e,r){(e!=="number"||Do(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var os=Array.isArray;function bn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+xr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ja(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Oc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(A(92));if(os(r)){if(1<r.length)throw Error(A(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:xr(r)}}function Nd(t,e){var r=xr(e.value),n=xr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Pc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ed(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ca(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ed(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var eo,Od=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=eo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ss(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dp=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(t){Dp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cs[e]=cs[t]})});function Pd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||cs.hasOwnProperty(t)&&cs[t]?(""+e).trim():e+"px"}function Td(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Pd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Rp=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Na(t,e){if(e){if(Rp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function Ea(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oa=null;function Tl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pa=null,Sn=null,jn=null;function Tc(t){if(t=Vs(t)){if(typeof Pa!="function")throw Error(A(280));var e=t.stateNode;e&&(e=mi(e),Pa(t.stateNode,t.type,e))}}function Ad(t){Sn?jn?jn.push(t):jn=[t]:Sn=t}function Dd(){if(Sn){var t=Sn,e=jn;if(jn=Sn=null,Tc(t),e)for(t=0;t<e.length;t++)Tc(e[t])}}function Rd(t,e){return t(e)}function Ld(){}var Ii=!1;function Md(t,e,r){if(Ii)return t(e,r);Ii=!0;try{return Rd(t,e,r)}finally{Ii=!1,(Sn!==null||jn!==null)&&(Ld(),Dd())}}function js(t,e){var r=t.stateNode;if(r===null)return null;var n=mi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(A(231,e,typeof r));return r}var Ta=!1;if(Gt)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{Ta=!1}function Lp(t,e,r,n,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var us=!1,Ro=null,Lo=!1,Aa=null,Mp={onError:function(t){us=!0,Ro=t}};function Ip(t,e,r,n,s,o,i,l,c){us=!1,Ro=null,Lp.apply(Mp,arguments)}function $p(t,e,r,n,s,o,i,l,c){if(Ip.apply(this,arguments),us){if(us){var u=Ro;us=!1,Ro=null}else throw Error(A(198));Lo||(Lo=!0,Aa=u)}}function Kr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Id(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ac(t){if(Kr(t)!==t)throw Error(A(188))}function zp(t){var e=t.alternate;if(!e){if(e=Kr(t),e===null)throw Error(A(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Ac(s),t;if(o===n)return Ac(s),e;o=o.sibling}throw Error(A(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(A(189))}}if(r.alternate!==n)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?t:e}function $d(t){return t=zp(t),t!==null?zd(t):null}function zd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zd(t);if(e!==null)return e;t=t.sibling}return null}var Ud=ct.unstable_scheduleCallback,Dc=ct.unstable_cancelCallback,Up=ct.unstable_shouldYield,Fp=ct.unstable_requestPaint,Ce=ct.unstable_now,Bp=ct.unstable_getCurrentPriorityLevel,Al=ct.unstable_ImmediatePriority,Fd=ct.unstable_UserBlockingPriority,Mo=ct.unstable_NormalPriority,Wp=ct.unstable_LowPriority,Bd=ct.unstable_IdlePriority,di=null,It=null;function Hp(t){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(di,t,void 0,(t.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Gp,Vp=Math.log,qp=Math.LN2;function Gp(t){return t>>>=0,t===0?32:31-(Vp(t)/qp|0)|0}var to=64,ro=4194304;function is(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Io(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,o=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=is(l):(o&=i,o!==0&&(n=is(o)))}else i=r&~s,i!==0?n=is(i):o!==0&&(n=is(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ct(e),s=1<<r,n|=t[r],e&=~s;return n}function Kp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qp(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-Ct(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=Kp(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function Da(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Wd(){var t=to;return to<<=1,!(to&4194240)&&(to=64),t}function $i(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ws(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ct(e),t[e]=r}function Yp(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ct(r),o=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~o}}function Dl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ct(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var he=0;function Hd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Vd,Rl,qd,Gd,Kd,Ra=!1,no=[],hr=null,fr=null,pr=null,Cs=new Map,Ns=new Map,ar=[],Jp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rc(t,e){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Cs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(e.pointerId)}}function Qn(t,e,r,n,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Vs(e),e!==null&&Rl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Xp(t,e,r,n,s){switch(e){case"focusin":return hr=Qn(hr,t,e,r,n,s),!0;case"dragenter":return fr=Qn(fr,t,e,r,n,s),!0;case"mouseover":return pr=Qn(pr,t,e,r,n,s),!0;case"pointerover":var o=s.pointerId;return Cs.set(o,Qn(Cs.get(o)||null,t,e,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Ns.set(o,Qn(Ns.get(o)||null,t,e,r,n,s)),!0}return!1}function Qd(t){var e=Ir(t.target);if(e!==null){var r=Kr(e);if(r!==null){if(e=r.tag,e===13){if(e=Id(r),e!==null){t.blockedOn=e,Kd(t.priority,function(){qd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _o(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=La(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Oa=n,r.target.dispatchEvent(n),Oa=null}else return e=Vs(r),e!==null&&Rl(e),t.blockedOn=r,!1;e.shift()}return!0}function Lc(t,e,r){_o(t)&&r.delete(e)}function Zp(){Ra=!1,hr!==null&&_o(hr)&&(hr=null),fr!==null&&_o(fr)&&(fr=null),pr!==null&&_o(pr)&&(pr=null),Cs.forEach(Lc),Ns.forEach(Lc)}function Yn(t,e){t.blockedOn===e&&(t.blockedOn=null,Ra||(Ra=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Zp)))}function Es(t){function e(s){return Yn(s,t)}if(0<no.length){Yn(no[0],t);for(var r=1;r<no.length;r++){var n=no[r];n.blockedOn===t&&(n.blockedOn=null)}}for(hr!==null&&Yn(hr,t),fr!==null&&Yn(fr,t),pr!==null&&Yn(pr,t),Cs.forEach(e),Ns.forEach(e),r=0;r<ar.length;r++)n=ar[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ar.length&&(r=ar[0],r.blockedOn===null);)Qd(r),r.blockedOn===null&&ar.shift()}var Cn=Jt.ReactCurrentBatchConfig,$o=!0;function em(t,e,r,n){var s=he,o=Cn.transition;Cn.transition=null;try{he=1,Ll(t,e,r,n)}finally{he=s,Cn.transition=o}}function tm(t,e,r,n){var s=he,o=Cn.transition;Cn.transition=null;try{he=4,Ll(t,e,r,n)}finally{he=s,Cn.transition=o}}function Ll(t,e,r,n){if($o){var s=La(t,e,r,n);if(s===null)Ki(t,e,n,zo,r),Rc(t,n);else if(Xp(s,t,e,r,n))n.stopPropagation();else if(Rc(t,n),e&4&&-1<Jp.indexOf(t)){for(;s!==null;){var o=Vs(s);if(o!==null&&Vd(o),o=La(t,e,r,n),o===null&&Ki(t,e,n,zo,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Ki(t,e,n,null,r)}}var zo=null;function La(t,e,r,n){if(zo=null,t=Tl(n),t=Ir(t),t!==null)if(e=Kr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Id(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zo=t,null}function Yd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bp()){case Al:return 1;case Fd:return 4;case Mo:case Wp:return 16;case Bd:return 536870912;default:return 16}default:return 16}}var ur=null,Ml=null,bo=null;function Jd(){if(bo)return bo;var t,e=Ml,r=e.length,n,s="value"in ur?ur.value:ur.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===s[o-n];n++);return bo=s.slice(t,1<n?1-n:void 0)}function So(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function so(){return!0}function Mc(){return!1}function dt(t){function e(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?so:Mc,this.isPropagationStopped=Mc,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),e}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=dt($n),Hs=be({},$n,{view:0,detail:0}),rm=dt(Hs),zi,Ui,Jn,hi=be({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jn&&(Jn&&t.type==="mousemove"?(zi=t.screenX-Jn.screenX,Ui=t.screenY-Jn.screenY):Ui=zi=0,Jn=t),zi)},movementY:function(t){return"movementY"in t?t.movementY:Ui}}),Ic=dt(hi),nm=be({},hi,{dataTransfer:0}),sm=dt(nm),om=be({},Hs,{relatedTarget:0}),Fi=dt(om),im=be({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),am=dt(im),lm=be({},$n,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cm=dt(lm),um=be({},$n,{data:0}),$c=dt(um),dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fm[t])?!!e[t]:!1}function $l(){return pm}var mm=be({},Hs,{key:function(t){if(t.key){var e=dm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=So(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(t){return t.type==="keypress"?So(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?So(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gm=dt(mm),ym=be({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zc=dt(ym),vm=be({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),wm=dt(vm),xm=be({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),km=dt(xm),_m=be({},hi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bm=dt(_m),Sm=[9,13,27,32],zl=Gt&&"CompositionEvent"in window,ds=null;Gt&&"documentMode"in document&&(ds=document.documentMode);var jm=Gt&&"TextEvent"in window&&!ds,Xd=Gt&&(!zl||ds&&8<ds&&11>=ds),Uc=" ",Fc=!1;function Zd(t,e){switch(t){case"keyup":return Sm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fn=!1;function Cm(t,e){switch(t){case"compositionend":return eh(e);case"keypress":return e.which!==32?null:(Fc=!0,Uc);case"textInput":return t=e.data,t===Uc&&Fc?null:t;default:return null}}function Nm(t,e){if(fn)return t==="compositionend"||!zl&&Zd(t,e)?(t=Jd(),bo=Ml=ur=null,fn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xd&&e.locale!=="ko"?null:e.data;default:return null}}var Em={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Em[t.type]:e==="textarea"}function th(t,e,r,n){Ad(n),e=Uo(e,"onChange"),0<e.length&&(r=new Il("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var hs=null,Os=null;function Om(t){hh(t,0)}function fi(t){var e=gn(t);if(jd(e))return t}function Pm(t,e){if(t==="change")return e}var rh=!1;if(Gt){var Bi;if(Gt){var Wi="oninput"in document;if(!Wi){var Wc=document.createElement("div");Wc.setAttribute("oninput","return;"),Wi=typeof Wc.oninput=="function"}Bi=Wi}else Bi=!1;rh=Bi&&(!document.documentMode||9<document.documentMode)}function Hc(){hs&&(hs.detachEvent("onpropertychange",nh),Os=hs=null)}function nh(t){if(t.propertyName==="value"&&fi(Os)){var e=[];th(e,Os,t,Tl(t)),Md(Om,e)}}function Tm(t,e,r){t==="focusin"?(Hc(),hs=e,Os=r,hs.attachEvent("onpropertychange",nh)):t==="focusout"&&Hc()}function Am(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fi(Os)}function Dm(t,e){if(t==="click")return fi(e)}function Rm(t,e){if(t==="input"||t==="change")return fi(e)}function Lm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ot=typeof Object.is=="function"?Object.is:Lm;function Ps(t,e){if(Ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ya.call(e,s)||!Ot(t[s],e[s]))return!1}return!0}function Vc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qc(t,e){var r=Vc(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vc(r)}}function sh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oh(){for(var t=window,e=Do();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Do(t.document)}return e}function Ul(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Mm(t){var e=oh(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&sh(r.ownerDocument.documentElement,r)){if(n!==null&&Ul(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!t.extend&&o>n&&(s=n,n=o,o=s),s=qc(r,o);var i=qc(r,n);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Im=Gt&&"documentMode"in document&&11>=document.documentMode,pn=null,Ma=null,fs=null,Ia=!1;function Gc(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ia||pn==null||pn!==Do(n)||(n=pn,"selectionStart"in n&&Ul(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fs&&Ps(fs,n)||(fs=n,n=Uo(Ma,"onSelect"),0<n.length&&(e=new Il("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=pn)))}function oo(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var mn={animationend:oo("Animation","AnimationEnd"),animationiteration:oo("Animation","AnimationIteration"),animationstart:oo("Animation","AnimationStart"),transitionend:oo("Transition","TransitionEnd")},Hi={},ih={};Gt&&(ih=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function pi(t){if(Hi[t])return Hi[t];if(!mn[t])return t;var e=mn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ih)return Hi[t]=e[r];return t}var ah=pi("animationend"),lh=pi("animationiteration"),ch=pi("animationstart"),uh=pi("transitionend"),dh=new Map,Kc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(t,e){dh.set(t,e),Gr(e,[t])}for(var Vi=0;Vi<Kc.length;Vi++){var qi=Kc[Vi],$m=qi.toLowerCase(),zm=qi[0].toUpperCase()+qi.slice(1);br($m,"on"+zm)}br(ah,"onAnimationEnd");br(lh,"onAnimationIteration");br(ch,"onAnimationStart");br("dblclick","onDoubleClick");br("focusin","onFocus");br("focusout","onBlur");br(uh,"onTransitionEnd");On("onMouseEnter",["mouseout","mouseover"]);On("onMouseLeave",["mouseout","mouseover"]);On("onPointerEnter",["pointerout","pointerover"]);On("onPointerLeave",["pointerout","pointerover"]);Gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var as="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Um=new Set("cancel close invalid load scroll toggle".split(" ").concat(as));function Qc(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,$p(n,e,void 0,t),t.currentTarget=null}function hh(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Qc(s,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Qc(s,l,u),o=c}}}if(Lo)throw t=Aa,Lo=!1,Aa=null,t}function ge(t,e){var r=e[Ba];r===void 0&&(r=e[Ba]=new Set);var n=t+"__bubble";r.has(n)||(fh(e,t,2,!1),r.add(n))}function Gi(t,e,r){var n=0;e&&(n|=4),fh(r,t,n,e)}var io="_reactListening"+Math.random().toString(36).slice(2);function Ts(t){if(!t[io]){t[io]=!0,xd.forEach(function(r){r!=="selectionchange"&&(Um.has(r)||Gi(r,!1,t),Gi(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[io]||(e[io]=!0,Gi("selectionchange",!1,e))}}function fh(t,e,r,n){switch(Yd(e)){case 1:var s=em;break;case 4:s=tm;break;default:s=Ll}r=s.bind(null,e,r,t),s=void 0,!Ta||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Ki(t,e,r,n,s){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Ir(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}Md(function(){var u=o,d=Tl(r),h=[];e:{var f=dh.get(t);if(f!==void 0){var v=Il,y=t;switch(t){case"keypress":if(So(r)===0)break e;case"keydown":case"keyup":v=gm;break;case"focusin":y="focus",v=Fi;break;case"focusout":y="blur",v=Fi;break;case"beforeblur":case"afterblur":v=Fi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=wm;break;case ah:case lh:case ch:v=am;break;case uh:v=km;break;case"scroll":v=rm;break;case"wheel":v=bm;break;case"copy":case"cut":case"paste":v=cm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=zc}var k=(e&4)!==0,T=!k&&t==="scroll",g=k?f!==null?f+"Capture":null:f;k=[];for(var p=u,m;p!==null;){m=p;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,g!==null&&(w=js(p,g),w!=null&&k.push(As(p,w,m)))),T)break;p=p.return}0<k.length&&(f=new v(f,y,null,r,d),h.push({event:f,listeners:k}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&r!==Oa&&(y=r.relatedTarget||r.fromElement)&&(Ir(y)||y[Kt]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=u,y=y?Ir(y):null,y!==null&&(T=Kr(y),y!==T||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(k=Ic,w="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(k=zc,w="onPointerLeave",g="onPointerEnter",p="pointer"),T=v==null?f:gn(v),m=y==null?f:gn(y),f=new k(w,p+"leave",v,r,d),f.target=T,f.relatedTarget=m,w=null,Ir(d)===u&&(k=new k(g,p+"enter",y,r,d),k.target=m,k.relatedTarget=T,w=k),T=w,v&&y)t:{for(k=v,g=y,p=0,m=k;m;m=en(m))p++;for(m=0,w=g;w;w=en(w))m++;for(;0<p-m;)k=en(k),p--;for(;0<m-p;)g=en(g),m--;for(;p--;){if(k===g||g!==null&&k===g.alternate)break t;k=en(k),g=en(g)}k=null}else k=null;v!==null&&Yc(h,f,v,k,!1),y!==null&&T!==null&&Yc(h,T,y,k,!0)}}e:{if(f=u?gn(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var N=Pm;else if(Bc(f))if(rh)N=Rm;else{N=Am;var b=Tm}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=Dm);if(N&&(N=N(t,u))){th(h,N,r,d);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Sa(f,"number",f.value)}switch(b=u?gn(u):window,t){case"focusin":(Bc(b)||b.contentEditable==="true")&&(pn=b,Ma=u,fs=null);break;case"focusout":fs=Ma=pn=null;break;case"mousedown":Ia=!0;break;case"contextmenu":case"mouseup":case"dragend":Ia=!1,Gc(h,r,d);break;case"selectionchange":if(Im)break;case"keydown":case"keyup":Gc(h,r,d)}var E;if(zl)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else fn?Zd(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Xd&&r.locale!=="ko"&&(fn||R!=="onCompositionStart"?R==="onCompositionEnd"&&fn&&(E=Jd()):(ur=d,Ml="value"in ur?ur.value:ur.textContent,fn=!0)),b=Uo(u,R),0<b.length&&(R=new $c(R,t,null,r,d),h.push({event:R,listeners:b}),E?R.data=E:(E=eh(r),E!==null&&(R.data=E)))),(E=jm?Cm(t,r):Nm(t,r))&&(u=Uo(u,"onBeforeInput"),0<u.length&&(d=new $c("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}hh(h,e)})}function As(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Uo(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=js(t,r),o!=null&&n.unshift(As(t,o,s)),o=js(t,e),o!=null&&n.push(As(t,o,s))),t=t.return}return n}function en(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yc(t,e,r,n,s){for(var o=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=js(r,o),c!=null&&i.unshift(As(r,c,l))):s||(c=js(r,o),c!=null&&i.push(As(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var Fm=/\r\n?/g,Bm=/\u0000|\uFFFD/g;function Jc(t){return(typeof t=="string"?t:""+t).replace(Fm,`
`).replace(Bm,"")}function ao(t,e,r){if(e=Jc(e),Jc(t)!==e&&r)throw Error(A(425))}function Fo(){}var $a=null,za=null;function Ua(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fa=typeof setTimeout=="function"?setTimeout:void 0,Wm=typeof clearTimeout=="function"?clearTimeout:void 0,Xc=typeof Promise=="function"?Promise:void 0,Hm=typeof queueMicrotask=="function"?queueMicrotask:typeof Xc<"u"?function(t){return Xc.resolve(null).then(t).catch(Vm)}:Fa;function Vm(t){setTimeout(function(){throw t})}function Qi(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Es(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Es(e)}function mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var zn=Math.random().toString(36).slice(2),Mt="__reactFiber$"+zn,Ds="__reactProps$"+zn,Kt="__reactContainer$"+zn,Ba="__reactEvents$"+zn,qm="__reactListeners$"+zn,Gm="__reactHandles$"+zn;function Ir(t){var e=t[Mt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Kt]||r[Mt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Zc(t);t!==null;){if(r=t[Mt])return r;t=Zc(t)}return e}t=r,r=t.parentNode}return null}function Vs(t){return t=t[Mt]||t[Kt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function mi(t){return t[Ds]||null}var Wa=[],yn=-1;function Sr(t){return{current:t}}function ye(t){0>yn||(t.current=Wa[yn],Wa[yn]=null,yn--)}function me(t,e){yn++,Wa[yn]=t.current,t.current=e}var kr={},Ve=Sr(kr),tt=Sr(!1),Br=kr;function Pn(t,e){var r=t.type.contextTypes;if(!r)return kr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function rt(t){return t=t.childContextTypes,t!=null}function Bo(){ye(tt),ye(Ve)}function eu(t,e,r){if(Ve.current!==kr)throw Error(A(168));me(Ve,e),me(tt,r)}function ph(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(A(108,Tp(t)||"Unknown",s));return be({},r,n)}function Wo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,Br=Ve.current,me(Ve,t),me(tt,tt.current),!0}function tu(t,e,r){var n=t.stateNode;if(!n)throw Error(A(169));r?(t=ph(t,e,Br),n.__reactInternalMemoizedMergedChildContext=t,ye(tt),ye(Ve),me(Ve,t)):ye(tt),me(tt,r)}var Wt=null,gi=!1,Yi=!1;function mh(t){Wt===null?Wt=[t]:Wt.push(t)}function Km(t){gi=!0,mh(t)}function jr(){if(!Yi&&Wt!==null){Yi=!0;var t=0,e=he;try{var r=Wt;for(he=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Wt=null,gi=!1}catch(s){throw Wt!==null&&(Wt=Wt.slice(t+1)),Ud(Al,jr),s}finally{he=e,Yi=!1}}return null}var vn=[],wn=0,Ho=null,Vo=0,ht=[],ft=0,Wr=null,Ht=1,Vt="";function Ar(t,e){vn[wn++]=Vo,vn[wn++]=Ho,Ho=t,Vo=e}function gh(t,e,r){ht[ft++]=Ht,ht[ft++]=Vt,ht[ft++]=Wr,Wr=t;var n=Ht;t=Vt;var s=32-Ct(n)-1;n&=~(1<<s),r+=1;var o=32-Ct(e)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Ht=1<<32-Ct(e)+s|r<<s|n,Vt=o+t}else Ht=1<<o|r<<s|n,Vt=t}function Fl(t){t.return!==null&&(Ar(t,1),gh(t,1,0))}function Bl(t){for(;t===Ho;)Ho=vn[--wn],vn[wn]=null,Vo=vn[--wn],vn[wn]=null;for(;t===Wr;)Wr=ht[--ft],ht[ft]=null,Vt=ht[--ft],ht[ft]=null,Ht=ht[--ft],ht[ft]=null}var at=null,it=null,we=!1,St=null;function yh(t,e){var r=pt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ru(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,at=t,it=mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,at=t,it=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Wr!==null?{id:Ht,overflow:Vt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=pt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,at=t,it=null,!0):!1;default:return!1}}function Ha(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Va(t){if(we){var e=it;if(e){var r=e;if(!ru(t,e)){if(Ha(t))throw Error(A(418));e=mr(r.nextSibling);var n=at;e&&ru(t,e)?yh(n,r):(t.flags=t.flags&-4097|2,we=!1,at=t)}}else{if(Ha(t))throw Error(A(418));t.flags=t.flags&-4097|2,we=!1,at=t}}}function nu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;at=t}function lo(t){if(t!==at)return!1;if(!we)return nu(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ua(t.type,t.memoizedProps)),e&&(e=it)){if(Ha(t))throw vh(),Error(A(418));for(;e;)yh(t,e),e=mr(e.nextSibling)}if(nu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){it=mr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}it=null}}else it=at?mr(t.stateNode.nextSibling):null;return!0}function vh(){for(var t=it;t;)t=mr(t.nextSibling)}function Tn(){it=at=null,we=!1}function Wl(t){St===null?St=[t]:St.push(t)}var Qm=Jt.ReactCurrentBatchConfig;function Xn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var n=r.stateNode}if(!n)throw Error(A(147,t));var s=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,t))}return t}function co(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function su(t){var e=t._init;return e(t._payload)}function wh(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function r(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=wr(g,p),g.index=0,g.sibling=null,g}function o(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function i(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,p,m,w){return p===null||p.tag!==6?(p=na(m,g.mode,w),p.return=g,p):(p=s(p,m),p.return=g,p)}function c(g,p,m,w){var N=m.type;return N===hn?d(g,p,m.props.children,w,m.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===or&&su(N)===p.type)?(w=s(p,m.props),w.ref=Xn(g,p,m),w.return=g,w):(w=To(m.type,m.key,m.props,null,g.mode,w),w.ref=Xn(g,p,m),w.return=g,w)}function u(g,p,m,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=sa(m,g.mode,w),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,w,N){return p===null||p.tag!==7?(p=Fr(m,g.mode,w,N),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=na(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Xs:return m=To(p.type,p.key,p.props,null,g.mode,m),m.ref=Xn(g,null,p),m.return=g,m;case dn:return p=sa(p,g.mode,m),p.return=g,p;case or:var w=p._init;return h(g,w(p._payload),m)}if(os(p)||Gn(p))return p=Fr(p,g.mode,m,null),p.return=g,p;co(g,p)}return null}function f(g,p,m,w){var N=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return N!==null?null:l(g,p,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Xs:return m.key===N?c(g,p,m,w):null;case dn:return m.key===N?u(g,p,m,w):null;case or:return N=m._init,f(g,p,N(m._payload),w)}if(os(m)||Gn(m))return N!==null?null:d(g,p,m,w,null);co(g,m)}return null}function v(g,p,m,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(m)||null,l(p,g,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xs:return g=g.get(w.key===null?m:w.key)||null,c(p,g,w,N);case dn:return g=g.get(w.key===null?m:w.key)||null,u(p,g,w,N);case or:var b=w._init;return v(g,p,m,b(w._payload),N)}if(os(w)||Gn(w))return g=g.get(m)||null,d(p,g,w,N,null);co(p,w)}return null}function y(g,p,m,w){for(var N=null,b=null,E=p,R=p=0,W=null;E!==null&&R<m.length;R++){E.index>R?(W=E,E=null):W=E.sibling;var H=f(g,E,m[R],w);if(H===null){E===null&&(E=W);break}t&&E&&H.alternate===null&&e(g,E),p=o(H,p,R),b===null?N=H:b.sibling=H,b=H,E=W}if(R===m.length)return r(g,E),we&&Ar(g,R),N;if(E===null){for(;R<m.length;R++)E=h(g,m[R],w),E!==null&&(p=o(E,p,R),b===null?N=E:b.sibling=E,b=E);return we&&Ar(g,R),N}for(E=n(g,E);R<m.length;R++)W=v(E,g,R,m[R],w),W!==null&&(t&&W.alternate!==null&&E.delete(W.key===null?R:W.key),p=o(W,p,R),b===null?N=W:b.sibling=W,b=W);return t&&E.forEach(function(ne){return e(g,ne)}),we&&Ar(g,R),N}function k(g,p,m,w){var N=Gn(m);if(typeof N!="function")throw Error(A(150));if(m=N.call(m),m==null)throw Error(A(151));for(var b=N=null,E=p,R=p=0,W=null,H=m.next();E!==null&&!H.done;R++,H=m.next()){E.index>R?(W=E,E=null):W=E.sibling;var ne=f(g,E,H.value,w);if(ne===null){E===null&&(E=W);break}t&&E&&ne.alternate===null&&e(g,E),p=o(ne,p,R),b===null?N=ne:b.sibling=ne,b=ne,E=W}if(H.done)return r(g,E),we&&Ar(g,R),N;if(E===null){for(;!H.done;R++,H=m.next())H=h(g,H.value,w),H!==null&&(p=o(H,p,R),b===null?N=H:b.sibling=H,b=H);return we&&Ar(g,R),N}for(E=n(g,E);!H.done;R++,H=m.next())H=v(E,g,R,H.value,w),H!==null&&(t&&H.alternate!==null&&E.delete(H.key===null?R:H.key),p=o(H,p,R),b===null?N=H:b.sibling=H,b=H);return t&&E.forEach(function(fe){return e(g,fe)}),we&&Ar(g,R),N}function T(g,p,m,w){if(typeof m=="object"&&m!==null&&m.type===hn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Xs:e:{for(var N=m.key,b=p;b!==null;){if(b.key===N){if(N=m.type,N===hn){if(b.tag===7){r(g,b.sibling),p=s(b,m.props.children),p.return=g,g=p;break e}}else if(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===or&&su(N)===b.type){r(g,b.sibling),p=s(b,m.props),p.ref=Xn(g,b,m),p.return=g,g=p;break e}r(g,b);break}else e(g,b);b=b.sibling}m.type===hn?(p=Fr(m.props.children,g.mode,w,m.key),p.return=g,g=p):(w=To(m.type,m.key,m.props,null,g.mode,w),w.ref=Xn(g,p,m),w.return=g,g=w)}return i(g);case dn:e:{for(b=m.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else e(g,p);p=p.sibling}p=sa(m,g.mode,w),p.return=g,g=p}return i(g);case or:return b=m._init,T(g,p,b(m._payload),w)}if(os(m))return y(g,p,m,w);if(Gn(m))return k(g,p,m,w);co(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,m),p.return=g,g=p):(r(g,p),p=na(m,g.mode,w),p.return=g,g=p),i(g)):r(g,p)}return T}var An=wh(!0),xh=wh(!1),qo=Sr(null),Go=null,xn=null,Hl=null;function Vl(){Hl=xn=Go=null}function ql(t){var e=qo.current;ye(qo),t._currentValue=e}function qa(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Nn(t,e){Go=t,Hl=xn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(et=!0),t.firstContext=null)}function yt(t){var e=t._currentValue;if(Hl!==t)if(t={context:t,memoizedValue:e,next:null},xn===null){if(Go===null)throw Error(A(308));xn=t,Go.dependencies={lanes:0,firstContext:t}}else xn=xn.next=t;return e}var $r=null;function Gl(t){$r===null?$r=[t]:$r.push(t)}function kh(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Gl(e)):(r.next=s.next,s.next=r),e.interleaved=r,Qt(t,n)}function Qt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ir=!1;function Kl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _h(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ae&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Qt(t,r)}return s=n.interleaved,s===null?(e.next=e,Gl(n)):(e.next=s.next,s.next=e),n.interleaved=e,Qt(t,r)}function jo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Dl(t,r)}}function ou(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ko(t,e,r,n){var s=t.updateQueue;ir=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;i=0,d=u=c=null,l=o;do{var f=l.lane,v=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,k=l;switch(f=e,v=r,k.tag){case 1:if(y=k.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=k.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=be({},h,f);break e;case 2:ir=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=h):d=d.next=v,i|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Vr|=i,t.lanes=i,t.memoizedState=h}}function iu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(A(191,s));s.call(n)}}}var qs={},$t=Sr(qs),Rs=Sr(qs),Ls=Sr(qs);function zr(t){if(t===qs)throw Error(A(174));return t}function Ql(t,e){switch(me(Ls,e),me(Rs,t),me($t,qs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ca(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ca(e,t)}ye($t),me($t,e)}function Dn(){ye($t),ye(Rs),ye(Ls)}function bh(t){zr(Ls.current);var e=zr($t.current),r=Ca(e,t.type);e!==r&&(me(Rs,t),me($t,r))}function Yl(t){Rs.current===t&&(ye($t),ye(Rs))}var ke=Sr(0);function Qo(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ji=[];function Jl(){for(var t=0;t<Ji.length;t++)Ji[t]._workInProgressVersionPrimary=null;Ji.length=0}var Co=Jt.ReactCurrentDispatcher,Xi=Jt.ReactCurrentBatchConfig,Hr=0,_e=null,De=null,Me=null,Yo=!1,ps=!1,Ms=0,Ym=0;function Be(){throw Error(A(321))}function Xl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ot(t[r],e[r]))return!1;return!0}function Zl(t,e,r,n,s,o){if(Hr=o,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Co.current=t===null||t.memoizedState===null?eg:tg,t=r(n,s),ps){o=0;do{if(ps=!1,Ms=0,25<=o)throw Error(A(301));o+=1,Me=De=null,e.updateQueue=null,Co.current=rg,t=r(n,s)}while(ps)}if(Co.current=Jo,e=De!==null&&De.next!==null,Hr=0,Me=De=_e=null,Yo=!1,e)throw Error(A(300));return t}function ec(){var t=Ms!==0;return Ms=0,t}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?_e.memoizedState=Me=t:Me=Me.next=t,Me}function vt(){if(De===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=Me===null?_e.memoizedState:Me.next;if(e!==null)Me=e,De=t;else{if(t===null)throw Error(A(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Me===null?_e.memoizedState=Me=t:Me=Me.next=t}return Me}function Is(t,e){return typeof e=="function"?e(t):e}function Zi(t){var e=vt(),r=e.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=t;var n=De,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Hr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,i=n):c=c.next=h,_e.lanes|=d,Vr|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Ot(n,e.memoizedState)||(et=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do o=s.lane,_e.lanes|=o,Vr|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ea(t){var e=vt(),r=e.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);Ot(o,e.memoizedState)||(et=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function Sh(){}function jh(t,e){var r=_e,n=vt(),s=e(),o=!Ot(n.memoizedState,s);if(o&&(n.memoizedState=s,et=!0),n=n.queue,tc(Eh.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Me!==null&&Me.memoizedState.tag&1){if(r.flags|=2048,$s(9,Nh.bind(null,r,n,s,e),void 0,null),Ie===null)throw Error(A(349));Hr&30||Ch(r,e,s)}return s}function Ch(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Nh(t,e,r,n){e.value=r,e.getSnapshot=n,Oh(e)&&Ph(t)}function Eh(t,e,r){return r(function(){Oh(e)&&Ph(t)})}function Oh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ot(t,r)}catch{return!0}}function Ph(t){var e=Qt(t,1);e!==null&&Nt(e,t,1,-1)}function au(t){var e=Rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:t},e.queue=t,t=t.dispatch=Zm.bind(null,_e,t),[e.memoizedState,t]}function $s(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Th(){return vt().memoizedState}function No(t,e,r,n){var s=Rt();_e.flags|=t,s.memoizedState=$s(1|e,r,void 0,n===void 0?null:n)}function yi(t,e,r,n){var s=vt();n=n===void 0?null:n;var o=void 0;if(De!==null){var i=De.memoizedState;if(o=i.destroy,n!==null&&Xl(n,i.deps)){s.memoizedState=$s(e,r,o,n);return}}_e.flags|=t,s.memoizedState=$s(1|e,r,o,n)}function lu(t,e){return No(8390656,8,t,e)}function tc(t,e){return yi(2048,8,t,e)}function Ah(t,e){return yi(4,2,t,e)}function Dh(t,e){return yi(4,4,t,e)}function Rh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Lh(t,e,r){return r=r!=null?r.concat([t]):null,yi(4,4,Rh.bind(null,e,t),r)}function rc(){}function Mh(t,e){var r=vt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Xl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Ih(t,e){var r=vt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Xl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function $h(t,e,r){return Hr&21?(Ot(r,e)||(r=Wd(),_e.lanes|=r,Vr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,et=!0),t.memoizedState=r)}function Jm(t,e){var r=he;he=r!==0&&4>r?r:4,t(!0);var n=Xi.transition;Xi.transition={};try{t(!1),e()}finally{he=r,Xi.transition=n}}function zh(){return vt().memoizedState}function Xm(t,e,r){var n=vr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Uh(t))Fh(e,r);else if(r=kh(t,e,r,n),r!==null){var s=Qe();Nt(r,t,n,s),Bh(r,e,n)}}function Zm(t,e,r){var n=vr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Uh(t))Fh(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,Ot(l,i)){var c=e.interleaved;c===null?(s.next=s,Gl(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=kh(t,e,s,n),r!==null&&(s=Qe(),Nt(r,t,n,s),Bh(r,e,n))}}function Uh(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function Fh(t,e){ps=Yo=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Bh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Dl(t,r)}}var Jo={readContext:yt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},eg={readContext:yt,useCallback:function(t,e){return Rt().memoizedState=[t,e===void 0?null:e],t},useContext:yt,useEffect:lu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,No(4194308,4,Rh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return No(4194308,4,t,e)},useInsertionEffect:function(t,e){return No(4,2,t,e)},useMemo:function(t,e){var r=Rt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Rt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Xm.bind(null,_e,t),[n.memoizedState,t]},useRef:function(t){var e=Rt();return t={current:t},e.memoizedState=t},useState:au,useDebugValue:rc,useDeferredValue:function(t){return Rt().memoizedState=t},useTransition:function(){var t=au(!1),e=t[0];return t=Jm.bind(null,t[1]),Rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_e,s=Rt();if(we){if(r===void 0)throw Error(A(407));r=r()}else{if(r=e(),Ie===null)throw Error(A(349));Hr&30||Ch(n,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,lu(Eh.bind(null,n,o,t),[t]),n.flags|=2048,$s(9,Nh.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Rt(),e=Ie.identifierPrefix;if(we){var r=Vt,n=Ht;r=(n&~(1<<32-Ct(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ms++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Ym++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tg={readContext:yt,useCallback:Mh,useContext:yt,useEffect:tc,useImperativeHandle:Lh,useInsertionEffect:Ah,useLayoutEffect:Dh,useMemo:Ih,useReducer:Zi,useRef:Th,useState:function(){return Zi(Is)},useDebugValue:rc,useDeferredValue:function(t){var e=vt();return $h(e,De.memoizedState,t)},useTransition:function(){var t=Zi(Is)[0],e=vt().memoizedState;return[t,e]},useMutableSource:Sh,useSyncExternalStore:jh,useId:zh,unstable_isNewReconciler:!1},rg={readContext:yt,useCallback:Mh,useContext:yt,useEffect:tc,useImperativeHandle:Lh,useInsertionEffect:Ah,useLayoutEffect:Dh,useMemo:Ih,useReducer:ea,useRef:Th,useState:function(){return ea(Is)},useDebugValue:rc,useDeferredValue:function(t){var e=vt();return De===null?e.memoizedState=t:$h(e,De.memoizedState,t)},useTransition:function(){var t=ea(Is)[0],e=vt().memoizedState;return[t,e]},useMutableSource:Sh,useSyncExternalStore:jh,useId:zh,unstable_isNewReconciler:!1};function kt(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ga(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:be({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vi={isMounted:function(t){return(t=t._reactInternals)?Kr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Qe(),s=vr(t),o=qt(n,s);o.payload=e,r!=null&&(o.callback=r),e=gr(t,o,s),e!==null&&(Nt(e,t,s,n),jo(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Qe(),s=vr(t),o=qt(n,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=gr(t,o,s),e!==null&&(Nt(e,t,s,n),jo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Qe(),n=vr(t),s=qt(r,n);s.tag=2,e!=null&&(s.callback=e),e=gr(t,s,n),e!==null&&(Nt(e,t,n,r),jo(e,t,n))}};function cu(t,e,r,n,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,i):e.prototype&&e.prototype.isPureReactComponent?!Ps(r,n)||!Ps(s,o):!0}function Wh(t,e,r){var n=!1,s=kr,o=e.contextType;return typeof o=="object"&&o!==null?o=yt(o):(s=rt(e)?Br:Ve.current,n=e.contextTypes,o=(n=n!=null)?Pn(t,s):kr),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function uu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&vi.enqueueReplaceState(e,e.state,null)}function Ka(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Kl(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=yt(o):(o=rt(e)?Br:Ve.current,s.context=Pn(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ga(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&vi.enqueueReplaceState(s,s.state,null),Ko(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Rn(t,e){try{var r="",n=e;do r+=Pp(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function ta(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Qa(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ng=typeof WeakMap=="function"?WeakMap:Map;function Hh(t,e,r){r=qt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Zo||(Zo=!0,ol=n),Qa(t,e)},r}function Vh(t,e,r){r=qt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Qa(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Qa(t,e),typeof n!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function du(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ng;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=yg.bind(null,t,e,r),e.then(t,t))}function hu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=qt(-1,1),e.tag=2,gr(r,e,1))),r.lanes|=1),t)}var sg=Jt.ReactCurrentOwner,et=!1;function Ge(t,e,r,n){e.child=t===null?xh(e,null,r,n):An(e,t.child,r,n)}function pu(t,e,r,n,s){r=r.render;var o=e.ref;return Nn(e,s),n=Zl(t,e,r,n,o,s),r=ec(),t!==null&&!et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Yt(t,e,s)):(we&&r&&Fl(e),e.flags|=1,Ge(t,e,n,s),e.child)}function mu(t,e,r,n,s){if(t===null){var o=r.type;return typeof o=="function"&&!uc(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,qh(t,e,o,n,s)):(t=To(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ps,r(i,n)&&t.ref===e.ref)return Yt(t,e,s)}return e.flags|=1,t=wr(o,n),t.ref=e.ref,t.return=e,e.child=t}function qh(t,e,r,n,s){if(t!==null){var o=t.memoizedProps;if(Ps(o,n)&&t.ref===e.ref)if(et=!1,e.pendingProps=n=o,(t.lanes&s)!==0)t.flags&131072&&(et=!0);else return e.lanes=t.lanes,Yt(t,e,s)}return Ya(t,e,r,n,s)}function Gh(t,e,r){var n=e.pendingProps,s=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(_n,ot),ot|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(_n,ot),ot|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,me(_n,ot),ot|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,me(_n,ot),ot|=n;return Ge(t,e,s,r),e.child}function Kh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ya(t,e,r,n,s){var o=rt(r)?Br:Ve.current;return o=Pn(e,o),Nn(e,s),r=Zl(t,e,r,n,o,s),n=ec(),t!==null&&!et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Yt(t,e,s)):(we&&n&&Fl(e),e.flags|=1,Ge(t,e,r,s),e.child)}function gu(t,e,r,n,s){if(rt(r)){var o=!0;Wo(e)}else o=!1;if(Nn(e,s),e.stateNode===null)Eo(t,e),Wh(e,r,n),Ka(e,r,n,s),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=yt(u):(u=rt(r)?Br:Ve.current,u=Pn(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&uu(e,i,n,u),ir=!1;var f=e.memoizedState;i.state=f,Ko(e,n,i,s),c=e.memoizedState,l!==n||f!==c||tt.current||ir?(typeof d=="function"&&(Ga(e,r,d,n),c=e.memoizedState),(l=ir||cu(e,r,l,n,f,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,_h(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:kt(e.type,l),i.props=u,h=e.pendingProps,f=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=yt(c):(c=rt(r)?Br:Ve.current,c=Pn(e,c));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||f!==c)&&uu(e,i,n,c),ir=!1,f=e.memoizedState,i.state=f,Ko(e,n,i,s);var y=e.memoizedState;l!==h||f!==y||tt.current||ir?(typeof v=="function"&&(Ga(e,r,v,n),y=e.memoizedState),(u=ir||cu(e,r,u,n,f,y,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),i.props=n,i.state=y,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Ja(t,e,r,n,o,s)}function Ja(t,e,r,n,s,o){Kh(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return s&&tu(e,r,!1),Yt(t,e,o);n=e.stateNode,sg.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=An(e,t.child,null,o),e.child=An(e,null,l,o)):Ge(t,e,l,o),e.memoizedState=n.state,s&&tu(e,r,!0),e.child}function Qh(t){var e=t.stateNode;e.pendingContext?eu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eu(t,e.context,!1),Ql(t,e.containerInfo)}function yu(t,e,r,n,s){return Tn(),Wl(s),e.flags|=256,Ge(t,e,r,n),e.child}var Xa={dehydrated:null,treeContext:null,retryLane:0};function Za(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yh(t,e,r){var n=e.pendingProps,s=ke.current,o=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),me(ke,s&1),t===null)return Va(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,o?(n=e.mode,o=e.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=ki(i,n,0,null),t=Fr(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Za(r),e.memoizedState=Xa,t):nc(e,i));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return og(t,e,i,n,l,s,r);if(o){o=n.fallback,i=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=wr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=wr(l,o):(o=Fr(o,i,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,i=t.child.memoizedState,i=i===null?Za(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~r,e.memoizedState=Xa,n}return o=t.child,t=o.sibling,n=wr(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function nc(t,e){return e=ki({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uo(t,e,r,n){return n!==null&&Wl(n),An(e,t.child,null,r),t=nc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function og(t,e,r,n,s,o,i){if(r)return e.flags&256?(e.flags&=-257,n=ta(Error(A(422))),uo(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,s=e.mode,n=ki({mode:"visible",children:n.children},s,0,null),o=Fr(o,s,i,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&An(e,t.child,null,i),e.child.memoizedState=Za(i),e.memoizedState=Xa,o);if(!(e.mode&1))return uo(t,e,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(A(419)),n=ta(o,n,void 0),uo(t,e,i,n)}if(l=(i&t.childLanes)!==0,et||l){if(n=Ie,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Qt(t,s),Nt(n,t,s,-1))}return cc(),n=ta(Error(A(421))),uo(t,e,i,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=vg.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,it=mr(s.nextSibling),at=e,we=!0,St=null,t!==null&&(ht[ft++]=Ht,ht[ft++]=Vt,ht[ft++]=Wr,Ht=t.id,Vt=t.overflow,Wr=e),e=nc(e,n.children),e.flags|=4096,e)}function vu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),qa(t.return,e,r)}function ra(t,e,r,n,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Jh(t,e,r){var n=e.pendingProps,s=n.revealOrder,o=n.tail;if(Ge(t,e,n.children,r),n=ke.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vu(t,r,e);else if(t.tag===19)vu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(me(ke,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Qo(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),ra(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Qo(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}ra(e,!0,r,null,o);break;case"together":ra(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Vr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,r=wr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=wr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ig(t,e,r){switch(e.tag){case 3:Qh(e),Tn();break;case 5:bh(e);break;case 1:rt(e.type)&&Wo(e);break;case 4:Ql(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;me(qo,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(me(ke,ke.current&1),e.flags|=128,null):r&e.child.childLanes?Yh(t,e,r):(me(ke,ke.current&1),t=Yt(t,e,r),t!==null?t.sibling:null);me(ke,ke.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Jh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(ke,ke.current),n)break;return null;case 22:case 23:return e.lanes=0,Gh(t,e,r)}return Yt(t,e,r)}var Xh,el,Zh,ef;Xh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};el=function(){};Zh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,zr($t.current);var o=null;switch(r){case"input":s=_a(t,s),n=_a(t,n),o=[];break;case"select":s=be({},s,{value:void 0}),n=be({},n,{value:void 0}),o=[];break;case"textarea":s=ja(t,s),n=ja(t,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Fo)}Na(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ge("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};ef=function(t,e,r,n){r!==n&&(e.flags|=4)};function Zn(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function We(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function ag(t,e,r){var n=e.pendingProps;switch(Bl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(e),null;case 1:return rt(e.type)&&Bo(),We(e),null;case 3:return n=e.stateNode,Dn(),ye(tt),ye(Ve),Jl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(lo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,St!==null&&(ll(St),St=null))),el(t,e),We(e),null;case 5:Yl(e);var s=zr(Ls.current);if(r=e.type,t!==null&&e.stateNode!=null)Zh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(A(166));return We(e),null}if(t=zr($t.current),lo(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Mt]=e,n[Ds]=o,t=(e.mode&1)!==0,r){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(s=0;s<as.length;s++)ge(as[s],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":Nc(n,o),ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ge("invalid",n);break;case"textarea":Oc(n,o),ge("invalid",n)}Na(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&ao(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ao(n.textContent,l,t),s=["children",""+l]):bs.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ge("scroll",n)}switch(r){case"input":Zs(n),Ec(n,o,!0);break;case"textarea":Zs(n),Pc(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Fo)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ed(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Mt]=e,t[Ds]=n,Xh(t,e,!1,!1),e.stateNode=t;e:{switch(i=Ea(r,n),r){case"dialog":ge("cancel",t),ge("close",t),s=n;break;case"iframe":case"object":case"embed":ge("load",t),s=n;break;case"video":case"audio":for(s=0;s<as.length;s++)ge(as[s],t);s=n;break;case"source":ge("error",t),s=n;break;case"img":case"image":case"link":ge("error",t),ge("load",t),s=n;break;case"details":ge("toggle",t),s=n;break;case"input":Nc(t,n),s=_a(t,n),ge("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=be({},n,{value:void 0}),ge("invalid",t);break;case"textarea":Oc(t,n),s=ja(t,n),ge("invalid",t);break;default:s=n}Na(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Td(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Od(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ss(t,c):typeof c=="number"&&Ss(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(bs.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ge("scroll",t):c!=null&&Nl(t,o,c,i))}switch(r){case"input":Zs(t),Ec(t,n,!1);break;case"textarea":Zs(t),Pc(t);break;case"option":n.value!=null&&t.setAttribute("value",""+xr(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?bn(t,!!n.multiple,o,!1):n.defaultValue!=null&&bn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Fo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return We(e),null;case 6:if(t&&e.stateNode!=null)ef(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(A(166));if(r=zr(Ls.current),zr($t.current),lo(e)){if(n=e.stateNode,r=e.memoizedProps,n[Mt]=e,(o=n.nodeValue!==r)&&(t=at,t!==null))switch(t.tag){case 3:ao(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ao(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mt]=e,e.stateNode=n}return We(e),null;case 13:if(ye(ke),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&it!==null&&e.mode&1&&!(e.flags&128))vh(),Tn(),e.flags|=98560,o=!1;else if(o=lo(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(A(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(A(317));o[Mt]=e}else Tn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;We(e),o=!1}else St!==null&&(ll(St),St=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Re===0&&(Re=3):cc())),e.updateQueue!==null&&(e.flags|=4),We(e),null);case 4:return Dn(),el(t,e),t===null&&Ts(e.stateNode.containerInfo),We(e),null;case 10:return ql(e.type._context),We(e),null;case 17:return rt(e.type)&&Bo(),We(e),null;case 19:if(ye(ke),o=e.memoizedState,o===null)return We(e),null;if(n=(e.flags&128)!==0,i=o.rendering,i===null)if(n)Zn(o,!1);else{if(Re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Qo(t),i!==null){for(e.flags|=128,Zn(o,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return me(ke,ke.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ce()>Ln&&(e.flags|=128,n=!0,Zn(o,!1),e.lanes=4194304)}else{if(!n)if(t=Qo(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Zn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!we)return We(e),null}else 2*Ce()-o.renderingStartTime>Ln&&r!==1073741824&&(e.flags|=128,n=!0,Zn(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(r=o.last,r!==null?r.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ce(),e.sibling=null,r=ke.current,me(ke,n?r&1|2:r&1),e):(We(e),null);case 22:case 23:return lc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ot&1073741824&&(We(e),e.subtreeFlags&6&&(e.flags|=8192)):We(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function lg(t,e){switch(Bl(e),e.tag){case 1:return rt(e.type)&&Bo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dn(),ye(tt),ye(Ve),Jl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yl(e),null;case 13:if(ye(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));Tn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(ke),null;case 4:return Dn(),null;case 10:return ql(e.type._context),null;case 22:case 23:return lc(),null;case 24:return null;default:return null}}var ho=!1,He=!1,cg=typeof WeakSet=="function"?WeakSet:Set,$=null;function kn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Se(t,e,n)}else r.current=null}function tl(t,e,r){try{r()}catch(n){Se(t,e,n)}}var wu=!1;function ug(t,e){if($a=$o,t=oh(),Ul(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(l=i+s),h!==o||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===r&&++u===s&&(l=i),f===o&&++d===n&&(c=i),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(za={focusedElem:t,selectionRange:r},$o=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var k=y.memoizedProps,T=y.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?k:kt(e.type,k),T);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(w){Se(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return y=wu,wu=!1,y}function ms(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&tl(e,r,o)}s=s.next}while(s!==n)}}function wi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function rl(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function tf(t){var e=t.alternate;e!==null&&(t.alternate=null,tf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mt],delete e[Ds],delete e[Ba],delete e[qm],delete e[Gm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rf(t){return t.tag===5||t.tag===3||t.tag===4}function xu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Fo));else if(n!==4&&(t=t.child,t!==null))for(nl(t,e,r),t=t.sibling;t!==null;)nl(t,e,r),t=t.sibling}function sl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(sl(t,e,r),t=t.sibling;t!==null;)sl(t,e,r),t=t.sibling}var ze=null,_t=!1;function tr(t,e,r){for(r=r.child;r!==null;)nf(t,e,r),r=r.sibling}function nf(t,e,r){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(di,r)}catch{}switch(r.tag){case 5:He||kn(r,e);case 6:var n=ze,s=_t;ze=null,tr(t,e,r),ze=n,_t=s,ze!==null&&(_t?(t=ze,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ze.removeChild(r.stateNode));break;case 18:ze!==null&&(_t?(t=ze,r=r.stateNode,t.nodeType===8?Qi(t.parentNode,r):t.nodeType===1&&Qi(t,r),Es(t)):Qi(ze,r.stateNode));break;case 4:n=ze,s=_t,ze=r.stateNode.containerInfo,_t=!0,tr(t,e,r),ze=n,_t=s;break;case 0:case 11:case 14:case 15:if(!He&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&tl(r,e,i),s=s.next}while(s!==n)}tr(t,e,r);break;case 1:if(!He&&(kn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Se(r,e,l)}tr(t,e,r);break;case 21:tr(t,e,r);break;case 22:r.mode&1?(He=(n=He)||r.memoizedState!==null,tr(t,e,r),He=n):tr(t,e,r);break;default:tr(t,e,r)}}function ku(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new cg),e.forEach(function(n){var s=wg.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function wt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:ze=l.stateNode,_t=!1;break e;case 3:ze=l.stateNode.containerInfo,_t=!0;break e;case 4:ze=l.stateNode.containerInfo,_t=!0;break e}l=l.return}if(ze===null)throw Error(A(160));nf(o,i,s),ze=null,_t=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Se(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sf(e,t),e=e.sibling}function sf(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wt(e,t),Dt(t),n&4){try{ms(3,t,t.return),wi(3,t)}catch(k){Se(t,t.return,k)}try{ms(5,t,t.return)}catch(k){Se(t,t.return,k)}}break;case 1:wt(e,t),Dt(t),n&512&&r!==null&&kn(r,r.return);break;case 5:if(wt(e,t),Dt(t),n&512&&r!==null&&kn(r,r.return),t.flags&32){var s=t.stateNode;try{Ss(s,"")}catch(k){Se(t,t.return,k)}}if(n&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=r!==null?r.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Cd(s,o),Ea(l,i);var u=Ea(l,o);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];d==="style"?Td(s,h):d==="dangerouslySetInnerHTML"?Od(s,h):d==="children"?Ss(s,h):Nl(s,d,h,u)}switch(l){case"input":ba(s,o);break;case"textarea":Nd(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?bn(s,!!o.multiple,v,!1):f!==!!o.multiple&&(o.defaultValue!=null?bn(s,!!o.multiple,o.defaultValue,!0):bn(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ds]=o}catch(k){Se(t,t.return,k)}}break;case 6:if(wt(e,t),Dt(t),n&4){if(t.stateNode===null)throw Error(A(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(k){Se(t,t.return,k)}}break;case 3:if(wt(e,t),Dt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Es(e.containerInfo)}catch(k){Se(t,t.return,k)}break;case 4:wt(e,t),Dt(t);break;case 13:wt(e,t),Dt(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(ic=Ce())),n&4&&ku(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(He=(u=He)||d,wt(e,t),He=u):wt(e,t),Dt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for($=t,d=t.child;d!==null;){for(h=$=d;$!==null;){switch(f=$,v=f.child,f.tag){case 0:case 11:case 14:case 15:ms(4,f,f.return);break;case 1:kn(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(k){Se(n,r,k)}}break;case 5:kn(f,f.return);break;case 22:if(f.memoizedState!==null){bu(h);continue}}v!==null?(v.return=f,$=v):bu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Pd("display",i))}catch(k){Se(t,t.return,k)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(k){Se(t,t.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wt(e,t),Dt(t),n&4&&ku(t);break;case 21:break;default:wt(e,t),Dt(t)}}function Dt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(rf(r)){var n=r;break e}r=r.return}throw Error(A(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ss(s,""),n.flags&=-33);var o=xu(t);sl(t,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=xu(t);nl(t,l,i);break;default:throw Error(A(161))}}catch(c){Se(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dg(t,e,r){$=t,of(t)}function of(t,e,r){for(var n=(t.mode&1)!==0;$!==null;){var s=$,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||ho;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||He;l=ho;var u=He;if(ho=i,(He=c)&&!u)for($=s;$!==null;)i=$,c=i.child,i.tag===22&&i.memoizedState!==null?Su(s):c!==null?(c.return=i,$=c):Su(s);for(;o!==null;)$=o,of(o),o=o.sibling;$=s,ho=l,He=u}_u(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,$=o):_u(t)}}function _u(t){for(;$!==null;){var e=$;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:He||wi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!He)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:kt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&iu(e,o,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}iu(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Es(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}He||e.flags&512&&rl(e)}catch(f){Se(e,e.return,f)}}if(e===t){$=null;break}if(r=e.sibling,r!==null){r.return=e.return,$=r;break}$=e.return}}function bu(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var r=e.sibling;if(r!==null){r.return=e.return,$=r;break}$=e.return}}function Su(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{wi(4,e)}catch(c){Se(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Se(e,s,c)}}var o=e.return;try{rl(e)}catch(c){Se(e,o,c)}break;case 5:var i=e.return;try{rl(e)}catch(c){Se(e,i,c)}}}catch(c){Se(e,e.return,c)}if(e===t){$=null;break}var l=e.sibling;if(l!==null){l.return=e.return,$=l;break}$=e.return}}var hg=Math.ceil,Xo=Jt.ReactCurrentDispatcher,sc=Jt.ReactCurrentOwner,mt=Jt.ReactCurrentBatchConfig,ae=0,Ie=null,Ee=null,Ue=0,ot=0,_n=Sr(0),Re=0,zs=null,Vr=0,xi=0,oc=0,gs=null,Xe=null,ic=0,Ln=1/0,Ft=null,Zo=!1,ol=null,yr=null,fo=!1,dr=null,ei=0,ys=0,il=null,Oo=-1,Po=0;function Qe(){return ae&6?Ce():Oo!==-1?Oo:Oo=Ce()}function vr(t){return t.mode&1?ae&2&&Ue!==0?Ue&-Ue:Qm.transition!==null?(Po===0&&(Po=Wd()),Po):(t=he,t!==0||(t=window.event,t=t===void 0?16:Yd(t.type)),t):1}function Nt(t,e,r,n){if(50<ys)throw ys=0,il=null,Error(A(185));Ws(t,r,n),(!(ae&2)||t!==Ie)&&(t===Ie&&(!(ae&2)&&(xi|=r),Re===4&&lr(t,Ue)),nt(t,n),r===1&&ae===0&&!(e.mode&1)&&(Ln=Ce()+500,gi&&jr()))}function nt(t,e){var r=t.callbackNode;Qp(t,e);var n=Io(t,t===Ie?Ue:0);if(n===0)r!==null&&Dc(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Dc(r),e===1)t.tag===0?Km(ju.bind(null,t)):mh(ju.bind(null,t)),Hm(function(){!(ae&6)&&jr()}),r=null;else{switch(Hd(n)){case 1:r=Al;break;case 4:r=Fd;break;case 16:r=Mo;break;case 536870912:r=Bd;break;default:r=Mo}r=pf(r,af.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function af(t,e){if(Oo=-1,Po=0,ae&6)throw Error(A(327));var r=t.callbackNode;if(En()&&t.callbackNode!==r)return null;var n=Io(t,t===Ie?Ue:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ti(t,n);else{e=n;var s=ae;ae|=2;var o=cf();(Ie!==t||Ue!==e)&&(Ft=null,Ln=Ce()+500,Ur(t,e));do try{mg();break}catch(l){lf(t,l)}while(!0);Vl(),Xo.current=o,ae=s,Ee!==null?e=0:(Ie=null,Ue=0,e=Re)}if(e!==0){if(e===2&&(s=Da(t),s!==0&&(n=s,e=al(t,s))),e===1)throw r=zs,Ur(t,0),lr(t,n),nt(t,Ce()),r;if(e===6)lr(t,n);else{if(s=t.current.alternate,!(n&30)&&!fg(s)&&(e=ti(t,n),e===2&&(o=Da(t),o!==0&&(n=o,e=al(t,o))),e===1))throw r=zs,Ur(t,0),lr(t,n),nt(t,Ce()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(A(345));case 2:Dr(t,Xe,Ft);break;case 3:if(lr(t,n),(n&130023424)===n&&(e=ic+500-Ce(),10<e)){if(Io(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Qe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Fa(Dr.bind(null,t,Xe,Ft),e);break}Dr(t,Xe,Ft);break;case 4:if(lr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var i=31-Ct(n);o=1<<i,i=e[i],i>s&&(s=i),n&=~o}if(n=s,n=Ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hg(n/1960))-n,10<n){t.timeoutHandle=Fa(Dr.bind(null,t,Xe,Ft),n);break}Dr(t,Xe,Ft);break;case 5:Dr(t,Xe,Ft);break;default:throw Error(A(329))}}}return nt(t,Ce()),t.callbackNode===r?af.bind(null,t):null}function al(t,e){var r=gs;return t.current.memoizedState.isDehydrated&&(Ur(t,e).flags|=256),t=ti(t,e),t!==2&&(e=Xe,Xe=r,e!==null&&ll(e)),t}function ll(t){Xe===null?Xe=t:Xe.push.apply(Xe,t)}function fg(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Ot(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lr(t,e){for(e&=~oc,e&=~xi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ct(e),n=1<<r;t[r]=-1,e&=~n}}function ju(t){if(ae&6)throw Error(A(327));En();var e=Io(t,0);if(!(e&1))return nt(t,Ce()),null;var r=ti(t,e);if(t.tag!==0&&r===2){var n=Da(t);n!==0&&(e=n,r=al(t,n))}if(r===1)throw r=zs,Ur(t,0),lr(t,e),nt(t,Ce()),r;if(r===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Dr(t,Xe,Ft),nt(t,Ce()),null}function ac(t,e){var r=ae;ae|=1;try{return t(e)}finally{ae=r,ae===0&&(Ln=Ce()+500,gi&&jr())}}function qr(t){dr!==null&&dr.tag===0&&!(ae&6)&&En();var e=ae;ae|=1;var r=mt.transition,n=he;try{if(mt.transition=null,he=1,t)return t()}finally{he=n,mt.transition=r,ae=e,!(ae&6)&&jr()}}function lc(){ot=_n.current,ye(_n)}function Ur(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Wm(r)),Ee!==null)for(r=Ee.return;r!==null;){var n=r;switch(Bl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bo();break;case 3:Dn(),ye(tt),ye(Ve),Jl();break;case 5:Yl(n);break;case 4:Dn();break;case 13:ye(ke);break;case 19:ye(ke);break;case 10:ql(n.type._context);break;case 22:case 23:lc()}r=r.return}if(Ie=t,Ee=t=wr(t.current,null),Ue=ot=e,Re=0,zs=null,oc=xi=Vr=0,Xe=gs=null,$r!==null){for(e=0;e<$r.length;e++)if(r=$r[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}$r=null}return t}function lf(t,e){do{var r=Ee;try{if(Vl(),Co.current=Jo,Yo){for(var n=_e.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Yo=!1}if(Hr=0,Me=De=_e=null,ps=!1,Ms=0,sc.current=null,r===null||r.return===null){Re=1,zs=e,Ee=null;break}e:{var o=t,i=r.return,l=r,c=e;if(e=Ue,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=hu(i);if(v!==null){v.flags&=-257,fu(v,i,l,o,e),v.mode&1&&du(o,u,e),e=v,c=u;var y=e.updateQueue;if(y===null){var k=new Set;k.add(c),e.updateQueue=k}else y.add(c);break e}else{if(!(e&1)){du(o,u,e),cc();break e}c=Error(A(426))}}else if(we&&l.mode&1){var T=hu(i);if(T!==null){!(T.flags&65536)&&(T.flags|=256),fu(T,i,l,o,e),Wl(Rn(c,l));break e}}o=c=Rn(c,l),Re!==4&&(Re=2),gs===null?gs=[o]:gs.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=Hh(o,c,e);ou(o,g);break e;case 1:l=c;var p=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(yr===null||!yr.has(m)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=Vh(o,l,e);ou(o,w);break e}}o=o.return}while(o!==null)}df(r)}catch(N){e=N,Ee===r&&r!==null&&(Ee=r=r.return);continue}break}while(!0)}function cf(){var t=Xo.current;return Xo.current=Jo,t===null?Jo:t}function cc(){(Re===0||Re===3||Re===2)&&(Re=4),Ie===null||!(Vr&268435455)&&!(xi&268435455)||lr(Ie,Ue)}function ti(t,e){var r=ae;ae|=2;var n=cf();(Ie!==t||Ue!==e)&&(Ft=null,Ur(t,e));do try{pg();break}catch(s){lf(t,s)}while(!0);if(Vl(),ae=r,Xo.current=n,Ee!==null)throw Error(A(261));return Ie=null,Ue=0,Re}function pg(){for(;Ee!==null;)uf(Ee)}function mg(){for(;Ee!==null&&!Up();)uf(Ee)}function uf(t){var e=ff(t.alternate,t,ot);t.memoizedProps=t.pendingProps,e===null?df(t):Ee=e,sc.current=null}function df(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=lg(r,e),r!==null){r.flags&=32767,Ee=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Re=6,Ee=null;return}}else if(r=ag(r,e,ot),r!==null){Ee=r;return}if(e=e.sibling,e!==null){Ee=e;return}Ee=e=t}while(e!==null);Re===0&&(Re=5)}function Dr(t,e,r){var n=he,s=mt.transition;try{mt.transition=null,he=1,gg(t,e,r,n)}finally{mt.transition=s,he=n}return null}function gg(t,e,r,n){do En();while(dr!==null);if(ae&6)throw Error(A(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(Yp(t,o),t===Ie&&(Ee=Ie=null,Ue=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fo||(fo=!0,pf(Mo,function(){return En(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=mt.transition,mt.transition=null;var i=he;he=1;var l=ae;ae|=4,sc.current=null,ug(t,r),sf(r,t),Mm(za),$o=!!$a,za=$a=null,t.current=r,dg(r),Fp(),ae=l,he=i,mt.transition=o}else t.current=r;if(fo&&(fo=!1,dr=t,ei=s),o=t.pendingLanes,o===0&&(yr=null),Hp(r.stateNode),nt(t,Ce()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Zo)throw Zo=!1,t=ol,ol=null,t;return ei&1&&t.tag!==0&&En(),o=t.pendingLanes,o&1?t===il?ys++:(ys=0,il=t):ys=0,jr(),null}function En(){if(dr!==null){var t=Hd(ei),e=mt.transition,r=he;try{if(mt.transition=null,he=16>t?16:t,dr===null)var n=!1;else{if(t=dr,dr=null,ei=0,ae&6)throw Error(A(331));var s=ae;for(ae|=4,$=t.current;$!==null;){var o=$,i=o.child;if($.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for($=u;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:ms(8,d,o)}var h=d.child;if(h!==null)h.return=d,$=h;else for(;$!==null;){d=$;var f=d.sibling,v=d.return;if(tf(d),d===u){$=null;break}if(f!==null){f.return=v,$=f;break}$=v}}}var y=o.alternate;if(y!==null){var k=y.child;if(k!==null){y.child=null;do{var T=k.sibling;k.sibling=null,k=T}while(k!==null)}}$=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,$=i;else e:for(;$!==null;){if(o=$,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ms(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,$=g;break e}$=o.return}}var p=t.current;for($=p;$!==null;){i=$;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,$=m;else e:for(i=p;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wi(9,l)}}catch(N){Se(l,l.return,N)}if(l===i){$=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,$=w;break e}$=l.return}}if(ae=s,jr(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(di,t)}catch{}n=!0}return n}finally{he=r,mt.transition=e}}return!1}function Cu(t,e,r){e=Rn(r,e),e=Hh(t,e,1),t=gr(t,e,1),e=Qe(),t!==null&&(Ws(t,1,e),nt(t,e))}function Se(t,e,r){if(t.tag===3)Cu(t,t,r);else for(;e!==null;){if(e.tag===3){Cu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yr===null||!yr.has(n))){t=Rn(r,t),t=Vh(e,t,1),e=gr(e,t,1),t=Qe(),e!==null&&(Ws(e,1,t),nt(e,t));break}}e=e.return}}function yg(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Qe(),t.pingedLanes|=t.suspendedLanes&r,Ie===t&&(Ue&r)===r&&(Re===4||Re===3&&(Ue&130023424)===Ue&&500>Ce()-ic?Ur(t,0):oc|=r),nt(t,e)}function hf(t,e){e===0&&(t.mode&1?(e=ro,ro<<=1,!(ro&130023424)&&(ro=4194304)):e=1);var r=Qe();t=Qt(t,e),t!==null&&(Ws(t,e,r),nt(t,r))}function vg(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),hf(t,r)}function wg(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(A(314))}n!==null&&n.delete(e),hf(t,r)}var ff;ff=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||tt.current)et=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return et=!1,ig(t,e,r);et=!!(t.flags&131072)}else et=!1,we&&e.flags&1048576&&gh(e,Vo,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Eo(t,e),t=e.pendingProps;var s=Pn(e,Ve.current);Nn(e,r),s=Zl(null,e,n,t,s,r);var o=ec();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rt(n)?(o=!0,Wo(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Kl(e),s.updater=vi,e.stateNode=s,s._reactInternals=e,Ka(e,n,t,r),e=Ja(null,e,n,!0,o,r)):(e.tag=0,we&&o&&Fl(e),Ge(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Eo(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=kg(n),t=kt(n,t),s){case 0:e=Ya(null,e,n,t,r);break e;case 1:e=gu(null,e,n,t,r);break e;case 11:e=pu(null,e,n,t,r);break e;case 14:e=mu(null,e,n,kt(n.type,t),r);break e}throw Error(A(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:kt(n,s),Ya(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:kt(n,s),gu(t,e,n,s,r);case 3:e:{if(Qh(e),t===null)throw Error(A(387));n=e.pendingProps,o=e.memoizedState,s=o.element,_h(t,e),Ko(e,n,null,r);var i=e.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Rn(Error(A(423)),e),e=yu(t,e,n,r,s);break e}else if(n!==s){s=Rn(Error(A(424)),e),e=yu(t,e,n,r,s);break e}else for(it=mr(e.stateNode.containerInfo.firstChild),at=e,we=!0,St=null,r=xh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Tn(),n===s){e=Yt(t,e,r);break e}Ge(t,e,n,r)}e=e.child}return e;case 5:return bh(e),t===null&&Va(e),n=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,Ua(n,s)?i=null:o!==null&&Ua(n,o)&&(e.flags|=32),Kh(t,e),Ge(t,e,i,r),e.child;case 6:return t===null&&Va(e),null;case 13:return Yh(t,e,r);case 4:return Ql(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=An(e,null,n,r):Ge(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:kt(n,s),pu(t,e,n,s,r);case 7:return Ge(t,e,e.pendingProps,r),e.child;case 8:return Ge(t,e,e.pendingProps.children,r),e.child;case 12:return Ge(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,me(qo,n._currentValue),n._currentValue=i,o!==null)if(Ot(o.value,i)){if(o.children===s.children&&!tt.current){e=Yt(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=qt(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),qa(o.return,r,e),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(A(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),qa(i,r,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Ge(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Nn(e,r),s=yt(s),n=n(s),e.flags|=1,Ge(t,e,n,r),e.child;case 14:return n=e.type,s=kt(n,e.pendingProps),s=kt(n.type,s),mu(t,e,n,s,r);case 15:return qh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:kt(n,s),Eo(t,e),e.tag=1,rt(n)?(t=!0,Wo(e)):t=!1,Nn(e,r),Wh(e,n,s),Ka(e,n,s,r),Ja(null,e,n,!0,t,r);case 19:return Jh(t,e,r);case 22:return Gh(t,e,r)}throw Error(A(156,e.tag))};function pf(t,e){return Ud(t,e)}function xg(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(t,e,r,n){return new xg(t,e,r,n)}function uc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kg(t){if(typeof t=="function")return uc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ol)return 11;if(t===Pl)return 14}return 2}function wr(t,e){var r=t.alternate;return r===null?(r=pt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function To(t,e,r,n,s,o){var i=2;if(n=t,typeof t=="function")uc(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case hn:return Fr(r.children,s,o,e);case El:i=8,s|=8;break;case va:return t=pt(12,r,e,s|2),t.elementType=va,t.lanes=o,t;case wa:return t=pt(13,r,e,s),t.elementType=wa,t.lanes=o,t;case xa:return t=pt(19,r,e,s),t.elementType=xa,t.lanes=o,t;case bd:return ki(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kd:i=10;break e;case _d:i=9;break e;case Ol:i=11;break e;case Pl:i=14;break e;case or:i=16,n=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=pt(i,r,e,s),e.elementType=t,e.type=n,e.lanes=o,e}function Fr(t,e,r,n){return t=pt(7,t,n,e),t.lanes=r,t}function ki(t,e,r,n){return t=pt(22,t,n,e),t.elementType=bd,t.lanes=r,t.stateNode={isHidden:!1},t}function na(t,e,r){return t=pt(6,t,null,e),t.lanes=r,t}function sa(t,e,r){return e=pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _g(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$i(0),this.expirationTimes=$i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dc(t,e,r,n,s,o,i,l,c){return t=new _g(t,e,r,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=pt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kl(o),t}function bg(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function mf(t){if(!t)return kr;t=t._reactInternals;e:{if(Kr(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var r=t.type;if(rt(r))return ph(t,r,e)}return e}function gf(t,e,r,n,s,o,i,l,c){return t=dc(r,n,!0,t,s,o,i,l,c),t.context=mf(null),r=t.current,n=Qe(),s=vr(r),o=qt(n,s),o.callback=e??null,gr(r,o,s),t.current.lanes=s,Ws(t,s,n),nt(t,n),t}function _i(t,e,r,n){var s=e.current,o=Qe(),i=vr(s);return r=mf(r),e.context===null?e.context=r:e.pendingContext=r,e=qt(o,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=gr(s,e,i),t!==null&&(Nt(t,s,i,o),jo(t,s,i)),i}function ri(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function hc(t,e){Nu(t,e),(t=t.alternate)&&Nu(t,e)}function Sg(){return null}var yf=typeof reportError=="function"?reportError:function(t){console.error(t)};function fc(t){this._internalRoot=t}bi.prototype.render=fc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));_i(t,e,null,null)};bi.prototype.unmount=fc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qr(function(){_i(null,t,null,null)}),e[Kt]=null}};function bi(t){this._internalRoot=t}bi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ar.length&&e!==0&&e<ar[r].priority;r++);ar.splice(r,0,t),r===0&&Qd(t)}};function pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Si(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Eu(){}function jg(t,e,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=ri(i);o.call(u)}}var i=gf(e,n,t,0,null,!1,!1,"",Eu);return t._reactRootContainer=i,t[Kt]=i.current,Ts(t.nodeType===8?t.parentNode:t),qr(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ri(c);l.call(u)}}var c=dc(t,0,!1,null,null,!1,!1,"",Eu);return t._reactRootContainer=c,t[Kt]=c.current,Ts(t.nodeType===8?t.parentNode:t),qr(function(){_i(e,c,r,n)}),c}function ji(t,e,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=ri(i);l.call(c)}}_i(e,i,t,s)}else i=jg(r,e,t,s,n);return ri(i)}Vd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=is(e.pendingLanes);r!==0&&(Dl(e,r|1),nt(e,Ce()),!(ae&6)&&(Ln=Ce()+500,jr()))}break;case 13:qr(function(){var n=Qt(t,1);if(n!==null){var s=Qe();Nt(n,t,1,s)}}),hc(t,1)}};Rl=function(t){if(t.tag===13){var e=Qt(t,134217728);if(e!==null){var r=Qe();Nt(e,t,134217728,r)}hc(t,134217728)}};qd=function(t){if(t.tag===13){var e=vr(t),r=Qt(t,e);if(r!==null){var n=Qe();Nt(r,t,e,n)}hc(t,e)}};Gd=function(){return he};Kd=function(t,e){var r=he;try{return he=t,e()}finally{he=r}};Pa=function(t,e,r){switch(e){case"input":if(ba(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=mi(n);if(!s)throw Error(A(90));jd(n),ba(n,s)}}}break;case"textarea":Nd(t,r);break;case"select":e=r.value,e!=null&&bn(t,!!r.multiple,e,!1)}};Rd=ac;Ld=qr;var Cg={usingClientEntryPoint:!1,Events:[Vs,gn,mi,Ad,Dd,ac]},es={findFiberByHostInstance:Ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ng={bundleType:es.bundleType,version:es.version,rendererPackageName:es.rendererPackageName,rendererConfig:es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$d(t),t===null?null:t.stateNode},findFiberByHostInstance:es.findFiberByHostInstance||Sg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{di=po.inject(Ng),It=po}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cg;ut.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pc(e))throw Error(A(200));return bg(t,e,null,r)};ut.createRoot=function(t,e){if(!pc(t))throw Error(A(299));var r=!1,n="",s=yf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=dc(t,1,!1,null,null,r,!1,n,s),t[Kt]=e.current,Ts(t.nodeType===8?t.parentNode:t),new fc(e)};ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=$d(e),t=t===null?null:t.stateNode,t};ut.flushSync=function(t){return qr(t)};ut.hydrate=function(t,e,r){if(!Si(e))throw Error(A(200));return ji(null,t,e,!0,r)};ut.hydrateRoot=function(t,e,r){if(!pc(t))throw Error(A(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=yf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=gf(e,null,t,1,r??null,s,!1,o,i),t[Kt]=e.current,Ts(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new bi(e)};ut.render=function(t,e,r){if(!Si(e))throw Error(A(200));return ji(null,t,e,!1,r)};ut.unmountComponentAtNode=function(t){if(!Si(t))throw Error(A(40));return t._reactRootContainer?(qr(function(){ji(null,null,t,!1,function(){t._reactRootContainer=null,t[Kt]=null})}),!0):!1};ut.unstable_batchedUpdates=ac;ut.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Si(r))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return ji(t,e,r,!1,n)};ut.version="18.3.1-next-f1338f8080-20240426";function vf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vf)}catch(t){console.error(t)}}vf(),yd.exports=ut;var wf=yd.exports,xf,Ou=wf;xf=Ou.createRoot,Ou.hydrateRoot;const Eg="modulepreload",Og=function(t){return"/subscriber-portal/"+t},Pu={},Gs=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Og(c),c in Pu)return;Pu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Eg,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},Pg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Gs(async()=>{const{default:n}=await Promise.resolve().then(()=>Un);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class mc extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Tg extends mc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Tu extends mc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Au extends mc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(cl||(cl={}));var Ag=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Dg{constructor(e,{headers:r={},customFetch:n,region:s=cl.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Pg(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Ag(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const h=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(k=>{throw new Tg(k)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Tu(h);if(!h.ok)throw new Au(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield h.json():v==="application/octet-stream"?y=yield h.blob():v==="text/event-stream"?y=h:v==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Au||s instanceof Tu?s.context:void 0}}})}}var Ze={},gc={},Ci={},Ks={},Ni={},Ei={},Rg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mn=Rg();const Lg=Mn.fetch,kf=Mn.fetch.bind(Mn),_f=Mn.Headers,Mg=Mn.Request,Ig=Mn.Response,Un=Object.freeze(Object.defineProperty({__proto__:null,Headers:_f,Request:Mg,Response:Ig,default:kf,fetch:Lg},Symbol.toStringTag,{value:"Module"})),$g=tp(Un);var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});let zg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Oi.default=zg;var bf=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ei,"__esModule",{value:!0});const Ug=bf($g),Fg=bf(Oi);let Bg=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ug.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c,u;let d=null,h=null,f=null,v=o.status,y=o.statusText;if(o.ok){if(this.method!=="HEAD"){const p=await o.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const T=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");T&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,v=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const T=await o.text();try{d=JSON.parse(T),Array.isArray(d)&&o.status===404&&(h=[],d=null,v=200,y="OK")}catch{o.status===404&&T===""?(v=204,y="No Content"):d={message:T}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,v=200,y="OK"),d&&this.shouldThrowOnError)throw new Fg.default(d)}return{error:d,data:h,count:f,status:v,statusText:y}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Ei.default=Bg;var Wg=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});const Hg=Wg(Ei);let Vg=class extends Hg.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ni.default=Vg;var qg=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ks,"__esModule",{value:!0});const Gg=qg(Ni);let Kg=class extends Gg.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Ks.default=Kg;var Qg=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});const ts=Qg(Ks);let Yg=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer",`count=${n}`),new ts.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const o="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ts.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ts.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new ts.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ts.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ci.default=Yg;var Sf=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gc,"__esModule",{value:!0});const Jg=Sf(Ci),Xg=Sf(Ks);let Zg=class jf{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Jg.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new jf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",u=r);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new Xg.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};gc.default=Zg;var Fn=gt&&gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.PostgrestError=Ze.PostgrestBuilder=Ze.PostgrestTransformBuilder=Ze.PostgrestFilterBuilder=Ze.PostgrestQueryBuilder=Ze.PostgrestClient=void 0;const Cf=Fn(gc);Ze.PostgrestClient=Cf.default;const Nf=Fn(Ci);Ze.PostgrestQueryBuilder=Nf.default;const Ef=Fn(Ks);Ze.PostgrestFilterBuilder=Ef.default;const Of=Fn(Ni);Ze.PostgrestTransformBuilder=Of.default;const Pf=Fn(Ei);Ze.PostgrestBuilder=Pf.default;const Tf=Fn(Oi);Ze.PostgrestError=Tf.default;var ey=Ze.default={PostgrestClient:Cf.default,PostgrestQueryBuilder:Nf.default,PostgrestFilterBuilder:Ef.default,PostgrestTransformBuilder:Of.default,PostgrestBuilder:Pf.default,PostgrestError:Tf.default};const{PostgrestClient:ty,PostgrestQueryBuilder:Mw,PostgrestFilterBuilder:Iw,PostgrestTransformBuilder:$w,PostgrestBuilder:zw,PostgrestError:Uw}=ey;class ry{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ny="2.15.5",sy=`realtime-js/${ny}`,oy="1.0.0",ul=1e4,iy=1e3,ay=100;var vs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vs||(vs={}));var Te;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Te||(Te={}));var bt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(bt||(bt={}));var dl;(function(t){t.websocket="websocket"})(dl||(dl={}));var Mr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Mr||(Mr={}));class ly{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(e.slice(i,i+s));i=i+s;const c=n.decode(e.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Af{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(pe||(pe={}));const Du=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,i)=>(o[i]=cy(i,t,e,s),o),{})},cy=(t,e,r,n)=>{const s=e.find(l=>l.name===t),o=s==null?void 0:s.type,i=r[t];return o&&!n.includes(o)?Df(o,i):hl(i)},Df=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return fy(e,r)}switch(t){case pe.bool:return uy(e);case pe.float4:case pe.float8:case pe.int2:case pe.int4:case pe.int8:case pe.numeric:case pe.oid:return dy(e);case pe.json:case pe.jsonb:return hy(e);case pe.timestamp:return py(e);case pe.abstime:case pe.date:case pe.daterange:case pe.int4range:case pe.int8range:case pe.money:case pe.reltime:case pe.text:case pe.time:case pe.timestamptz:case pe.timetz:case pe.tsrange:case pe.tstzrange:return hl(e);default:return hl(e)}},hl=t=>t,uy=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},dy=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},hy=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},fy=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>Df(e,l))}return t},py=t=>typeof t=="string"?t.replace(" ","T"):t,Rf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class oa{constructor(e,r,n={},s=ul){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ru;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ru||(Ru={}));class ws{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ws.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=ws.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ws.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),i=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const h=o[u];if(h){const f=d.map(T=>T.presence_ref),v=h.map(T=>T.presence_ref),y=d.filter(T=>v.indexOf(T.presence_ref)<0),k=h.filter(T=>f.indexOf(T.presence_ref)<0);y.length>0&&(l[u]=y),k.length>0&&(c[u]=k)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...f)}n(l,d,c)}),this.map(i,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Lu||(Lu={}));var xs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xs||(xs={}));var Bt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Bt||(Bt={}));class yc{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new oa(this,bt.join,this.params,this.timeout),this.rejoinTimer=new Af(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Te.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bt.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new ws(this),this.broadcastEndpointURL=Rf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Te.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[xs.PRESENCE]&&this.bindings[xs.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(Bt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Bt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e==null||e(Bt.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,T=(y=k==null?void 0:k.length)!==null&&y!==void 0?y:0,g=[];for(let p=0;p<T;p++){const m=k[p],{filter:{event:w,schema:N,table:b,filter:E}}=m,R=v&&v[p];if(R&&R.event===w&&R.schema===N&&R.table===b&&R.filter===E)g.push(Object.assign(Object.assign({},m),{id:R.id}));else{this.unsubscribe(),this.state=Te.errored,e==null||e(Bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Bt.SUBSCRIBED);return}}).receive("error",v=>{this.state=Te.errored,e==null||e(Bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Te.joined&&e===xs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Te.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new oa(this,bt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Te.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new oa(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ay){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const i=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=bt;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,k,T;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((T=(k=v.filter)===null||k===void 0?void 0:k.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===i}).map(v=>v.callback(f,n)):(o=this.bindings[i])===null||o===void 0||o.filter(v=>{var y,k,T,g,p,m;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in v){const w=v.id,N=(y=v.filter)===null||y===void 0?void 0:y.event;return w&&((k=r.ids)===null||k===void 0?void 0:k.includes(w))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((T=r.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const w=(p=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===i}).map(v=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:k,table:T,commit_timestamp:g,type:p,errors:m}=y;f=Object.assign(Object.assign({},{schema:k,table:T,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(y))}v.callback(f,n)})}_isClosed(){return this.state===Te.closed}_isJoined(){return this.state===Te.joined}_isJoining(){return this.state===Te.joining}_isLeaving(){return this.state===Te.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&yc.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bt.close,{},e)}_onError(e){this._on(bt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Te.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Du(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Du(e.columns,e.old_record)),r}}const ia=()=>{},mo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},my=[1e3,2e3,5e3,1e4],gy=1e4,yy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vy{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ul,this.transport=null,this.heartbeatIntervalMs=mo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ia,this.ref=0,this.reconnectTimer=null,this.logger=ia,this.conn=null,this.sendBuffer=[],this.serializer=new ly,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>Gs(async()=>{const{default:l}=await Promise.resolve().then(()=>Un);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${dl.websocket}`,this.httpEndpoint=Rf(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ry.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:oy}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vs.connecting:return Mr.Connecting;case vs.open:return Mr.Open;case vs.closing:return Mr.Closing;default:return Mr.Closed}}isConnected(){return this.connectionState()===Mr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new yc(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,i=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(iy,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},mo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(bt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([yy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:sy};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(bt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Af(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,i,l,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:ul,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:mo.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:ia,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:h=>my[h-1]||gy,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class vc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class wy extends vc{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fl extends vc{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var xy=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Lf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Gs(async()=>{const{default:n}=await Promise.resolve().then(()=>Un);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ky=()=>xy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gs(()=>Promise.resolve().then(()=>Un),void 0)).Response:Response}),pl=t=>{if(Array.isArray(t))return t.map(r=>pl(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=pl(n)}),e},_y=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Qr=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const aa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),by=(t,e,r)=>Qr(void 0,void 0,void 0,function*(){const n=yield ky();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const o=t.status||500,i=(s==null?void 0:s.statusCode)||o+"";e(new wy(aa(s),o,i))}).catch(s=>{e(new fl(aa(s),s))}):e(new fl(aa(t),t))}),Sy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(_y(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Qs(t,e,r,n,s,o){return Qr(this,void 0,void 0,function*(){return new Promise((i,l)=>{t(r,Sy(e,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>by(c,l,n))})})}function ni(t,e,r,n){return Qr(this,void 0,void 0,function*(){return Qs(t,"GET",e,r,n)})}function Lt(t,e,r,n,s){return Qr(this,void 0,void 0,function*(){return Qs(t,"POST",e,n,s,r)})}function ml(t,e,r,n,s){return Qr(this,void 0,void 0,function*(){return Qs(t,"PUT",e,n,s,r)})}function jy(t,e,r,n){return Qr(this,void 0,void 0,function*(){return Qs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Mf(t,e,r,n,s){return Qr(this,void 0,void 0,function*(){return Qs(t,"DELETE",e,n,s,r)})}var qe=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Cy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ny{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Lf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return qe(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Mu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?ml:Lt)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ae(o))return{data:null,error:o};throw o}})}upload(e,r,n){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return qe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Mu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield ml(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ae(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return qe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Lt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new vc("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}update(e,r,n){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return qe(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}copy(e,r,n){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Lt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return qe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield Lt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return qe(this,void 0,void 0,function*(){try{const s=yield Lt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}download(e,r){return qe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ni(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ae(l))return{data:null,error:l};throw l}})}info(e){return qe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ni(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:pl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}exists(e){return qe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield jy(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n)&&n instanceof fl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return qe(this,void 0,void 0,function*(){try{return{data:yield Mf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}list(e,r,n){return qe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Cy),r),{prefix:e||""});return{data:yield Lt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}listV2(e,r){return qe(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Lt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ey="2.12.1",Oy={"X-Client-Info":`storage-js/${Ey}`};var tn=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Py{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},Oy),r),this.fetch=Lf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return tn(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ae(e))return{data:null,error:e};throw e}})}getBucket(e){return tn(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return tn(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return tn(this,void 0,void 0,function*(){try{return{data:yield ml(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}emptyBucket(e){return tn(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}deleteBucket(e){return tn(this,void 0,void 0,function*(){try{return{data:yield Mf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}}class Ty extends Py{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Ny(this.url,this.headers,e,this.fetch)}}const Ay="2.57.4";let ls="";typeof Deno<"u"?ls="deno":typeof document<"u"?ls="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ls="react-native":ls="node";const Dy={"X-Client-Info":`supabase-js-${ls}/${Ay}`},Ry={headers:Dy},Ly={schema:"public"},My={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Iy={};var $y=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const zy=t=>{let e;return t?e=t:typeof fetch>"u"?e=kf:e=fetch,(...r)=>e(...r)},Uy=()=>typeof Headers>"u"?_f:Headers,Fy=(t,e,r)=>{const n=zy(r),s=Uy();return(o,i)=>$y(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var By=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function Wy(t){return t.endsWith("/")?t:t+"/"}function Hy(t,e){var r,n;const{db:s,auth:o,realtime:i,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>By(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Vy(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Wy(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const If="2.71.1",ln=30*1e3,gl=3,la=gl*ln,qy="http://localhost:9999",Gy="supabase.auth.token",Ky={"X-Client-Info":`gotrue-js/${If}`},yl="X-Supabase-Api-Version",$f={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Yy=10*60*1e3;class wc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function X(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Jy extends wc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Xy(t){return X(t)&&t.name==="AuthApiError"}class zf extends wc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Cr extends wc{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class sr extends Cr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Zy(t){return X(t)&&t.name==="AuthSessionMissingError"}class go extends Cr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yo extends Cr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vo extends Cr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function e0(t){return X(t)&&t.name==="AuthImplicitGrantRedirectError"}class Iu extends Cr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vl extends Cr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ca(t){return X(t)&&t.name==="AuthRetryableFetchError"}class $u extends Cr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class wl extends Cr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zu=` 	
\r=`.split(""),t0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<zu.length;e+=1)t[zu[e].charCodeAt(0)]=-2;for(let e=0;e<si.length;e+=1)t[si[e].charCodeAt(0)]=e;return t})();function Uu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(si[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(si[n]),e.queuedBits-=6}}function Uf(t,e,r){const n=t0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Fu(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{s0(i,n,r)};for(let i=0;i<t.length;i+=1)Uf(t.charCodeAt(i),s,o);return e.join("")}function r0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function n0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}r0(n,e)}}function s0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function o0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Uf(t.charCodeAt(s),r,n);return new Uint8Array(e)}function i0(t){const e=[];return n0(t,r=>e.push(r)),new Uint8Array(e)}function a0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Uu(s,r,n)),Uu(null,r,n),e.join("")}function l0(t){return Math.round(Date.now()/1e3)+t}function c0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const xt=()=>typeof window<"u"&&typeof document<"u",Pr={tested:!1,writable:!1},Ff=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pr.tested)return Pr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Pr.tested=!0,Pr.writable=!0}catch{Pr.tested=!0,Pr.writable=!1}return Pr.writable};function u0(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Bf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Gs(async()=>{const{default:n}=await Promise.resolve().then(()=>Un);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},d0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",cn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Tr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},rr=async(t,e)=>{await t.removeItem(e)};class Pi{constructor(){this.promise=new Pi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Pi.promiseConstructor=Promise;function ua(t){const e=t.split(".");if(e.length!==3)throw new wl("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Qy.test(e[n]))throw new wl("JWT not in base64url format");return{header:JSON.parse(Fu(e[0])),payload:JSON.parse(Fu(e[1])),signature:o0(e[2]),raw:{header:e[0],payload:e[1]}}}async function h0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function f0(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function p0(t){return("0"+t.toString(16)).substr(-2)}function m0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,p0).join("")}async function g0(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function y0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await g0(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rn(t,e,r=!1){const n=m0();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await cn(t,`${e}-code-verifier`,s);const o=await y0(n);return[o,n===o?"plain":"s256"]}const v0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function w0(t){const e=t.headers.get(yl);if(!e||!e.match(v0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function x0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function k0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function nn(t){if(!_0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function da(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bu(t){return JSON.parse(JSON.stringify(t))}var b0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Rr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),S0=[502,503,504];async function Wu(t){var e;if(!d0(t))throw new vl(Rr(t),0);if(S0.includes(t.status))throw new vl(Rr(t),t.status);let r;try{r=await t.json()}catch(o){throw new zf(Rr(o),o)}let n;const s=w0(t);if(s&&s.getTime()>=$f["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $u(Rr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new sr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new $u(Rr(r),t.status,r.weak_password.reasons);throw new Jy(Rr(r),t.status||500,n)}const j0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function te(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[yl]||(o[yl]=$f["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await C0(t,e,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function C0(t,e,r,n,s,o){const i=j0(e,n,s,o);let l;try{l=await t(r,Object.assign({},i))}catch(c){throw console.error(c),new vl(Rr(c),0)}if(l.ok||await Wu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Wu(c)}}function Ut(t){var e;let r=null;P0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=l0(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Hu(t){const e=Ut(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function cr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function N0(t){return{data:t,error:null}}function E0(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,i=b0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function O0(t){return t}function P0(t){return t.access_token&&t.refresh_token&&t.expires_in}const ha=["global","local","others"];var T0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class A0{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Bf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=ha[0]){if(ha.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ha.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cr})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=T0(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:E0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(X(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cr})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:O0});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(y=>{const k=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(y.split(";")[1].split("=")[1]);u[`${T}Page`]=k}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(X(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){nn(e);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cr})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){nn(e);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:cr})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){nn(e);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:cr})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){nn(e.userId);try{const{data:r,error:n}=await te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _deleteFactor(e){nn(e.userId),nn(e.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}}function Vu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function D0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const sn={debug:!!(globalThis&&Ff()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class R0 extends Wf{}async function L0(t,e,r){sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),sn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new R0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(sn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}D0();const M0={url:qy,storageKey:Gy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ky,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qu(t,e,r){return await r()}const on={};class Us{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Us.nextInstanceID,Us.nextInstanceID+=1,this.instanceID>0&&xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},M0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new A0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Bf(s.fetch),this.lock=s.lock||qu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:xt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=L0:this.lock=qu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ff()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Vu(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=on[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){on[this.storageKey]=Object.assign(Object.assign({},on[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=on[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){on[this.storageKey]=Object.assign(Object.assign({},on[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${If}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=u0(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),xt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),e0(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return X(r)?{error:r}:{error:new zf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ut}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(X(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:d,password:h,options:f}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await rn(this.storage,this.storageKey)),o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:y},xform:Ut})}else if("phone"in e){const{phone:d,password:h,options:f}=e;o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ut})}else throw new yo("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(X(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:l}=e;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Hu})}else if("phone"in e){const{phone:o,password:i,options:l}=e;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Hu})}else throw new yo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new go}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,o,i,l,c,u,d,h,f,v;let y,k;if("message"in e)y=e.message,k=e.signature;else{const{chain:T,wallet:g,statement:p,options:m}=e;let w;if(xt())if(typeof g=="object")w=g;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))w=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const N=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const b=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),p?{statement:p}:null));let E;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")E=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)E=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),k=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${N.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const b=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=b}}try{const{data:T,error:g}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:a0(k)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ut});if(g)throw g;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new go}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:g})}catch(T){if(X(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(e){const r=await Tr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ut});if(await rr(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new go}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(X(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=e,l=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ut}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new go}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,o,i;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await rn(this.storage,this.storageKey));const{error:h}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new yo("You must provide either an email or phone number.")}catch(l){if(X(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ut});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await rn(this.storage,this.storageKey)),await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:N0})}catch(o){if(X(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new sr;const{error:s}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(X(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:i}=await te(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:i,error:l}=await te(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new yo("You must provide either an email or phone number and a type")}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<la:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await Tr(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=da()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:cr}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sr}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:cr})})}catch(r){if(X(r))return Zy(r)&&(await this._removeSession(),await rr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new sr;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await rn(this.storage,this.storageKey));const{data:u,error:d}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:cr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new sr;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=ua(e.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(X(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:l}=r;if(l)throw l;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new sr;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!xt())throw new vo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Iu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Iu("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=e;if(!o||!l||!i||!u)throw new vo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const v=f-d;v*1e3<=ln&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:k,error:T}=await this._getUser(o);if(T)throw T;const g={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:f,refresh_token:i,token_type:u,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(X(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Tr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,e);if(l&&!(Xy(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await rr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=c0(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await rn(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(X(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:h,error:f}=o;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return xt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(X(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await f0(async s=>(s>0&&await h0(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ut})),(s,o)=>{const i=200*Math.pow(2,s);return o&&ca(o)&&Date.now()+i-n<ln})}catch(n){if(this._debug(r,"error",n),X(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),xt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Tr(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Tr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await cn(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:da()}else if(s&&!s.user&&!s.user){const i=await Tr(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await rr(this.storage,this.storageKey+"-user"),await cn(this.storage,this.storageKey,s)):s.user=da()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<la;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${la}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),ca(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new sr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Pi;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new sr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),X(o)){const i={session:null,error:o};return ca(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await cn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Bu(s);await cn(this.storage,this.storageKey,o)}else{const s=Bu(r);await cn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await rr(this.storage,this.storageKey),await rr(this.storage,this.storageKey+"-code-verifier"),await rr(this.storage,this.storageKey+"-user"),this.userStorage&&await rr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ln);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/ln);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ln}ms, refresh threshold is ${gl} ticks`),s<=gl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Wf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await rn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(X(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(X(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ua(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Yy>s)return n;const{data:o,error:i}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=ua(n);r!=null&&r.allowExpired||x0(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:o,header:s,signature:i},error:null}}const d=k0(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,i,i0(`${l}.${c}`)))throw new wl("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}}Us.nextInstanceID=0;const I0=Us;class $0 extends I0{constructor(e){super(e)}}var z0=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class U0{constructor(e,r,n){var s,o,i;this.supabaseUrl=e,this.supabaseKey=r;const l=Vy(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Ly,realtime:Iy,auth:Object.assign(Object.assign({},My),{storageKey:c}),global:Ry},d=Hy(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=Fy(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new ty(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Ty(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Dg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return z0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:i,flowType:l,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $0({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new vy(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const F0=(t,e,r)=>new U0(t,e,r);function B0(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}B0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const W0="https://sebjqfbteohfixnxotvw.supabase.co",H0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNlYmpxZmJ0ZW9oZml4bnhvdHZ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwMzc2MzQsImV4cCI6MjA4NTYxMzYzNH0.dJD7r1uZKkXENsf8XnH7VqN2WQgQRpcE_5H_xe1PI9I",K=F0(W0,H0),Hf=C.createContext(void 0),Gu="card-sorting-theme",V0=({children:t})=>{const[e,r]=C.useState([]),[n,s]=C.useState({}),[o,i]=C.useState("light"),l=async()=>{try{const{data:{user:S}}=await K.auth.getUser();if(S){const x=await K.from("user_profiles").select("role").eq("id",S.id).maybeSingle();let j=x.data;const D=x.error;if(D&&console.error("Error fetching user profile:",D),!j&&!D){console.log(`Profile missing for user ${S.email}, creating one...`);const{data:le,error:Tt}=await K.from("user_profiles").insert({id:S.id,role:"user"}).select("role").single();Tt?console.error("Error creating user profile:",Tt):(j=le,console.log("Profile created successfully."))}const I=(j==null?void 0:j.role)==="admin";console.log(`[DEBUG] User ${S.email} (ID: ${S.id}) loading projects. Role: ${(j==null?void 0:j.role)||"unknown"}, isAdmin: ${I}`);let J=K.from("projects").select("*");I?console.log("[DEBUG] Admin detected, fetching all projects."):(console.log(`[DEBUG] Restricting query to user_id: ${S.id}`),J=J.eq("user_id",S.id));const{data:F,error:xe}=await J.order("created_at",{ascending:!1});xe?(console.error("Error loading projects from database:",xe),r([])):F&&(console.log(`[DEBUG] Successfully fetched ${F.length} projects.`),r(F.map(le=>({id:le.id,name:le.name,description:le.description,type:le.type,cards:le.cards,categories:le.categories,createdAt:le.created_at,updatedAt:le.updated_at,deletedAt:le.deleted_at}))))}else console.log("[DEBUG] No authenticated user found."),r([])}catch(S){console.error("Unexpected error in loadProjects:",S),r([])}};C.useEffect(()=>{l();const{data:S}=K.auth.onAuthStateChange(j=>{j==="SIGNED_IN"||j==="TOKEN_REFRESHED"?l():j==="SIGNED_OUT"&&r([])}),x=localStorage.getItem(Gu);return x?(i(x),document.documentElement.setAttribute("data-theme",x)):document.documentElement.setAttribute("data-theme","light"),()=>{S.subscription.unsubscribe()}},[]);const c=()=>{const S=o==="light"?"dark":"light";i(S),document.documentElement.setAttribute("data-theme",S),localStorage.setItem(Gu,S)},u=async(S,x,j)=>{const D=[{content:"Network Status",description:"See if your network is online and running normally."},{content:"Network Speed",description:"Check how fast your internet connection is."},{content:"Network Map",description:"View how your devices are connected to your network."},{content:"Wi-Fi Networks",description:"See the Wi-Fi networks your router is broadcasting."},{content:"Wi-Fi Settings",description:"Change your Wi-Fi name, password, and security options."},{content:"Connected Devices",description:"View all devices currently connected to your network."},{content:"Down Time",description:"See when your network was unavailable."},{content:"Usage and Insights",description:"Understand how your network is being used."},{content:"Advanced Setting",description:"Access advanced network configuration options."},{content:"Alerts/Notifications",description:"Get notified about network activity and issues."},{content:"Add/Setup Gateway or Extender",description:"Add a new gateway or extender to your network."},{content:"MAC Filtering",description:"Choose which devices are allowed to connect, based on their unique MAC addresses."},{content:"Port Forwarding",description:"Allow specific apps or devices to be accessed from the internet."},{content:"Port Filtering",description:"Control internet traffic by allowing or blocking specific ports."},{content:"Port Triggering",description:"Automatically open ports when a device needs them."},{content:"Firewall",description:"Protect your network from unwanted or suspicious traffic."},{content:"Device Groups",description:"Organize devices into groups for easier management."},{content:"DNS Setting",description:"Chooses how your network converts the human-friendly URL (e.g., wikipedia.org) into the numerical IP address necessary for your computer to find the website."},{content:"Internet Configuration",description:"Set up how your gateway connects to the internet."},{content:"DHCP Reservations",description:"Assign the same IP address to specific devices."},{content:"DOCSIS Summary",description:"View cable connection and signal details."},{content:"Local Network",description:"Manage settings for devices within your home network."},{content:"Ethernet Configuration",description:"Configure wired network connection settings."},{content:"NTP Servers",description:"Set time servers to keep your network time accurate."},{content:"Static IP Automatic Assignment",description:"Automatically assign fixed IP addresses to devices."},{content:"Wi-Fi Configuration",description:"Configure advanced Wi-Fi network options."},{content:"Mesh",description:"Manage and monitor your mesh Wi-Fi network."},{content:"Local web UI Password",description:"Change the password for accessing the local gateway interface."},{content:"Backup and Restore",description:"Save your settings or restore them from a backup."},{content:"Speed test",description:"Test your internet connection speed."},{content:"SSID Scanner",description:"Scan nearby Wi-Fi networks to check congestion and channels."},{content:"Gateway Login",description:"Access your gateway's management interface."},{content:"Network Tool-box",description:"Use network tools to diagnose connection issues."},{content:"Factory Reset",description:"Reset the gateway to its original settings."},{content:"Content Filtering",description:"Block or allow access to specific websites or content."},{content:"Reboot",description:"Restart the gateway to refresh the connection."},{content:"Test Connection",description:"Check if your gateway is properly connected to the internet."},{content:"DMZ",description:"Expose one device directly to the internet."},{content:"Device Alias",description:"Rename devices to make them easier to identify."},{content:"Manage Users",description:"Add, remove, or manage access for users."},{content:"Support",description:"Get help, guides, or contact customer support."},{content:"Multi-Language",description:"Change the language used in the app."},{content:"Theme Light/Dark",description:"Switch between light and dark display themes."},{content:"Switch Account",description:"Change to a different user account."},{content:"Switch Gateway",description:"View or manage a different gateway."}],I=["Network","Security","Diagnostics","Troubleshooting","Settings","Voice"],J={id:Date.now().toString(),name:S,description:j,type:x,cards:D.map((F,xe)=>({id:(xe+1).toString(),content:F.content,description:F.description,sortOrder:xe})),categories:x==="closed"||x==="hybrid"?I.map((F,xe)=>({id:`cat-${xe+1}`,name:F,sortOrder:xe})):[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{const{data:{user:F}}=await K.auth.getUser();if(F){const{error:xe}=await K.from("projects").insert({id:J.id,name:J.name,description:J.description,type:J.type,cards:J.cards,categories:J.categories,user_id:F.id,created_at:J.createdAt,updated_at:J.updatedAt});xe?console.error("Error creating project:",xe):r([J,...e])}}catch(F){console.error("Error creating project:",F)}return J},d=async S=>{const x=e.find(D=>D.id===S);if(!x)return console.error("Project not found"),{error:"Project not found"};const j={...x,id:crypto.randomUUID(),name:`Copy of ${x.name}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),deletedAt:null};try{const{data:{user:D}}=await K.auth.getUser();if(D){const{error:I}=await K.from("projects").insert({id:j.id,name:j.name,description:j.description,type:j.type,cards:j.cards,categories:j.categories,user_id:D.id,created_at:j.createdAt,updated_at:j.updatedAt});if(I)return console.error("Error duplicating project:",I),{error:I};r([j,...e])}}catch(D){return console.error("Error duplicating project:",D),{error:D}}},h=async S=>{try{const{error:x}=await K.from("projects").update({deleted_at:new Date().toISOString()}).eq("id",S);if(x)return console.error("Error deleting project:",x),{error:x};r(e.map(j=>j.id===S?{...j,deletedAt:new Date().toISOString()}:j))}catch(x){return console.error("Error deleting project:",x),{error:x}}},f=async S=>{try{const{error:x}=await K.from("projects").update({deleted_at:null}).eq("id",S);if(x)return console.error("Error restoring project:",x),{error:x};r(e.map(j=>j.id===S?{...j,deletedAt:null}:j))}catch(x){return console.error("Error restoring project:",x),{error:x}}},v=async S=>{try{const{error:x}=await K.from("projects").delete().eq("id",S);if(x)return console.error("Error permanently deleting project:",x),{error:x};{r(e.filter(D=>D.id!==S));const j={...n};delete j[S],s(j)}}catch(x){return console.error("Error permanently deleting project:",x),{error:x}}},y=async(S,x)=>{const j=new Date().toISOString(),D={...x,updatedAt:j};try{const I={updated_at:j};x.name!==void 0&&(I.name=x.name),x.description!==void 0&&(I.description=x.description),x.type!==void 0&&(I.type=x.type),x.cards!==void 0&&(I.cards=x.cards),x.categories!==void 0&&(I.categories=x.categories);const{error:J}=await K.from("projects").update(I).eq("id",S);J?console.error("Error updating project:",J):r(e.map(F=>F.id===S?{...F,...D}:F))}catch(I){console.error("Error updating project:",I)}},k=S=>e.find(x=>x.id===S),T=async S=>{try{const{data:x,error:j}=await K.from("projects").select("*").eq("id",S).maybeSingle();return j?(console.error("Error fetching project:",j),null):x?{id:x.id,name:x.name,description:x.description,type:x.type,cards:x.cards,categories:x.categories,createdAt:x.created_at,updatedAt:x.updated_at}:null}catch(x){return console.error("Error fetching project by ID:",x),null}},g=async(S,x,j)=>{const D=e.find(F=>F.id===S);if(!D)return;const I={id:Date.now().toString(),content:x,description:j,sortOrder:D.cards.length},J=[...D.cards,I];await y(S,{cards:J})},p=async(S,x,j,D)=>{const I=e.find(F=>F.id===S);if(!I)return;const J=I.cards.map(F=>F.id===x?{...F,content:j,description:D}:F);await y(S,{cards:J})},m=async(S,x)=>{const j=e.find(I=>I.id===S);if(!j)return;const D=j.cards.filter(I=>I.id!==x);await y(S,{cards:D})},w=async(S,x)=>{await y(S,{cards:x})},N=async(S,x,j)=>{const D=e.find(F=>F.id===S);if(!D)return;const I={id:Date.now().toString(),name:x,description:j,sortOrder:D.categories.length},J=[...D.categories,I];await y(S,{categories:J})},b=async(S,x,j,D)=>{const I=e.find(F=>F.id===S);if(!I)return;const J=I.categories.map(F=>F.id===x?{...F,name:j,description:D}:F);await y(S,{categories:J})},E=async(S,x)=>{const j=e.find(I=>I.id===S);if(!j)return;const D=j.categories.filter(I=>I.id!==x);await y(S,{categories:D})},R=async(S,x)=>{await y(S,{categories:x})},W=async(S,x)=>{try{const{data:j}=await K.from("sorting_results").select("id").eq("project_id",S).eq("participant_email",x.email).eq("status","draft").maybeSingle();if(j){const{error:D}=await K.from("sorting_results").update({result_data:x,updated_at:new Date().toISOString()}).eq("id",j.id);if(D)throw D}else{const{error:D}=await K.from("sorting_results").insert({project_id:S,participant_email:x.email,result_data:x,status:"draft"});if(D)throw D}}catch(j){throw console.error("Error saving draft:",j),j}},H=async(S,x)=>{try{const{data:j,error:D}=await K.from("sorting_results").select("*").eq("project_id",S).eq("participant_email",x).eq("status","draft").maybeSingle();if(D)throw D;return j?j.result_data:null}catch(j){return console.error("Error checking draft:",j),null}},ne=async(S,x)=>{try{const{data:j}=await K.from("sorting_results").select("id").eq("project_id",S).eq("participant_email",x.email).eq("status","draft").maybeSingle();let D;j?D=(await K.from("sorting_results").update({result_data:x,updated_at:new Date().toISOString(),status:"completed"}).eq("id",j.id)).error:D=(await K.from("sorting_results").insert({project_id:S,participant_email:x.email,result_data:x,status:"completed"})).error,D&&console.error("Error saving result to database:",D),s(I=>({...I,[S]:[...I[S]||[],x]}))}catch(j){console.error("Error submitting result:",j),s(D=>({...D,[S]:[...D[S]||[],x]}))}},fe=async S=>{try{const{data:x,error:j}=await K.from("sorting_results").select("*").eq("project_id",S).eq("status","completed").is("deleted_at",null).order("created_at",{ascending:!1});return j?(console.error("Error fetching results:",j),[]):(x==null?void 0:x.map(D=>({...D.result_data,id:D.id,deletedAt:D.deleted_at,createdAt:D.created_at})))||[]}catch(x){return console.error("Error getting results:",x),[]}},Z=async S=>{try{const{data:x,error:j}=await K.from("sorting_results").select("*").eq("project_id",S).not("deleted_at","is",null).order("deleted_at",{ascending:!1});return j?(console.error("Error fetching deleted results:",j),[]):(x==null?void 0:x.map(D=>({...D.result_data,id:D.id,deletedAt:D.deleted_at,createdAt:D.created_at})))||[]}catch(x){return console.error("Error getting deleted results:",x),[]}},Q=async S=>{try{const{data:{user:x}}=await K.auth.getUser(),{error:j}=await K.from("sorting_results").update({deleted_at:new Date().toISOString(),deleted_by:(x==null?void 0:x.id)||null}).eq("id",S);if(j)throw console.error("Error deleting result:",j),j}catch(x){throw console.error("Error deleting result:",x),x}},ce=async S=>{try{const{error:x}=await K.from("sorting_results").update({deleted_at:null,deleted_by:null}).eq("id",S);if(x)throw console.error("Error restoring result:",x),x}catch(x){throw console.error("Error restoring result:",x),x}},q=async S=>{try{const{error:x}=await K.from("sorting_results").delete().eq("id",S);if(x)throw console.error("Error permanently deleting result:",x),x}catch(x){throw console.error("Error permanently deleting result:",x),x}},Ne=async()=>{await l()},L=async()=>{try{const{data:S,error:x}=await K.from("user_profiles").select("*").order("created_at",{ascending:!1});return x?(console.error("Error fetching users:",x),[]):S}catch(S){return console.error("Error fetching users:",S),[]}},G=async(S,x)=>{try{const{error:j}=await K.from("user_profiles").update({role:x,updated_at:new Date().toISOString()}).eq("id",S);if(j)throw j}catch(j){throw console.error("Error updating user role:",j),j}},V=async S=>{try{const{error:x}=await K.from("user_profiles").delete().eq("id",S);if(x)throw x}catch(x){throw console.error("Error deleting user:",x),x}};return a.jsx(Hf.Provider,{value:{projects:e,theme:o,toggleTheme:c,createProject:u,deleteProject:h,updateProject:y,getProject:k,fetchProjectById:T,addCard:g,updateCard:p,deleteCard:m,reorderCards:w,addCategory:N,updateCategory:b,deleteCategory:E,reorderCategories:R,submitResult:ne,saveDraft:W,checkDraft:H,getResults:fe,getDeletedResults:Z,deleteResult:Q,restoreResult:ce,permanentlyDeleteResult:q,duplicateProject:d,restoreProject:f,permanentlyDeleteProject:v,refreshProjects:Ne,fetchUsers:L,updateUserRole:G,deleteUser:V},children:t})},Bn=()=>{const t=C.useContext(Hf);if(!t)throw new Error("useApp must be used within AppProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(t,e)=>{const r=C.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:l="",children:c,...u},d)=>C.createElement("svg",{ref:d,...q0,width:s,height:s,stroke:n,strokeWidth:i?Number(o)*24/Number(s):o,className:["lucide",`lucide-${G0(t)}`,l].join(" "),...u},[...e.map(([h,f])=>C.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=ee("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=ee("DatabaseBackup",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 12a9 3 0 0 0 5 2.69",key:"1ui2ym"}],["path",{d:"M21 9.3V5",key:"6k6cib"}],["path",{d:"M3 5v14a9 3 0 0 0 6.47 2.88",key:"i62tjy"}],["path",{d:"M12 12v4h4",key:"1bxaet"}],["path",{d:"M13 20a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L12 16",key:"1f4ei9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=ee("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=ee("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=ee("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=ee("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=ee("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=ee("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hv=()=>{const{theme:t,toggleTheme:e}=Bn();return a.jsx("button",{onClick:e,className:"p-2 rounded-lg transition-colors hover:bg-[var(--color-bg-secondary)]","aria-label":"Toggle theme",title:`Switch to ${t==="light"?"dark":"light"} mode`,children:t==="light"?a.jsx(rv,{size:20,style:{color:"var(--color-text-secondary)"}}):a.jsx(lv,{size:20,style:{color:"var(--color-text-secondary)"}})})},U=({variant:t="primary",size:e="md",className:r="",children:n,disabled:s,...o})=>{const i="inline-flex items-center justify-center font-medium transition-all duration-200 rounded-lg border focus:outline-none focus:ring-2 focus:ring-offset-2",l={primary:"bg-[var(--color-bg-brand)] text-[var(--color-text-on-brand)] border-transparent hover:bg-[var(--color-bg-brand-hover)] active:bg-[var(--color-bg-brand-active)] focus:ring-[var(--color-border-focus)] disabled:bg-[var(--color-interactive-disabled)] disabled:cursor-not-allowed",secondary:"bg-[var(--color-bg-secondary)] text-[var(--color-text-primary)] border-[var(--color-border-primary)] hover:bg-[var(--color-bg-tertiary)] active:bg-[var(--color-neutral-200)] focus:ring-[var(--color-border-focus)] disabled:opacity-50 disabled:cursor-not-allowed",danger:"bg-[var(--color-error-500)] text-white border-transparent hover:bg-[var(--color-error-600)] active:bg-[var(--color-error-700)] focus:ring-[var(--color-error-500)] disabled:opacity-50 disabled:cursor-not-allowed",ghost:"bg-transparent text-[var(--color-text-secondary)] border-transparent hover:bg-[var(--color-bg-secondary)] active:bg-[var(--color-bg-tertiary)] focus:ring-[var(--color-border-focus)] disabled:opacity-50 disabled:cursor-not-allowed"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return a.jsx("button",{className:`${i} ${l[t]} ${c[e]} ${r}`,disabled:s,...o,children:n})},Ke=({children:t,className:e="",onClick:r,style:n})=>a.jsx("div",{className:`rounded-lg border shadow-sm transition-all duration-200 ${r?"cursor-pointer hover:shadow-md":""} ${e}`,style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-primary)",...n},onClick:r,children:t}),Et=({isOpen:t,onClose:e,title:r,children:n,footer:s})=>(C.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:e,children:a.jsxs("div",{className:"w-full max-w-lg rounded-xl shadow-xl",style:{backgroundColor:"var(--color-bg-primary)"},onClick:o=>o.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--color-border-primary)"},children:[a.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--color-text-primary)"},children:r}),a.jsx("button",{onClick:e,className:"p-1 rounded-lg transition-colors hover:bg-[var(--color-bg-secondary)]",children:a.jsx(Kf,{size:20,style:{color:"var(--color-text-secondary)"}})})]}),a.jsx("div",{className:"p-6",children:n}),s&&a.jsx("div",{className:"flex justify-end gap-3 p-6 border-t",style:{borderColor:"var(--color-border-primary)"},children:s})]})}):null),lt=({label:t,error:e,className:r="",id:n,...s})=>{const o=n||`input-${Math.random().toString(36).substr(2,9)}`;return a.jsxs("div",{className:"w-full",children:[t&&a.jsx("label",{htmlFor:o,className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:t}),a.jsx("input",{id:o,className:`w-full px-4 py-2 rounded-lg border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-1 ${e?"border-[var(--color-border-error)] focus:ring-[var(--color-error-500)]":"border-[var(--color-border-primary)] focus:ring-[var(--color-border-focus)]"} ${r}`,style:{backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-primary)"},...s}),e&&a.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--color-text-error)"},children:e})]})},fv=({isOpen:t,onClose:e,onSuccess:r,initialMode:n="login",enableSignup:s=!0})=>{const[o,i]=C.useState(n==="signup"),[l,c]=C.useState(""),[u,d]=C.useState(""),[h,f]=C.useState(!1),[v,y]=C.useState(""),[k,T]=C.useState(!1),[g,p]=C.useState(""),[m,w]=C.useState(!1),[N,b]=C.useState(!1),[E,R]=C.useState(!1);C.useEffect(()=>{i(n==="signup")},[n]);const W=async Z=>{Z.preventDefault(),y(""),f(!0);try{if(o){const{data:Q,error:ce}=await K.auth.signUp({email:l,password:u});if(ce)throw ce;if(Q.user){const{data:q}=await K.from("user_profiles").select("id").eq("id",Q.user.id).maybeSingle();q||await K.from("user_profiles").insert({id:Q.user.id,role:"user"}),r(Q.user.id,l)}}else{const{data:Q,error:ce}=await K.auth.signInWithPassword({email:l,password:u});if(ce)throw ce;if(Q.user){const{data:q}=await K.from("user_profiles").select("id").eq("id",Q.user.id).maybeSingle();q||await K.from("user_profiles").insert({id:Q.user.id,role:"user"}),r(Q.user.id,l)}}}catch(Q){const ce=Q instanceof Error?Q.message:"An error occurred";y(ce)}finally{f(!1)}},H=()=>{c(""),d(""),i(n==="signup"),y(""),T(!1),p(""),w(!1),R(!1),b(!1),e()},ne=async()=>{y(""),b(!0),R(!1);try{const{error:Z}=await K.auth.resend({type:"signup",email:l});if(Z)throw Z;R(!0)}catch(Z){const Q=Z instanceof Error?Z.message:"Failed to resend confirmation email";y(Q)}finally{b(!1)}},fe=async Z=>{Z.preventDefault(),y(""),f(!0);try{const{error:Q}=await K.auth.resetPasswordForEmail(g);if(Q)throw Q;w(!0)}catch(Q){const ce=Q instanceof Error?Q.message:"Failed to send reset email";y(ce)}finally{f(!1)}};return a.jsx(Et,{isOpen:t,onClose:H,title:k?"Reset Password":o?"Create Account":"Sign In",children:k?a.jsxs("form",{onSubmit:fe,className:"space-y-4",children:[m?a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-success-50)",color:"var(--color-success-600)"},children:[a.jsx("p",{className:"font-medium mb-2",children:"Check your email!"}),a.jsxs("p",{className:"text-sm",children:["We've sent a password reset link to ",g,". Click the link in the email to set a new password."]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Enter your email address and we'll send you a link to reset your password."}),a.jsx(lt,{label:"Email Address",type:"email",value:g,onChange:Z=>p(Z.target.value),placeholder:"your.email@example.com",required:!0}),v&&a.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-error-50)",color:"var(--color-error-600)"},children:v}),a.jsx(U,{type:"submit",className:"w-full",disabled:h,children:h?"Sending...":"Send Reset Link"})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>{T(!1),p(""),w(!1),y("")},className:"text-sm transition-colors",style:{color:"var(--color-primary-600)"},children:"Back to Sign In"})})]}):a.jsxs("form",{onSubmit:W,className:"space-y-4",children:[a.jsx(lt,{label:"Email Address",type:"email",value:l,onChange:Z=>c(Z.target.value),placeholder:"your.email@example.com",required:!0}),a.jsx(lt,{label:"Password",type:"password",value:u,onChange:Z=>d(Z.target.value),placeholder:"Enter your password",required:!0}),v&&a.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-error-50)",color:"var(--color-error-600)"},children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("p",{children:v}),v.toLowerCase().includes("email not confirmed")&&a.jsx("button",{type:"button",onClick:ne,disabled:N,className:"text-xs font-semibold underline text-left hover:text-error-700 disabled:opacity-50",children:N?"Sending...":"Resend confirmation email?"})]})}),E&&a.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-success-50)",color:"var(--color-success-600)",fontSize:"0.875rem"},children:"Confirmation email resent! Please check your inbox."}),a.jsx(U,{type:"submit",className:"w-full",disabled:h,children:h?"Please wait...":o?"Create Account":"Sign In"}),!o&&a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-sm transition-colors",style:{color:"var(--color-primary-600)"},children:"Forgot your password?"})}),s&&a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>i(!o),className:"text-sm transition-colors",style:{color:"var(--color-primary-600)"},children:o?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})},xl="/subscriber-portal/assets/login-bg-OJ6uHR9C.jpg",pv=({onNavigate:t,justLoggedOut:e=!1})=>{const[r,n]=C.useState(!1),[s,o]=C.useState("login"),[i,l]=C.useState(!0),[c,u]=C.useState(!1),[d,h]=C.useState(!1),f=()=>{o("login"),n(!0)},v=()=>{o("signup"),n(!0)},y=(k,T)=>{n(!1),t("admin")};return C.useEffect(()=>{const k=async()=>{const m=new URLSearchParams(window.location.search).get("project"),{data:{user:w}}=await K.auth.getUser();h(!!w),m&&t("participant",m)},T=async()=>{try{const{data:p,error:m}=await K.from("app_settings").select("setting_value").eq("setting_key","enable_signup").maybeSingle();if(m){console.error("Error fetching signup setting:",m),u(!0);return}p&&l(p.setting_value===!0),u(!0)}catch(p){console.error("Error fetching signup setting:",p),u(!0)}};k(),T();const{data:g}=K.auth.onAuthStateChange((p,m)=>{const w=!!m;h(w);const N=new URLSearchParams(window.location.search),b=N.get("project"),E=N.get("skip_redirect")==="true";p==="SIGNED_IN"&&w&&!b&&!E&&t("admin")});return()=>{g.subscription.unsubscribe()}},[t]),a.jsxs("div",{className:"min-h-screen bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${xl})`,backgroundColor:"var(--color-bg-secondary)"},children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-16",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-5xl font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Card Sorting Studies"}),a.jsx("p",{className:"text-xl",style:{color:"var(--color-text-secondary)"},children:"Organize information architecture through collaborative card sorting"})]}),a.jsx("div",{className:"max-w-md mx-auto",children:a.jsxs(Ke,{className:"p-8",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-full mb-6 mx-auto",style:{backgroundColor:"var(--color-primary-50)"},children:a.jsx(ks,{size:32,style:{color:"var(--color-primary-600)"}})}),a.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",style:{color:"var(--color-text-primary)"},children:"Administrator Access"}),a.jsx("p",{className:"mb-6 text-center",style:{color:"var(--color-text-secondary)"},children:"Create and manage card sorting projects"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(U,{onClick:d?()=>t("admin"):f,className:"w-full",children:d?"Go to Dashboard":"Admin Login"}),c&&i&&!d&&a.jsx(U,{onClick:v,variant:"secondary",className:"w-full",children:"Sign Up"})]})]})})]}),a.jsx(fv,{isOpen:r,onClose:()=>n(!1),onSuccess:y,initialMode:s,enableSignup:i})]})},mv=({id:t,type:e,message:r,onClose:n,duration:s=3e3})=>{C.useEffect(()=>{const c=setTimeout(()=>{n(t)},s);return()=>clearTimeout(c)},[s,t,n]);const o={success:a.jsx(Y0,{size:20,className:"text-green-500"}),error:a.jsx(K0,{size:20,className:"text-red-500"}),info:a.jsx(ii,{size:20,className:"text-blue-500"})},i={success:"border-green-200",error:"border-red-200",info:"border-blue-200"},l={success:"bg-green-50",error:"bg-red-50",info:"bg-blue-50"};return a.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg transition-all animate-in slide-in-from-bottom-5 ${l[e]} ${i[e]}`,role:"alert",children:[o[e],a.jsx("p",{className:"text-sm font-medium text-gray-800",children:r}),a.jsx("button",{onClick:()=>n(t),className:"ml-auto text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Kf,{size:16})})]})},gv=({children:t})=>a.jsx("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-2",children:t}),_s=({isOpen:t,onClose:e,onConfirm:r,title:n,message:s,confirmText:o="OK",cancelText:i="Cancel",variant:l="warning"})=>{const c=()=>{r(),e()};return a.jsx(Et,{isOpen:t,onClose:e,title:"",children:a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:l==="danger"?"var(--color-error-100)":"var(--color-warning-100)"},children:a.jsx(Vf,{size:32,style:{color:l==="danger"?"var(--color-error-600)":"var(--color-warning-600)"}})})}),a.jsx("h2",{className:"text-xl font-semibold mb-3",style:{color:"var(--color-text-primary)"},children:n}),a.jsx("p",{className:"text-base mb-6",style:{color:"var(--color-text-secondary)"},children:s}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx(U,{variant:"secondary",onClick:e,className:"min-w-[100px]",children:i}),a.jsx(U,{onClick:c,className:"min-w-[100px]",style:{backgroundColor:l==="danger"?"var(--color-error-600)":"var(--color-primary-600)"},children:o})]})]})})},Qf=6048e5,yv=864e5,Xu=Symbol.for("constructDateFrom");function _r(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Xu in t?t[Xu](e):t instanceof Date?new t.constructor(e):new Date(e)}function Pt(t,e){return _r(e||t,t)}let vv={};function Ti(){return vv}function Fs(t,e){var l,c,u,d;const r=Ti(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Pt(t,e==null?void 0:e.in),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function ci(t,e){return Fs(t,{...e,weekStartsOn:1})}function Yf(t,e){const r=Pt(t,e==null?void 0:e.in),n=r.getFullYear(),s=_r(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=ci(s),i=_r(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=ci(i);return r.getTime()>=o.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function Zu(t){const e=Pt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function wv(t,...e){const r=_r.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function ed(t,e){const r=Pt(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function xv(t,e,r){const[n,s]=wv(r==null?void 0:r.in,t,e),o=ed(n),i=ed(s),l=+o-Zu(o),c=+i-Zu(i);return Math.round((l-c)/yv)}function kv(t,e){const r=Yf(t,e),n=_r(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),ci(n)}function _v(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function bv(t){return!(!_v(t)&&typeof t!="number"||isNaN(+Pt(t)))}function Sv(t,e){const r=Pt(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const jv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Cv=(t,e,r)=>{let n;const s=jv[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ga(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Nv={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ev={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ov={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Pv={date:ga({formats:Nv,defaultWidth:"full"}),time:ga({formats:Ev,defaultWidth:"full"}),dateTime:ga({formats:Ov,defaultWidth:"full"})},Tv={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Av=(t,e,r,n)=>Tv[t];function rs(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const Dv={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Rv={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Lv={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Mv={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Iv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$v={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zv=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Uv={ordinalNumber:zv,era:rs({values:Dv,defaultWidth:"wide"}),quarter:rs({values:Rv,defaultWidth:"wide",argumentCallback:t=>t-1}),month:rs({values:Lv,defaultWidth:"wide"}),day:rs({values:Mv,defaultWidth:"wide"}),dayPeriod:rs({values:Iv,defaultWidth:"wide",formattingValues:$v,defaultFormattingWidth:"wide"})};function ns(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const i=o[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Bv(l,h=>h.test(i)):Fv(l,h=>h.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}function Fv(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Bv(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Wv(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],o=e.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=e.slice(s.length);return{value:i,rest:l}}}const Hv=/^(\d+)(th|st|nd|rd)?/i,Vv=/\d+/i,qv={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gv={any:[/^b/i,/^(a|c)/i]},Kv={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Qv={any:[/1/i,/2/i,/3/i,/4/i]},Yv={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jv={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xv={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Zv={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ew={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rw={ordinalNumber:Wv({matchPattern:Hv,parsePattern:Vv,valueCallback:t=>parseInt(t,10)}),era:ns({matchPatterns:qv,defaultMatchWidth:"wide",parsePatterns:Gv,defaultParseWidth:"any"}),quarter:ns({matchPatterns:Kv,defaultMatchWidth:"wide",parsePatterns:Qv,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ns({matchPatterns:Yv,defaultMatchWidth:"wide",parsePatterns:Jv,defaultParseWidth:"any"}),day:ns({matchPatterns:Xv,defaultMatchWidth:"wide",parsePatterns:Zv,defaultParseWidth:"any"}),dayPeriod:ns({matchPatterns:ew,defaultMatchWidth:"any",parsePatterns:tw,defaultParseWidth:"any"})},nw={code:"en-US",formatDistance:Cv,formatLong:Pv,formatRelative:Av,localize:Uv,match:rw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sw(t,e){const r=Pt(t,e==null?void 0:e.in);return xv(r,Sv(r))+1}function ow(t,e){const r=Pt(t,e==null?void 0:e.in),n=+ci(r)-+kv(r);return Math.round(n/Qf)+1}function Jf(t,e){var d,h,f,v;const r=Pt(t,e==null?void 0:e.in),n=r.getFullYear(),s=Ti(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(f=s.locale)==null?void 0:f.options)==null?void 0:v.firstWeekContainsDate)??1,i=_r((e==null?void 0:e.in)||t,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const l=Fs(i,e),c=_r((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=Fs(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function iw(t,e){var l,c,u,d;const r=Ti(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Jf(t,e),o=_r((e==null?void 0:e.in)||t,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Fs(o,e)}function aw(t,e){const r=Pt(t,e==null?void 0:e.in),n=+Fs(r,e)-+iw(r,e);return Math.round(n/Qf)+1}function de(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const nr={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return de(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):de(r+1,2)},d(t,e){return de(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return de(t.getHours()%12||12,e.length)},H(t,e){return de(t.getHours(),e.length)},m(t,e){return de(t.getMinutes(),e.length)},s(t,e){return de(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return de(s,e.length)}},an={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},td={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return nr.y(t,e)},Y:function(t,e,r,n){const s=Jf(t,n),o=s>0?s:1-s;if(e==="YY"){const i=o%100;return de(i,2)}return e==="Yo"?r.ordinalNumber(o,{unit:"year"}):de(o,e.length)},R:function(t,e){const r=Yf(t);return de(r,e.length)},u:function(t,e){const r=t.getFullYear();return de(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return de(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return de(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return nr.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return de(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=aw(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):de(s,e.length)},I:function(t,e,r){const n=ow(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):de(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):nr.d(t,e)},D:function(t,e,r){const n=sw(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):de(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return de(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return de(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return de(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=an.noon:n===0?s=an.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=an.evening:n>=12?s=an.afternoon:n>=4?s=an.morning:s=an.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return nr.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):nr.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):de(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):de(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):nr.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):nr.s(t,e)},S:function(t,e){return nr.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return nd(n);case"XXXX":case"XX":return Lr(n);case"XXXXX":case"XXX":default:return Lr(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return nd(n);case"xxxx":case"xx":return Lr(n);case"xxxxx":case"xxx":default:return Lr(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+rd(n,":");case"OOOO":default:return"GMT"+Lr(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+rd(n,":");case"zzzz":default:return"GMT"+Lr(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return de(n,e.length)},T:function(t,e,r){return de(+t,e.length)}};function rd(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+e+de(o,2)}function nd(t,e){return t%60===0?(t>0?"-":"+")+de(Math.abs(t)/60,2):Lr(t,e)}function Lr(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=de(Math.trunc(n/60),2),o=de(n%60,2);return r+s+e+o}const sd=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Xf=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},lw=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return sd(t,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",sd(n,e)).replace("{{time}}",Xf(s,e))},cw={p:Xf,P:lw},uw=/^D+$/,dw=/^Y+$/,hw=["D","DD","YY","YYYY"];function fw(t){return uw.test(t)}function pw(t){return dw.test(t)}function mw(t,e,r){const n=gw(t,e,r);if(console.warn(n),hw.includes(t))throw new RangeError(n)}function gw(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ww=/^'([^]*?)'?$/,xw=/''/g,kw=/[a-zA-Z]/;function _w(t,e,r){var d,h,f,v;const n=Ti(),s=n.locale??nw,o=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=n.weekStartsOn??((v=(f=n.locale)==null?void 0:f.options)==null?void 0:v.weekStartsOn)??0,l=Pt(t,r==null?void 0:r.in);if(!bv(l))throw new RangeError("Invalid time value");let c=e.match(vw).map(y=>{const k=y[0];if(k==="p"||k==="P"){const T=cw[k];return T(y,s.formatLong)}return y}).join("").match(yw).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const k=y[0];if(k==="'")return{isToken:!1,value:bw(y)};if(td[k])return{isToken:!0,value:y};if(k.match(kw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const k=y.value;(pw(k)||fw(k))&&mw(k,e,String(t));const T=td[k[0]];return T(l,k,s.localize,u)}).join("")}function bw(t){const e=t.match(ww);return e?e[1].replace(xw,"'"):t}const Sw=()=>{const{fetchUsers:t,updateUserRole:e,deleteUser:r}=Bn(),[n,s]=C.useState([]),[o,i]=C.useState(!0),[l,c]=C.useState(""),[u,d]=C.useState(!1),[h,f]=C.useState(!1),[v,y]=C.useState(!1),[k,T]=C.useState(null),[g,p]=C.useState("user"),[m,w]=C.useState(""),[N,b]=C.useState("user"),[E,R]=C.useState(!1);C.useEffect(()=>{W()},[]);const W=async()=>{i(!0);const q=await t();s(q),i(!1)},H=n.filter(q=>{var Ne;return((Ne=q.email)==null?void 0:Ne.toLowerCase().includes(l.toLowerCase()))||q.role.toLowerCase().includes(l.toLowerCase())}),ne=q=>{T(q),p(q.role),d(!0)},fe=q=>{T(q),f(!0)},Z=async()=>{if(k){R(!0);try{await e(k.id,g),await W(),d(!1)}catch(q){console.error("Failed to update role",q),alert("Failed to update role")}finally{R(!1)}}},Q=async()=>{if(k){R(!0);try{await r(k.id),await W(),f(!1)}catch(q){console.error("Failed to delete user",q),alert("Failed to delete user")}finally{R(!1)}}},ce=()=>{alert("To add a new user, currently you need to use the Supabase Dashboard Authentication page or share the signup link. We are building a dedicated invite system."),y(!1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:"User Management"}),a.jsxs(U,{onClick:()=>y(!0),children:[a.jsx(uv,{size:18,className:"mr-2"}),"Add New User"]})]}),a.jsxs("div",{className:"flex items-center space-x-4 bg-gray-100 dark:bg-gray-100 p-4 rounded-lg shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(iv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 rounded-md border border-gray-300 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",placeholder:"Search users by email...",value:l,onChange:q=>c(q.target.value)})]}),a.jsxs("div",{className:"text-sm text-gray-700",children:["Total Users: ",a.jsx("span",{className:"font-semibold text-black",children:n.length})]})]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-50 rounded-lg shadow overflow-hidden border border-gray-200",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-200 dark:bg-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-black uppercase tracking-wider",children:"Email"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-black uppercase tracking-wider",children:"Role"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-black uppercase tracking-wider",children:"Joined Date"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-bold text-black uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:o?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"Loading users..."})}):H.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"No users found matching your search."})}):H.map(q=>a.jsxs("tr",{className:"hover:bg-gray-100 dark:hover:bg-gray-200 transition-colors border-b border-gray-200",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center text-blue-600 dark:text-blue-300",children:a.jsx(Gf,{size:16})}),a.jsx("div",{className:"ml-4",children:a.jsx("div",{className:"text-sm font-medium text-black",children:q.email||"No Email"})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${q.role==="admin"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:[q.role==="admin"?a.jsx(av,{size:12,className:"mr-1 self-center"}):null,q.role.charAt(0).toUpperCase()+q.role.slice(1)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:q.created_at?_w(new Date(q.created_at),"MMM dd, yyyy"):"N/A"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx("button",{onClick:()=>ne(q),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-4",title:"Edit User",children:a.jsx(nv,{size:18})}),a.jsx("button",{onClick:()=>fe(q),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Delete User",children:a.jsx(jt,{size:18})})]})]},q.id))})]})})}),a.jsx(Et,{isOpen:u,onClose:()=>d(!1),title:"Edit User Role",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:"Email"}),a.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-md text-gray-600 dark:text-gray-300",children:(k==null?void 0:k.email)||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:"Role"}),a.jsxs("select",{value:g,onChange:q=>p(q.target.value),className:"w-full p-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 outline-none transition-colors",style:{color:"var(--color-text-primary)"},children:[a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"admin",children:"Admin"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(U,{variant:"secondary",onClick:()=>d(!1),children:"Cancel"}),a.jsx(U,{onClick:Z,disabled:E,children:E?"Saving...":"Save Changes"})]})]})}),a.jsx(Et,{isOpen:h,onClose:()=>f(!1),title:"Confirm Delete",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Are you sure you want to delete user ",a.jsx("strong",{children:k==null?void 0:k.email}),"? This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(U,{variant:"secondary",onClick:()=>f(!1),children:"Cancel"}),a.jsx(U,{variant:"danger",onClick:Q,disabled:E,children:E?"Deleting...":"Delete User"})]})]})}),a.jsx(Et,{isOpen:v,onClose:()=>y(!1),title:"Add New User",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Enter details to invite a new user."}),a.jsx(lt,{label:"Email Address",value:m,onChange:q=>w(q.target.value),placeholder:"user@example.com"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:"Role"}),a.jsxs("select",{value:N,onChange:q=>b(q.target.value),className:"w-full p-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 outline-none transition-colors",style:{color:"var(--color-text-primary)"},children:[a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"admin",children:"Admin"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(U,{variant:"secondary",onClick:()=>y(!1),children:"Cancel"}),a.jsx(U,{onClick:ce,children:"Send Invitation"})]})]})})]})},jw=[{id:"1759926496568",name:"Super project 1",description:null,type:"hybrid",cards:[{id:"1",content:"Network Map",sortOrder:0},{id:"2",content:"Wi-Fi",sortOrder:1},{id:"3",content:"WAN",sortOrder:2},{id:"4",content:"LAN",sortOrder:3},{id:"5",content:"Ethernet",sortOrder:4},{id:"6",content:"GRE Tunnels",sortOrder:5},{id:"7",content:"Firewall",sortOrder:6},{id:"8",content:"Parental Controls",sortOrder:7},{id:"9",content:"Port Triggering",sortOrder:8},{id:"10",content:"Port Filtering",sortOrder:9},{id:"11",content:"Port Forwarding",sortOrder:10},{id:"12",content:"MAC Filtering",sortOrder:11},{id:"13",content:"DMZ",sortOrder:12},{id:"14",content:"VPN",sortOrder:13},{id:"15",content:"Local UI Password",sortOrder:14},{id:"16",content:"Speed Test",sortOrder:15},{id:"17",content:"Wi-Fi Analyzer",sortOrder:16},{id:"18",content:"Wi-Fi Score",sortOrder:17},{id:"19",content:"Wi-Fi Diagnostics",sortOrder:18},{id:"20",content:"Device Diagnostics",sortOrder:19},{id:"21",content:"Device logs",sortOrder:20},{id:"22",content:"Crash logs",sortOrder:21},{id:"23",content:"Events & Alert history",sortOrder:22},{id:"24",content:"Device Processes",sortOrder:23},{id:"25",content:"DOCSIS Statistics",sortOrder:24},{id:"26",content:"Firmware",sortOrder:25},{id:"27",content:"Back up & Restore",sortOrder:26},{id:"28",content:"Advanced Services",sortOrder:27},{id:"29",content:"NTP Server",sortOrder:28}],categories:[{id:"cat-1",name:"Network",sortOrder:0},{id:"cat-2",name:"Security",sortOrder:1},{id:"cat-3",name:"Diagnostics",sortOrder:2},{id:"cat-4",name:"Troubleshooting",sortOrder:3},{id:"cat-5",name:"Settings",sortOrder:4},{id:"cat-6",name:"Voice",sortOrder:5}],created_at:"2025-10-08T12:28:16.568+00:00",updated_at:"2025-10-10T15:31:01.994+00:00"},{id:"1759926505165",name:"a2",description:null,type:"closed",cards:[{id:"1",content:"Network Map",sortOrder:0},{id:"2",content:"Wi-Fi",sortOrder:1},{id:"3",content:"WAN",sortOrder:2},{id:"4",content:"LAN",sortOrder:3},{id:"5",content:"Ethernet",sortOrder:4},{id:"6",content:"GRE Tunnels",sortOrder:5},{id:"7",content:"Firewall",sortOrder:6},{id:"8",content:"Parental Controls",sortOrder:7},{id:"9",content:"Port Triggering",sortOrder:8},{id:"10",content:"Port Filtering",sortOrder:9},{id:"11",content:"Port Forwarding",sortOrder:10},{id:"12",content:"MAC Filtering",sortOrder:11},{id:"13",content:"DMZ",sortOrder:12},{id:"14",content:"VPN",sortOrder:13},{id:"15",content:"Local UI Password",sortOrder:14},{id:"16",content:"Speed Test",sortOrder:15},{id:"17",content:"Wi-Fi Analyzer",sortOrder:16},{id:"18",content:"Wi-Fi Score",sortOrder:17},{id:"19",content:"Wi-Fi Diagnostics",sortOrder:18},{id:"20",content:"Device Diagnostics",sortOrder:19},{id:"21",content:"Device logs",sortOrder:20},{id:"22",content:"Crash logs",sortOrder:21},{id:"23",content:"Events & Alert history",sortOrder:22},{id:"24",content:"Device Processes",sortOrder:23},{id:"25",content:"DOCSIS Statistics",sortOrder:24},{id:"26",content:"Firmware",sortOrder:25},{id:"27",content:"Back up & Restore",sortOrder:26},{id:"28",content:"Advanced Services",sortOrder:27},{id:"29",content:"NTP Server",sortOrder:28}],categories:[{id:"cat-1",name:"Network",sortOrder:0},{id:"cat-2",name:"Security",sortOrder:1},{id:"cat-3",name:"Diagnostics",sortOrder:2},{id:"cat-4",name:"Troubleshooting",sortOrder:3},{id:"cat-5",name:"Settings",sortOrder:4},{id:"cat-6",name:"Voice",sortOrder:5}],created_at:"2025-10-08T12:28:25.165+00:00",updated_at:"2025-10-13T04:55:26.965+00:00"},{id:"1768377467566",name:"Subscriber Portal - Option A",description:"Please sort all the cards and publish.",type:"closed",cards:[{id:"1",content:"Network Status",description:"See if your network is online and running normally.",sortOrder:0},{id:"2",content:"Network Speed",description:"Check how fast your internet connection is.",sortOrder:1},{id:"3",content:"Network Map",description:"View how your devices are connected to your network.",sortOrder:2},{id:"4",content:"Wi-Fi Networks",description:"See the Wi-Fi networks your router is broadcasting.",sortOrder:3},{id:"5",content:"Wi-Fi Settings",description:"Change your Wi-Fi name, password, and security options.",sortOrder:4},{id:"6",content:"Connected Devices",description:"View all devices currently connected to your network.",sortOrder:5},{id:"7",content:"Down Time",description:"See when your network was unavailable.",sortOrder:6},{id:"8",content:"Usage and Insights",description:"Understand how your network is being used.",sortOrder:7},{id:"9",content:"Advanced Setting",description:"Access advanced network configuration options.",sortOrder:8},{id:"10",content:"Alerts/Notifications",description:"Get notified about network activity and issues.",sortOrder:9},{id:"11",content:"Add/Setup Gateway or Extender",description:"Add a new gateway or extender to your network.",sortOrder:10},{id:"12",content:"MAC Filtering",description:"Choose which devices are allowed to connect, based on their unique MAC addresses.",sortOrder:11},{id:"13",content:"Port Forwarding",description:"Allow specific apps or devices to be accessed from the internet.",sortOrder:12},{id:"14",content:"Port Filtering",description:"Control internet traffic by allowing or blocking specific ports.",sortOrder:13},{id:"15",content:"Port Triggering",description:"Automatically open ports when a device needs them.",sortOrder:14},{id:"16",content:"Firewall",description:"Protect your network from unwanted or suspicious traffic.",sortOrder:15},{id:"17",content:"Device Groups",description:"Organize devices into groups for easier management.",sortOrder:16},{id:"18",content:"DNS Setting",description:"Chooses how your network converts the human-friendly URL (e.g., wikipedia.org) into the numerical IP address necessary for your computer to find the website.",sortOrder:17},{id:"19",content:"Internet Configuration",description:"Set up how your gateway connects to the internet.",sortOrder:18},{id:"20",content:"DHCP Reservations",description:"Assign the same IP address to specific devices.",sortOrder:19},{id:"21",content:"DOCSIS Summary",description:"View cable connection and signal details.",sortOrder:20},{id:"22",content:"Local Network",description:"Manage settings for devices within your home network.",sortOrder:21},{id:"23",content:"Ethernet Configuration",description:"Configure wired network connection settings.",sortOrder:22},{id:"24",content:"NTP Servers",description:"Set time servers to keep your network time accurate.",sortOrder:23},{id:"25",content:"Static IP Automatic Assignment",description:"Automatically assign fixed IP addresses to devices.",sortOrder:24},{id:"26",content:"Wi-Fi Configuration",description:"Configure advanced Wi-Fi network options.",sortOrder:25},{id:"27",content:"Mesh",description:"Manage and monitor your mesh Wi-Fi network.",sortOrder:26},{id:"28",content:"Local web UI Password",description:"Change the password for accessing the local gateway interface.",sortOrder:27},{id:"29",content:"Backup and Restore",description:"Save your settings or restore them from a backup.",sortOrder:28},{id:"30",content:"Speed test",description:"Test your internet connection speed.",sortOrder:29},{id:"31",content:"SSID Scanner",description:"Scan nearby Wi-Fi networks to check congestion and channels.",sortOrder:30},{id:"32",content:"Gateway Login",description:"Access your gateway's management interface.",sortOrder:31},{id:"33",content:"Network Tool-box",description:"Use network tools to diagnose connection issues.",sortOrder:32},{id:"34",content:"Factory Reset",description:"Reset the gateway to its original settings.",sortOrder:33},{id:"35",content:"Content Filtering",description:"Block or allow access to specific websites or content.",sortOrder:34},{id:"36",content:"Reboot",description:"Restart the gateway to refresh the connection.",sortOrder:35},{id:"37",content:"Test Connection",description:"Check if your gateway is properly connected to the internet.",sortOrder:36},{id:"38",content:"DMZ",description:"Expose one device directly to the internet.",sortOrder:37},{id:"39",content:"Device Alias",description:"Rename devices to make them easier to identify.",sortOrder:38},{id:"40",content:"Manage Users",description:"Add, remove, or manage access for users.",sortOrder:39},{id:"41",content:"Support",description:"Get help, guides, or contact customer support.",sortOrder:40},{id:"42",content:"Multi-Language",description:"Change the language used in the app.",sortOrder:41},{id:"43",content:"Theme Light/Dark",description:"Switch between light and dark display themes.",sortOrder:42},{id:"44",content:"Switch Account",description:"Change to a different user account.",sortOrder:43},{id:"45",content:"Switch Gateway",description:"View or manage a different gateway.",sortOrder:44}],categories:[{id:"cat-3",name:"Home",sortOrder:0},{id:"cat-4",name:"Devices",sortOrder:1},{id:"cat-1",name:"Network",sortOrder:2},{id:"cat-5",name:"Settings",sortOrder:3}],created_at:"2026-01-14T07:57:47.566+00:00",updated_at:"2026-01-15T14:47:57.961+00:00"},{id:"1770058861688",name:"Test Restore",description:null,type:"hybrid",cards:[{id:"1",content:"Network Map",sortOrder:0},{id:"2",content:"Wi-Fi",sortOrder:1},{id:"3",content:"WAN",sortOrder:2},{id:"4",content:"LAN",sortOrder:3},{id:"5",content:"Ethernet",sortOrder:4},{id:"6",content:"GRE Tunnels",sortOrder:5},{id:"7",content:"Firewall",sortOrder:6},{id:"8",content:"Parental Controls",sortOrder:7},{id:"9",content:"Port Triggering",sortOrder:8},{id:"10",content:"Port Filtering",sortOrder:9},{id:"11",content:"Port Forwarding",sortOrder:10},{id:"12",content:"MAC Filtering",sortOrder:11},{id:"13",content:"DMZ",sortOrder:12},{id:"14",content:"VPN",sortOrder:13},{id:"15",content:"Local UI Password",sortOrder:14},{id:"16",content:"Speed Test",sortOrder:15},{id:"17",content:"Wi-Fi Analyzer",sortOrder:16},{id:"18",content:"Wi-Fi Score",sortOrder:17},{id:"19",content:"Wi-Fi Diagnostics",sortOrder:18},{id:"20",content:"Device Diagnostics",sortOrder:19},{id:"21",content:"Device logs",sortOrder:20},{id:"22",content:"Crash logs",sortOrder:21},{id:"23",content:"Events & Alert history",sortOrder:22},{id:"24",content:"Device Processes",sortOrder:23},{id:"25",content:"DOCSIS Statistics",sortOrder:24},{id:"26",content:"Firmware",sortOrder:25},{id:"27",content:"Back up & Restore",sortOrder:26},{id:"28",content:"Advanced Services",sortOrder:27},{id:"29",content:"NTP Server",sortOrder:28}],categories:[{id:"cat-1",name:"Network",sortOrder:0},{id:"cat-2",name:"Security",sortOrder:1},{id:"cat-3",name:"Diagnostics",sortOrder:2},{id:"cat-4",name:"Troubleshooting",sortOrder:3},{id:"cat-5",name:"Settings",sortOrder:4},{id:"cat-6",name:"Voice",sortOrder:5}],created_at:"2026-02-02T19:01:01.688+00:00",updated_at:"2026-02-02T19:01:01.688+00:00"},{id:"1770088957961",name:"Subscriber Portal - Option B",description:null,type:"closed",cards:[{id:"1",content:"Network Status",description:"See if your network is online and running normally.",sortOrder:0},{id:"2",content:"Network Speed",description:"Check how fast your internet connection is.",sortOrder:1},{id:"3",content:"Network Map",description:"View how your devices are connected to your network.",sortOrder:2},{id:"4",content:"Wi-Fi Networks",description:"See the Wi-Fi networks your router is broadcasting.",sortOrder:3},{id:"5",content:"Wi-Fi Settings",description:"Change your Wi-Fi name, password, and security options.",sortOrder:4},{id:"6",content:"Connected Devices",description:"View all devices currently connected to your network.",sortOrder:5},{id:"7",content:"Down Time",description:"See when your network was unavailable.",sortOrder:6},{id:"8",content:"Usage and Insights",description:"Understand how your network is being used.",sortOrder:7},{id:"9",content:"Advanced Setting",description:"Access advanced network configuration options.",sortOrder:8},{id:"10",content:"Alerts/Notifications",description:"Get notified about network activity and issues.",sortOrder:9},{id:"11",content:"Add/Setup Gateway or Extender",description:"Add a new gateway or extender to your network.",sortOrder:10},{id:"12",content:"MAC Filtering",description:"Choose which devices are allowed to connect, based on their unique MAC addresses.",sortOrder:11},{id:"13",content:"Port Forwarding",description:"Allow specific apps or devices to be accessed from the internet.",sortOrder:12},{id:"14",content:"Port Filtering",description:"Control internet traffic by allowing or blocking specific ports.",sortOrder:13},{id:"15",content:"Port Triggering",description:"Automatically open ports when a device needs them.",sortOrder:14},{id:"16",content:"Firewall",description:"Protect your network from unwanted or suspicious traffic.",sortOrder:15},{id:"17",content:"Device Groups",description:"Organize devices into groups for easier management.",sortOrder:16},{id:"18",content:"DNS Setting",description:"Chooses how your network converts the human-friendly URL (e.g., wikipedia.org) into the numerical IP address necessary for your computer to find the website.",sortOrder:17},{id:"19",content:"Internet Configuration",description:"Set up how your gateway connects to the internet.",sortOrder:18},{id:"20",content:"DHCP Reservations",description:"Assign the same IP address to specific devices.",sortOrder:19},{id:"21",content:"DOCSIS Summary",description:"View cable connection and signal details.",sortOrder:20},{id:"22",content:"Local Network",description:"Manage settings for devices within your home network.",sortOrder:21},{id:"23",content:"Ethernet Configuration",description:"Configure wired network connection settings.",sortOrder:22},{id:"24",content:"NTP Servers",description:"Set time servers to keep your network time accurate.",sortOrder:23},{id:"25",content:"Static IP Automatic Assignment",description:"Automatically assign fixed IP addresses to devices.",sortOrder:24},{id:"26",content:"Wi-Fi Configuration",description:"Configure advanced Wi-Fi network options.",sortOrder:25},{id:"27",content:"Mesh",description:"Manage and monitor your mesh Wi-Fi network.",sortOrder:26},{id:"28",content:"Local web UI Password",description:"Change the password for accessing the local gateway interface.",sortOrder:27},{id:"29",content:"Backup and Restore",description:"Save your settings or restore them from a backup.",sortOrder:28},{id:"30",content:"Speed test",description:"Test your internet connection speed.",sortOrder:29},{id:"31",content:"SSID Scanner",description:"Scan nearby Wi-Fi networks to check congestion and channels.",sortOrder:30},{id:"32",content:"Gateway Login",description:"Access your gateway's management interface.",sortOrder:31},{id:"33",content:"Network Tool-box",description:"Use network tools to diagnose connection issues.",sortOrder:32},{id:"34",content:"Factory Reset",description:"Reset the gateway to its original settings.",sortOrder:33},{id:"35",content:"Content Filtering",description:"Block or allow access to specific websites or content.",sortOrder:34},{id:"36",content:"Reboot",description:"Restart the gateway to refresh the connection.",sortOrder:35},{id:"37",content:"Test Connection",description:"Check if your gateway is properly connected to the internet.",sortOrder:36},{id:"38",content:"DMZ",description:"Expose one device directly to the internet.",sortOrder:37},{id:"39",content:"Device Alias",description:"Rename devices to make them easier to identify.",sortOrder:38},{id:"40",content:"Manage Users",description:"Add, remove, or manage access for users.",sortOrder:39},{id:"41",content:"Support",description:"Get help, guides, or contact customer support.",sortOrder:40},{id:"42",content:"Multi-Language",description:"Change the language used in the app.",sortOrder:41},{id:"43",content:"Theme Light/Dark",description:"Switch between light and dark display themes.",sortOrder:42},{id:"44",content:"Switch Account",description:"Change to a different user account.",sortOrder:43},{id:"45",content:"Switch Gateway",description:"View or manage a different gateway.",sortOrder:44}],categories:[{id:"cat-1",name:"Home",sortOrder:0},{id:"cat-2",name:"Profiles",sortOrder:1},{id:"cat-3",name:"Devises",sortOrder:2},{id:"cat-4",name:"More",sortOrder:3}],created_at:"2026-02-03T03:22:37.961+00:00",updated_at:"2026-02-03T03:23:48.703+00:00"}],Cw=({onNavigate:t})=>{const{projects:e,createProject:r,deleteProject:n,updateProject:s,refreshProjects:o,restoreProject:i,permanentlyDeleteProject:l,duplicateProject:c}=Bn(),[u,d]=C.useState(!1),[h,f]=C.useState(!1),[v,y]=C.useState(null),[k,T]=C.useState(""),[g,p]=C.useState(""),[m,w]=C.useState("hybrid"),[N,b]=C.useState(""),[E,R]=C.useState(!1),[W,H]=C.useState(new Set),[ne,fe]=C.useState(null),[Z,Q]=C.useState(!1),[ce,q]=C.useState(null),[Ne,L]=C.useState(null),[G,V]=C.useState(!1),[S,x]=C.useState("projects"),[j,D]=C.useState(!0),[I,J]=C.useState(!1),[F,xe]=C.useState([]),le=(_,Y)=>{const oe=Date.now().toString();xe(je=>[...je,{id:oe,type:_,message:Y}])},Tt=_=>{xe(Y=>Y.filter(oe=>oe.id!==_))},zt=async()=>{if(!k.trim()){b("Project name is required");return}if(e.some(_=>_.name.toLowerCase()===k.toLowerCase())){b("A project with this name already exists");return}await r(k.trim(),m,g.trim()||void 0),T(""),p(""),w("hybrid"),b(""),d(!1)},At=async(_,Y)=>{Y.stopPropagation();const oe=await c(_);oe!=null&&oe.error&&console.error("Failed to duplicate project:",oe.error)},Yr=async()=>{if(confirm("This will import 5 recovered projects from the old database. Continue?"))try{const{data:{user:_}}=await K.auth.getUser();if(!_){alert("You must be logged in to recover projects.");return}let Y=0;for(const oe of jw){const{data:je}=await K.from("projects").select("id").eq("name",oe.name).eq("created_at",oe.created_at).maybeSingle();if(je){console.log(`Updating cards for existing project: ${oe.name}`);const{error:O}=await K.from("projects").update({cards:oe.cards}).eq("id",je.id);O?console.error("Failed to update project cards:",O):Y++;continue}const{error:Oe}=await K.from("projects").insert({...oe,id:crypto.randomUUID(),user_id:_.id});Oe?console.error("Failed to import:",oe.name,Oe):Y++}alert(`Successfully recovered ${Y} projects! Refreshing...`),window.location.reload()}catch(_){console.error("Recovery failed:",_),alert("Recovery failed. Check console for details.")}},Jr=_=>{fe(_)},Xt=async()=>{if(ne){const _=await n(ne);_&&_.error?le("error","Failed to move project to recycle bin. Database schema might be outdated."):le("success","Project moved to recycle bin"),fe(null)}},Nr=_=>{q(_)},Er=async()=>{if(ce){const _=await i(ce);_&&_.error?le("error","Failed to restore project"):le("success","Project restored successfully"),q(null)}},Zt=_=>{L(_)},Wn=async()=>{if(Ne){const _=await l(Ne);_&&_.error?le("error","Failed to permanently delete project"):le("success","Project permanently deleted"),L(null)}},Hn=_=>{y(_.id),T(_.name),p(_.description||""),w(_.type),f(!0)},st=async()=>{if(!k.trim()){b("Project name is required");return}if(!v)return;if(e.find(Y=>Y.name.toLowerCase()===k.toLowerCase()&&Y.id!==v)){b("A project with this name already exists");return}await s(v,{name:k.trim(),description:g.trim()||void 0,type:m}),T(""),p(""),w("hybrid"),y(null),b(""),f(!1)},Xr=()=>{R(!E),E&&H(new Set)},Vn=()=>{W.size===e.length?H(new Set):H(new Set(e.map(_=>_.id)))},Zr=_=>{const Y=new Set(W);Y.has(_)?Y.delete(_):Y.add(_),H(Y)},Or=()=>{if(W.size===0)return;const _=e.filter(O=>W.has(O.id)),Y=JSON.stringify(_,null,2),oe=new Blob([Y],{type:"application/json"}),je=URL.createObjectURL(oe),Oe=document.createElement("a");Oe.href=je,Oe.download=`projects_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe),URL.revokeObjectURL(je)},P=async()=>{if(W.size===0)return;const _=e.filter(oe=>W.has(oe.id)),Y=`Sharing ${W.size} project(s): ${_.map(oe=>oe.name).join(", ")} `;try{if(navigator.share)await navigator.share({title:"Card Sorting Projects",text:Y});else throw new Error("Web Share API not supported")}catch(oe){try{await navigator.clipboard.writeText(Y),le("success","Project names copied to clipboard!")}catch{console.error("Share failed:",oe),le("error","Failed to share projects")}}},M=async _=>{const oe=`${window.location.origin}/subscriber-portal/?project=${_}`;try{await navigator.clipboard.writeText(oe),le("success","Project link copied to clipboard!")}catch(je){console.error("Copy failed:",je),prompt("Copy this link:",oe)}},z=async()=>{try{localStorage.removeItem("sb-https://sebjqfbteohfixnxotvw.supabase.co-auth-token"),localStorage.clear(),sessionStorage.clear(),await K.auth.signOut()}catch(_){console.error("Logout error:",_)}finally{t("landing"),window.location.reload()}},ue=async()=>{J(!0);try{const{data:_,error:Y}=await K.from("app_settings").select("setting_value").eq("setting_key","enable_signup").maybeSingle();if(Y)throw Y;_&&D(_.setting_value===!0)}catch(_){console.error("Error fetching settings:",_)}finally{J(!1)}},ve=async _=>{try{const{error:Y}=await K.from("app_settings").update({setting_value:_,updated_at:new Date().toISOString()}).eq("setting_key","enable_signup");if(Y)throw Y;D(_),alert(`Sign up ${_?"enabled":"disabled"} successfully`)}catch(Y){console.error("Error updating signup setting:",Y),alert("Failed to update setting. Please try again.")}};yp.useEffect(()=>{S==="settings"&&ue()},[S]);const se=e.filter(_=>!_.deletedAt),$e=e.filter(_=>_.deletedAt);return a.jsx("div",{className:"min-h-screen p-8",style:{backgroundColor:"var(--color-bg-secondary)"},children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Admin Dashboard"}),a.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"Manage your card sorting projects and users"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[S==="projects"&&a.jsxs(a.Fragment,{children:[a.jsxs(U,{variant:"secondary",onClick:Yr,title:"Recover projects from old database",children:[a.jsx(Z0,{size:20,className:"mr-2"}),"Recover Data"]}),a.jsx(U,{onClick:o,variant:"secondary",size:"lg",title:"Refresh projects",children:a.jsx(sv,{size:20})}),a.jsxs(U,{onClick:()=>d(!0),size:"lg",children:[a.jsx(li,{size:20,className:"mr-2"}),"Create Project"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(U,{onClick:()=>V(!G),variant:"secondary",size:"lg",children:a.jsx(Gf,{size:20})}),G&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-lg shadow-lg border z-50",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-primary)"},children:a.jsxs("button",{onClick:z,className:"w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-opacity-80 transition-colors rounded-lg",style:{color:"var(--color-text-primary)"},children:[a.jsx(tv,{size:18}),a.jsx("span",{children:"Logout"})]})})]})]})]}),a.jsxs("div",{className:"flex gap-4 mb-8 border-b",style:{borderColor:"var(--color-border-primary)"},children:[a.jsxs("button",{onClick:()=>x("projects"),className:"flex items-center gap-2 px-4 py-3 font-medium transition-colors",style:{color:S==="projects"?"var(--color-primary-600)":"var(--color-text-secondary)",borderBottom:S==="projects"?"2px solid var(--color-primary-600)":"2px solid transparent"},children:[a.jsx(ks,{size:20}),"Projects"]}),a.jsxs("button",{onClick:()=>x("users"),className:"flex items-center gap-2 px-4 py-3 font-medium transition-colors",style:{color:S==="users"?"var(--color-primary-600)":"var(--color-text-secondary)",borderBottom:S==="users"?"2px solid var(--color-primary-600)":"2px solid transparent"},children:[a.jsx(dv,{size:20}),"Users"]}),a.jsxs("button",{onClick:()=>x("settings"),className:"flex items-center gap-2 px-4 py-3 font-medium transition-colors",style:{color:S==="settings"?"var(--color-primary-600)":"var(--color-text-secondary)",borderBottom:S==="settings"?"2px solid var(--color-primary-600)":"2px solid transparent"},children:[a.jsx(Yu,{size:20}),"Settings"]})]}),S==="projects"&&e.length>0&&a.jsxs("div",{className:"flex justify-end items-center gap-4 mb-4",children:[a.jsx("button",{onClick:Xr,className:"text-sm font-medium transition-colors",style:{color:E?"var(--color-primary-600)":"var(--color-text-secondary)"},children:"Select"}),E&&a.jsx("button",{onClick:Vn,className:"text-sm font-medium transition-colors",style:{color:"var(--color-text-secondary)"},children:"All"})]}),S==="projects"&&e.length>0&&E&&a.jsxs("div",{className:"fixed bottom-8 right-8 flex items-center gap-4",children:[a.jsxs("button",{onClick:P,disabled:W.size===0,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all",style:{color:W.size>0?"var(--color-text-primary)":"var(--color-text-tertiary)",opacity:W.size>0?1:.5,cursor:W.size>0?"pointer":"not-allowed"},children:[a.jsx(Ju,{size:20}),"Share"]}),a.jsxs("button",{onClick:Or,disabled:W.size===0,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all",style:{color:W.size>0?"var(--color-primary-600)":"var(--color-text-tertiary)",cursor:W.size>0?"pointer":"not-allowed"},children:[a.jsx(Ao,{size:20}),"Download JSON"]})]}),S==="projects"&&se.length===0&&a.jsx(Ke,{className:"p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"mb-4",children:a.jsx(ks,{size:48,className:"mx-auto",style:{color:"var(--color-text-tertiary)"}})}),a.jsx("h2",{className:"text-2xl font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:"No active projects"}),a.jsx("p",{className:"mb-6",style:{color:"var(--color-text-secondary)"},children:"Get started by creating your first card sorting project"}),a.jsxs(U,{onClick:()=>d(!0),children:[a.jsx(li,{size:20,className:"mr-2"}),"Create Project"]})]})}),S==="projects"&&se.length>0&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:se.map(_=>a.jsxs(Ke,{className:"p-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"text-xl font-semibold",style:{color:"var(--color-text-primary)"},children:_.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[E&&a.jsx("button",{onClick:()=>Zr(_.id),className:"flex items-center justify-center",children:W.has(_.id)?a.jsx(Q0,{size:20,style:{color:"var(--color-primary-600)"}}):a.jsx(X0,{size:20,style:{color:"var(--color-border-primary)"}})}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>Hn(_),className:"-mt-2 -mr-2",children:a.jsx(Yu,{size:20})})]})]}),a.jsx("div",{children:a.jsxs("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"var(--color-primary-50)",color:"var(--color-primary-600)"},children:[_.type.charAt(0).toUpperCase()+_.type.slice(1)," Sort"]})})]}),a.jsxs("div",{className:"mb-4 text-sm",style:{color:"var(--color-text-secondary)"},children:[a.jsxs("div",{children:["Cards: ",_.cards.length]}),a.jsxs("div",{children:["Categories: ",_.categories.length]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(U,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>t("manage",_.id),children:[a.jsx(ai,{size:16,className:"mr-1"}),"Manage"]}),a.jsxs(U,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>t("results",_.id),children:[a.jsx(ks,{size:16,className:"mr-1"}),"Results"]}),a.jsx(U,{variant:"secondary",size:"sm",onClick:Y=>At(_.id,Y),title:"Duplicate Project",children:a.jsx(qf,{size:16})}),a.jsx(U,{variant:"secondary",size:"sm",onClick:()=>M(_.id),title:"Copy shareable link",children:a.jsx(Ju,{size:16})}),a.jsx(U,{variant:"danger",size:"sm",onClick:()=>Jr(_.id),children:a.jsx(jt,{size:16})})]})]},_.id))}),S==="projects"&&a.jsxs("div",{className:"mt-12 border-t pt-8",style:{borderColor:"var(--color-border-primary)"},children:[a.jsxs("button",{onClick:()=>Q(!Z),className:"flex items-center gap-2 text-lg font-semibold mb-4 hover:opacity-80 transition-opacity",style:{color:"var(--color-text-secondary)"},children:[Z?a.jsx(un,{size:20}):a.jsx(J0,{size:20}),a.jsx(jt,{size:20}),"Recycle Bin (",$e.length,")"]}),Z&&a.jsx(a.Fragment,{children:$e.length===0?a.jsx(Ke,{className:"p-8 text-center bg-gray-50 border-dashed",children:a.jsx("p",{className:"text-sm",style:{color:"var(--color-text-tertiary)"},children:"Recycle bin is empty"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$e.map(_=>a.jsxs(Ke,{className:"p-6 relative opacity-75 hover:opacity-100 transition-opacity bg-gray-50",children:[a.jsx("div",{className:"absolute top-0 right-0 p-2",children:a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-red-100 text-red-800 font-medium",children:"Deleted"})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:_.name}),a.jsx("div",{children:a.jsxs("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"var(--color-neutral-100)",color:"var(--color-neutral-600)"},children:[_.type.charAt(0).toUpperCase()+_.type.slice(1)," Sort"]})})]}),a.jsxs("div",{className:"mb-4 text-sm",style:{color:"var(--color-text-secondary)"},children:[a.jsxs("div",{children:["Cards: ",_.cards.length]}),a.jsxs("div",{children:["Categories: ",_.categories.length]}),a.jsxs("div",{className:"mt-2 text-xs",children:["Deleted: ",_.deletedAt?new Date(_.deletedAt).toLocaleDateString():"Unknown"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(U,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>Nr(_.id),children:[a.jsx(xc,{size:16,className:"mr-1"}),"Restore"]}),a.jsx(U,{variant:"danger",size:"sm",onClick:()=>Zt(_.id),title:"Permanently Delete",children:a.jsx(jt,{size:16})})]})]},_.id))})})]}),S==="users"&&a.jsx(Sw,{}),S==="settings"&&a.jsx("div",{children:a.jsxs(Ke,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",style:{color:"var(--color-text-primary)"},children:"Application Settings"}),I?a.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text-secondary)"},children:"Loading settings..."}):a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--color-bg-secondary)"},children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-1",style:{color:"var(--color-text-primary)"},children:"Enable Sign Up"}),a.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Allow new users to create accounts on the landing page"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:j,onChange:_=>ve(_.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all",style:{backgroundColor:j?"var(--color-primary-600)":"var(--color-neutral-300)"}})]})]})})]})}),a.jsx(gv,{children:F.map(_=>a.jsx(mv,{id:_.id,type:_.type,message:_.message,onClose:Tt},_.id))}),a.jsx(_s,{isOpen:!!ne,onClose:()=>fe(null),onConfirm:Xt,title:"Delete Project",message:"Are you sure you want to move this project to the recycle bin? It can be restored later.",confirmText:"Delete Project",cancelText:"Cancel",variant:"danger"}),a.jsx(_s,{isOpen:!!ce,onClose:()=>q(null),onConfirm:Er,title:"Restore Project",message:"Are you sure you want to restore this project?",confirmText:"Restore Project",cancelText:"Cancel",variant:"warning"}),a.jsx(_s,{isOpen:!!Ne,onClose:()=>L(null),onConfirm:Wn,title:"Permanently Delete Project",message:"Are you sure you want to permanently delete this project? This action CANNOT be undone.",confirmText:"Delete Permanently",cancelText:"Cancel",variant:"danger"}),a.jsx(Et,{isOpen:u,onClose:()=>{d(!1),T(""),p(""),b("")},title:"Create New Project",footer:a.jsxs(a.Fragment,{children:[a.jsx(U,{variant:"secondary",onClick:()=>d(!1),children:"Cancel"}),a.jsx(U,{onClick:zt,children:"Create Project"})]}),children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Manage access"}),a.jsx("textarea",{placeholder:"Add a name, group, or email",rows:1,className:"w-full px-4 py-2 rounded-lg border transition-colors resize-none",style:{borderColor:"var(--color-border-primary)",backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-primary)"}}),a.jsx("p",{className:"text-xs mt-1",style:{color:"var(--color-text-tertiary)"},children:"Only these people can access this study."})]}),a.jsx(lt,{label:"Project Name",value:k,onChange:_=>{T(_.target.value),b("")},placeholder:"Enter project name",error:N}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Description (Optional)"}),a.jsx("textarea",{value:g,onChange:_=>p(_.target.value),placeholder:"Enter project description",rows:3,className:"w-full px-4 py-2 rounded-lg border transition-colors resize-none",style:{borderColor:"var(--color-border-primary)",backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-primary)"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Sort Type"}),a.jsx("div",{className:"space-y-2",children:["open","closed","hybrid"].map(_=>a.jsxs("label",{className:"flex items-start p-3 rounded-lg border cursor-pointer transition-all",style:{borderColor:m===_?"var(--color-border-brand)":"var(--color-border-primary)",backgroundColor:m===_?"var(--color-primary-50)":"transparent"},children:[a.jsx("input",{type:"radio",name:"sortType",value:_,checked:m===_,onChange:Y=>w(Y.target.value),className:"mt-1 mr-3"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:[_.charAt(0).toUpperCase()+_.slice(1)," Sort"]}),a.jsxs("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:[_==="open"&&"Participants create all categories",_==="closed"&&"Participants use pre-defined categories only",_==="hybrid"&&"Participants can use pre-defined or create new categories"]})]})]},_))})]})]})}),a.jsx(Et,{isOpen:h,onClose:()=>{f(!1),T(""),p(""),w("hybrid"),y(null),b("")},title:"Edit Project",footer:a.jsxs(a.Fragment,{children:[a.jsx(U,{variant:"secondary",onClick:()=>{f(!1),T(""),p(""),w("hybrid"),y(null),b("")},children:"Cancel"}),a.jsx(U,{onClick:st,children:"Save Changes"})]}),children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Manage access"}),a.jsx("textarea",{placeholder:"Add a name, group, or email",rows:1,className:"w-full px-4 py-2 rounded-lg border transition-colors resize-none",style:{borderColor:"var(--color-border-primary)",backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-primary)"}}),a.jsx("p",{className:"text-xs mt-1",style:{color:"var(--color-text-tertiary)"},children:"Only these people can access this study."})]}),a.jsx(lt,{label:"Project Name",value:k,onChange:_=>{T(_.target.value),b("")},placeholder:"Enter project name",error:N}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Description (Optional)"}),a.jsx("textarea",{value:g,onChange:_=>p(_.target.value),placeholder:"Enter project description",rows:3,className:"w-full px-4 py-2 rounded-lg border transition-colors resize-none",style:{borderColor:"var(--color-border-primary)",backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-primary)"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Sort Type"}),a.jsx("div",{className:"space-y-2",children:["open","closed","hybrid"].map(_=>a.jsxs("label",{className:"flex items-start p-3 rounded-lg border cursor-pointer transition-all",style:{borderColor:m===_?"var(--color-border-brand)":"var(--color-border-primary)",backgroundColor:m===_?"var(--color-primary-50)":"transparent"},children:[a.jsx("input",{type:"radio",name:"editSortType",value:_,checked:m===_,onChange:Y=>w(Y.target.value),className:"mt-1 mr-3"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:[_.charAt(0).toUpperCase()+_.slice(1)," Sort"]}),a.jsxs("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:[_==="open"&&"Participants create all categories",_==="closed"&&"Participants use pre-defined categories only",_==="hybrid"&&"Participants can use pre-defined or create new categories"]})]})]},_))})]})]})})]})})},Nw=({projectId:t,onNavigate:e})=>{const{getProject:r,addCard:n,updateCard:s,deleteCard:o,reorderCards:i,addCategory:l,updateCategory:c,deleteCategory:u,reorderCategories:d}=Bn(),h=r(t),[f,v]=C.useState("cards"),[y,k]=C.useState(!1),[T,g]=C.useState(!1),[p,m]=C.useState(null),[w,N]=C.useState(null),[b,E]=C.useState(""),[R,W]=C.useState(""),[H,ne]=C.useState(""),[fe,Z]=C.useState(""),[Q,ce]=C.useState(null);if(!h)return a.jsx("div",{children:"Project not found"});const q=async()=>{b.trim()&&(p?await s(t,p.id,b.trim(),R.trim()||void 0):await n(t,b.trim(),R.trim()||void 0),E(""),W(""),m(null),k(!1))},Ne=async()=>{H.trim()&&(w?await c(t,w.id,H.trim(),fe.trim()||void 0):await l(t,H.trim(),fe.trim()||void 0),ne(""),Z(""),N(null),g(!1))},L=j=>{m(j),E(j.content),W(j.description||""),k(!0)},G=j=>{N(j),ne(j.name),Z(j.description||""),g(!0)},V=j=>{ce(j)},S=(j,D)=>{if(j.preventDefault(),!(Q===null||Q===D))if(f==="cards"){const I=[...h.cards],J=I[Q];I.splice(Q,1),I.splice(D,0,J);const F=I.map((xe,le)=>({...xe,sortOrder:le}));i(t,F),ce(D)}else{const I=[...h.categories],J=I[Q];I.splice(Q,1),I.splice(D,0,J);const F=I.map((xe,le)=>({...xe,sortOrder:le}));d(t,F),ce(D)}},x=()=>{ce(null)};return a.jsxs("div",{className:"min-h-screen p-8",style:{backgroundColor:"var(--color-bg-secondary)"},children:[a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs(U,{variant:"ghost",onClick:()=>e("admin"),className:"mb-4",children:[a.jsx(oi,{size:20,className:"mr-2"}),"Back to Dashboard"]}),a.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:h.name}),a.jsxs("p",{style:{color:"var(--color-text-secondary)"},children:[h.type.charAt(0).toUpperCase()+h.type.slice(1)," Sort"]})]}),a.jsxs("div",{className:"mb-6 flex border-b",style:{borderColor:"var(--color-border-primary)"},children:[a.jsxs("button",{className:`px-6 py-3 font-medium transition-colors ${f==="cards"||f==="import-cards"?"border-b-2":""}`,style:{color:f==="cards"||f==="import-cards"?"var(--color-text-primary)":"var(--color-text-secondary)",borderColor:f==="cards"||f==="import-cards"?"var(--color-border-brand)":"transparent"},onClick:()=>v("cards"),children:["Cards (",h.cards.length,")"]}),a.jsxs("button",{className:`px-6 py-3 font-medium transition-colors ${f==="categories"||f==="import-categories"?"border-b-2":""}`,style:{color:f==="categories"||f==="import-categories"?"var(--color-text-primary)":"var(--color-text-secondary)",borderColor:f==="categories"||f==="import-categories"?"var(--color-border-brand)":"transparent"},onClick:()=>v("categories"),children:["Categories (",h.categories.length,")"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs(U,{onClick:()=>{f==="cards"||f==="import-cards"?(m(null),E(""),W(""),k(!0)):(N(null),ne(""),Z(""),g(!0))},children:[a.jsx(li,{size:20,className:"mr-2"}),"Add ",f==="cards"||f==="import-cards"?"Card":"Category"]}),(f==="cards"||f==="import-cards")&&a.jsxs(U,{variant:"secondary",className:"ml-3",onClick:()=>v("import-cards"),children:[a.jsx(wo,{size:20,className:"mr-2"}),"Import Cards"]}),(f==="categories"||f==="import-categories")&&a.jsxs(U,{variant:"secondary",className:"ml-3",onClick:()=>v("import-categories"),children:[a.jsx(wo,{size:20,className:"mr-2"}),"Import Categories"]})]}),a.jsx(Ke,{className:"p-6",children:f==="cards"||f==="import-cards"?f==="import-cards"?a.jsxs("div",{className:"text-center py-12",style:{color:"var(--color-text-secondary)"},children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(wo,{size:48,className:"opacity-50"})}),a.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--color-text-primary)"},children:"Import Cards"}),a.jsx("p",{children:"Upload a CSV file or paste text to create cards in bulk."})]}):h.cards.length===0?a.jsx("div",{className:"text-center py-12",style:{color:"var(--color-text-secondary)"},children:"No cards yet. Add your first card to get started."}):a.jsx("div",{className:"space-y-2",children:h.cards.map((j,D)=>a.jsxs("div",{draggable:!0,onDragStart:()=>V(D),onDragOver:I=>S(I,D),onDragEnd:x,className:"flex items-center gap-3 p-3 rounded-lg border transition-all hover:shadow-sm",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border-primary)",cursor:"move"},children:[a.jsx(Qu,{size:20,style:{color:"var(--color-text-tertiary)"}}),a.jsx("div",{className:"flex-1",style:{color:"var(--color-text-primary)"},children:j.content}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>L(j),children:a.jsx(ai,{size:16})}),a.jsx(U,{variant:"ghost",size:"sm",onClick:async()=>{window.confirm("Delete this card?")&&await o(t,j.id)},children:a.jsx(jt,{size:16,style:{color:"var(--color-error-500)"}})})]})]},j.id))}):f==="import-categories"?a.jsxs("div",{className:"text-center py-12",style:{color:"var(--color-text-secondary)"},children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(wo,{size:48,className:"opacity-50"})}),a.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--color-text-primary)"},children:"Import Categories"}),a.jsx("p",{children:"Upload a CSV file or paste text to create categories in bulk."})]}):h.categories.length===0?a.jsx("div",{className:"text-center py-12",style:{color:"var(--color-text-secondary)"},children:"No categories yet. Add categories for closed or hybrid sorts."}):a.jsx("div",{className:"space-y-2",children:h.categories.map((j,D)=>a.jsxs("div",{draggable:!0,onDragStart:()=>V(D),onDragOver:I=>S(I,D),onDragEnd:x,className:"flex items-center gap-3 p-3 rounded-lg border transition-all hover:shadow-sm",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border-primary)",cursor:"move"},children:[a.jsx(Qu,{size:20,style:{color:"var(--color-text-tertiary)"}}),a.jsx("div",{className:"flex-1",style:{color:"var(--color-text-primary)"},children:j.name}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>G(j),children:a.jsx(ai,{size:16})}),a.jsx(U,{variant:"ghost",size:"sm",onClick:async()=>{window.confirm("Delete this category?")&&await u(t,j.id)},children:a.jsx(jt,{size:16,style:{color:"var(--color-error-500)"}})})]})]},j.id))})})]}),a.jsxs(Et,{isOpen:y,onClose:()=>{k(!1),m(null),E(""),W("")},title:p?"Edit Card":"Add Card",footer:a.jsxs(a.Fragment,{children:[a.jsx(U,{variant:"secondary",onClick:()=>k(!1),children:"Cancel"}),a.jsx(U,{onClick:q,children:"Save"})]}),children:[a.jsx(lt,{label:"Card Name",value:b,onChange:j=>E(j.target.value),placeholder:"Enter card name",autoFocus:!0}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-primary)"},children:"Description (Optional)"}),a.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-primary)",color:"var(--color-text-primary)"},rows:3,value:R,onChange:j=>W(j.target.value),placeholder:"Enter card description..."})]})]}),a.jsxs(Et,{isOpen:T,onClose:()=>{g(!1),N(null),ne(""),Z("")},title:w?"Edit Category":"Add Category",footer:a.jsxs(a.Fragment,{children:[a.jsx(U,{variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),a.jsx(U,{onClick:Ne,children:"Save"})]}),children:[a.jsx(lt,{label:"Category Name",value:H,onChange:j=>ne(j.target.value),placeholder:"Enter category name",autoFocus:!0}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-primary)"},children:"Description (Optional)"}),a.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-primary)",color:"var(--color-text-primary)"},rows:3,value:fe,onChange:j=>Z(j.target.value),placeholder:"Enter category description..."})]})]})]})},Ew=({projectId:t,onNavigate:e})=>{const{getProject:r,getResults:n,getDeletedResults:s,deleteResult:o,restoreResult:i,permanentlyDeleteResult:l}=Bn(),c=r(t),[u,d]=C.useState([]),[h,f]=C.useState([]),[v,y]=C.useState(!0),[k,T]=C.useState(null),[g,p]=C.useState(null),[m,w]=C.useState(!1),[N,b]=C.useState("overview"),[E,R]=C.useState(!1),[W,H]=C.useState(null),[ne,fe]=C.useState(!1),[Z,Q]=C.useState(!1),[ce,q]=C.useState(null),[Ne,L]=C.useState(null),[G,V]=C.useState(null);if(C.useEffect(()=>{(async()=>{y(!0);const[M,z]=await Promise.all([n(t),s(t)]);d(M),f(z),y(!1)})()},[t,n,s]),!c||v)return a.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading results..."});const S=P=>{q(P),fe(!0)},x=P=>{L(P),Q(!0)},j=async()=>{if(ce){await o(ce);const[P,M]=await Promise.all([n(t),s(t)]);d(P),f(M),fe(!1),q(null)}},D=async()=>{if(Ne){await l(Ne);const[P,M]=await Promise.all([n(t),s(t)]);d(P),f(M),Q(!1),L(null)}},I=async P=>{await i(P);const[M,z]=await Promise.all([n(t),s(t)]);d(M),f(z)};function J({submissions:P,categoryName:M,getCategories:z,getCards:ue,getCategoryName:ve,getCardId:se}){if(P.length<2)return 0;const $e=new Set;if(P.forEach(Y=>{z(Y).forEach(je=>{ue(je).forEach(O=>$e.add(se(O)))})}),$e.size===0)return 0;let _=0;return $e.forEach(Y=>{P.map(je=>{const Oe=z(je);for(const O of Oe)if(ue(O).some(ie=>se(ie)===Y))return ve(O);return null}).every(je=>je===M)&&_++}),_/$e.size*100}const F=u.length,xe=c.deletedAt?"Archived":"Active",le=u.reduce((P,M)=>{const z=M.categories.reduce((ue,ve)=>ue+ve.cards.length,0);return P+z},0),Tt=F>0?Math.round(le/F):0,zt=new Set(c.categories.map(P=>P.name)),At=new Set;u.forEach(P=>P.categories.forEach(M=>At.add(M.category_name)));const Yr=At.size,Jr=Array.from(At).map(P=>({name:P,percentage:Math.round(J({submissions:u,categoryName:P,getCategories:M=>M.categories,getCards:M=>M.cards,getCategoryName:M=>M.category_name,getCardId:M=>M})),count:u.filter(M=>M.categories.some(z=>z.category_name===P)).length,isAdmin:zt.has(P)})),Xt=Jr.filter(P=>P.isAdmin).sort((P,M)=>M.percentage-P.percentage),Nr=Jr.filter(P=>!P.isAdmin);u.filter(P=>P.categories.some(M=>!zt.has(M.category_name))).length;const Er=Nr.map(P=>P.name),Zt=Nr.length>0,Wn=u.reduce((P,M)=>{const z=M.createdAt?new Date(M.createdAt).toLocaleDateString():"Unknown";return P[z]||(P[z]=[]),P[z].push(M),P},{}),Hn=h.reduce((P,M)=>{const z=M.createdAt?new Date(M.createdAt).toLocaleDateString():"Unknown";return P[z]||(P[z]=[]),P[z].push(M),P},{}),st={};u.forEach(P=>{P.categories.forEach(M=>{st[M.category_name]||(st[M.category_name]={cardCounts:{},participantCount:0}),st[M.category_name].participantCount++,M.cards.forEach(z=>{st[M.category_name].cardCounts[z]=(st[M.category_name].cardCounts[z]||0)+1})})});const Xr=Object.entries(st).flatMap(([P,M])=>Object.entries(M.cardCounts).map(([z,ue])=>({cardName:z,categoryName:P,count:ue,pct:F>0?Math.round(ue/F*100):0}))).sort((P,M)=>M.count-P.count).slice(0,10),Vn=()=>{const P=JSON.stringify({project:c,results:u},null,2);navigator.clipboard.writeText(P),alert("Copied to clipboard!")},Zr=()=>{const P=JSON.stringify({project:c,results:u},null,2),M=new Blob([P],{type:"application/json"}),z=URL.createObjectURL(M),ue=document.createElement("a");ue.href=z,ue.download=`${c.name}_results.json`,ue.click()},Or=P=>{const M=JSON.stringify(P,null,2),z=new Blob([M],{type:"application/json"}),ue=URL.createObjectURL(z),ve=document.createElement("a");ve.href=ue,ve.download=`submission_${P.id}.json`,ve.click()};return a.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--color-bg-secondary)"},children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 px-8 py-5 border-b",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-primary)"},children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(U,{variant:"ghost",onClick:()=>e("admin"),className:"-ml-2 text-gray-500 hover:text-gray-900",children:[a.jsx(oi,{size:16,className:"mr-1"})," Back"]}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:["Results: ",c.name]}),a.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"View and export participant sorting results"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 pr-14",children:[a.jsxs(U,{variant:m?"primary":"secondary",onClick:()=>{w(!m),b("overview")},className:m?"bg-gray-800 text-white hover:bg-gray-700":"",children:[a.jsx(jt,{size:16,className:"mr-2"}),"Recycle Bin (",h.length,")"]}),a.jsxs(U,{variant:"secondary",onClick:Vn,children:[a.jsx(qf,{size:16,className:"mr-2"}),"Copy to Clipboard"]}),a.jsxs(U,{variant:"primary",onClick:Zr,children:[a.jsx(Ao,{size:16,className:"mr-2"}),"Download JSON"]})]})]}),a.jsxs("div",{className:"flex flex-1",children:[a.jsx("aside",{className:"w-56 flex-shrink-0 border-r py-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-primary)"},children:a.jsxs("nav",{className:"flex flex-col gap-1 px-3",children:[a.jsxs("button",{className:`flex items-center gap-3 w-full px-4 py-3 rounded-lg text-sm font-medium text-left transition-colors ${N==="overview"&&!m?"bg-blue-50 text-blue-600":"text-gray-500 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>{b("overview"),w(!1)},children:[a.jsx(ks,{size:18}),"Overview"]}),a.jsxs("button",{className:`flex items-center gap-3 w-full px-4 py-3 rounded-lg text-sm font-medium text-left transition-colors ${N==="categories"&&!m?"bg-blue-50 text-blue-600":"text-gray-500 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>{b("categories"),w(!1)},children:[a.jsx(ev,{size:18}),"Categories"]})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto flex justify-center",style:{backgroundColor:"var(--color-bg-secondary)"},children:m?a.jsx("div",{className:"w-full max-w-5xl px-8 py-8",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(jt,{className:"text-red-500",size:20}),"Recycle Bin"]}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>w(!1),children:"Close Bin"})]}),h.length===0&&a.jsx("div",{className:"text-center py-10 bg-gray-100 rounded-lg text-gray-400",children:"Recycle bin is empty."}),Object.entries(Hn).map(([P,M])=>a.jsxs("div",{className:"border border-red-100 rounded-lg bg-red-50/30 overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-red-50 transition-colors",onClick:()=>V(G===P?null:P),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium text-gray-900",children:P}),a.jsxs("span",{className:"text-sm text-red-600 bg-red-100 px-2 py-0.5 rounded-full",children:[M.length," deleted"]})]}),G===P?a.jsx(pa,{size:20,className:"text-gray-400"}):a.jsx(un,{size:20,className:"text-gray-400"})]}),G===P&&a.jsx("div",{className:"divide-y divide-red-100 border-t border-red-100",children:M.map(z=>a.jsxs("div",{className:"p-4 flex justify-between items-center bg-white/50",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:z.email}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Deleted: ",z.deletedAt?new Date(z.deletedAt).toLocaleDateString():"Unknown"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>I(z.id),className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:[a.jsx(xc,{size:16,className:"mr-1"})," Restore"]}),a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>x(z.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(jt,{size:16,className:"mr-1"})," Delete Forever"]})]})]},z.id))})]},P))]})}):N==="overview"?a.jsx("div",{className:"w-full max-w-6xl px-8 py-8",children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(Ke,{className:"p-6 border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-sm font-medium mb-1",children:"Total Submissions"}),a.jsx("div",{className:"text-4xl font-bold text-gray-900",children:F})]}),a.jsx("div",{className:`px-2 py-1 rounded text-xs font-semibold ${xe==="Active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:xe})]})}),a.jsx(Ke,{className:"p-6 border-l-4 border-l-indigo-500 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-sm font-medium mb-1",children:"Total Unique Categories"}),a.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:Yr}),a.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:"75%"}})}),a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Across all participants"})]})}),a.jsx(Ke,{className:"p-6 border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-sm font-medium mb-1",children:"Avg. Cards Sorted"}),a.jsx("div",{className:"text-4xl font-bold text-gray-900",children:Tt}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"cards per participant"})]}),a.jsx("div",{className:"bg-purple-100 p-2 rounded-lg text-purple-600",children:a.jsx(Ku,{size:20})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-8",style:{gridTemplateColumns:"minmax(0,5fr) minmax(0,7fr)"},children:[a.jsxs(Ke,{className:"shadow-sm overflow-hidden",style:{padding:0},children:[a.jsxs("div",{className:"px-6 pt-6 pb-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[a.jsx(cv,{className:"text-yellow-500 flex-shrink-0",size:18}),a.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Top agreement of cards in categories"})]}),Xt.length>0&&a.jsxs("div",{className:"mb-5",children:[a.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500 mb-2",children:["Admin Categories (",Xt.length,")"]}),a.jsx("div",{className:"rounded-lg border border-gray-200 divide-y divide-gray-100 overflow-hidden",children:Xt.map(P=>{const M=st[P.name],z=M?Object.entries(M.cardCounts).sort((ve,se)=>se[1]-ve[1]).slice(0,5):[],ue=W===P.name;return a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-3.5 cursor-pointer hover:bg-gray-50 transition-colors group",onClick:()=>H(ue?null:P.name),children:[a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:P.name}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!ue&&z.length>0&&a.jsxs("span",{className:"text-xs text-gray-400 italic group-hover:text-gray-500 transition-colors whitespace-nowrap",children:["View top"," ",a.jsx("span",{style:{color:"#10B981",fontWeight:600,fontStyle:"normal"},children:"5"})," ","cards "]}),a.jsx(un,{size:14,className:`text-gray-400 group-hover:text-gray-600 transition-all ${ue?"rotate-180 text-blue-500":""}`})]})]}),ue&&z.length>0&&a.jsxs("div",{className:"border-t border-gray-100 bg-gray-50 px-4 py-3 space-y-0",children:[a.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400 pb-2",children:["Top ",z.length," cards"]}),z.map(([ve,se],$e)=>{const _=F>0?Math.round(se/F*100):0,Y=$e<3,oe=_===100?"#10B981":_>=75?"#34D399":_>=50?"#F59E0B":"#EF4444";return a.jsxs("div",{className:"py-2 border-b border-gray-100 last:border-b-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[a.jsxs("span",{className:"text-xs font-bold w-4 flex-shrink-0 text-gray-400",children:[$e+1,"."]}),a.jsx("span",{className:"text-sm font-medium text-gray-800 truncate",children:ve})]}),Y?a.jsxs("div",{className:"flex items-center gap-2 pl-6",children:[a.jsx("div",{className:"flex-1 h-1.5 rounded-full bg-gray-200 overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${_}%`,backgroundColor:oe}})}),a.jsxs("span",{className:"text-xs text-gray-400 flex-shrink-0 font-semibold",children:[se,"/",F]}),a.jsxs("span",{className:"text-xs font-bold text-gray-700 flex-shrink-0 w-8 text-right",children:[_,"%"]}),a.jsx("span",{className:"w-4 text-xs text-center flex-shrink-0",children:_===100?"":_>=75?"":""})]}):a.jsxs("div",{className:"flex items-center justify-end gap-2 pl-6",children:[a.jsxs("span",{className:"text-xs text-gray-400 font-semibold",children:[se,"/",F]}),a.jsxs("span",{className:"text-xs font-bold text-gray-700 w-8 text-right",children:[_,"%"]}),a.jsx("span",{className:"w-4 text-xs text-center",children:_===100?"":_>=75?"":""})]})]},ve)})]})]},P.name)})})]}),Zt&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center cursor-pointer group py-1",onClick:()=>R(P=>!P),children:[a.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:["Custom Categories (",Er.length,")"]}),a.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400",children:[a.jsx("span",{className:"text-xs hidden sm:inline",children:" Collapsible"}),a.jsx(un,{size:14,className:`transition-all group-hover:text-gray-600 ${E?"rotate-180 text-yellow-500":""}`})]})]}),E&&a.jsx("div",{className:"mt-2 rounded-lg border border-yellow-200 overflow-hidden",style:{backgroundColor:"#FFFBEB"},children:Er.map(P=>a.jsxs("div",{className:"px-4 py-2 text-sm text-gray-600 border-b border-yellow-100 last:border-b-0",children:[" ",P]},P))})]}),Xt.length===0&&!Zt&&a.jsx("p",{className:"text-gray-400 text-sm italic py-4",children:"No data yet."})]}),a.jsx("div",{className:"px-6 py-3 border-t border-gray-100",style:{backgroundColor:"#F9FAFB"},children:a.jsxs("button",{className:"w-full flex items-center justify-center gap-2 py-2 rounded-lg border border-gray-200 bg-white text-sm font-medium text-blue-600 hover:bg-blue-50 hover:border-blue-300 transition-colors group",onClick:()=>{b("categories"),w(!1)},children:["Show all categories",a.jsx("span",{className:"group-hover:translate-x-1 transition-transform inline-block",children:""})]})})]}),a.jsxs(Ke,{className:"shadow-sm overflow-hidden",style:{padding:0},children:[a.jsxs("div",{className:"flex items-center gap-2 px-6 pt-5 pb-3",children:[a.jsx("span",{className:"text-lg leading-none flex items-center",children:""}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Top Agreed Cards"}),a.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Cards with highest participant agreement"})]})]}),a.jsxs("div",{className:"px-4 pb-4 space-y-1 overflow-y-auto",style:{maxHeight:"420px"},children:[Xr.length===0&&a.jsx("p",{className:"text-gray-400 text-sm italic py-4 px-2",children:"No data yet."}),Xr.map((P,M)=>{const z=P.pct===100?"#10B981":P.pct>=75?"#34D399":P.pct>=50?"#F59E0B":"#EF4444";return a.jsxs("div",{className:"rounded-lg px-3 py-2.5 hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsxs("span",{className:"text-xs font-bold text-gray-400 w-5 flex-shrink-0",children:[M+1,"."]}),a.jsx("span",{className:"text-sm font-semibold text-gray-800 truncate",children:P.cardName})]}),a.jsxs("span",{className:"text-xs text-gray-500 ml-2 flex-shrink-0 px-2 py-0.5 rounded-full border border-gray-200 bg-white",children:[" ",P.categoryName]})]}),a.jsxs("div",{className:"flex items-center gap-2 pl-7",children:[a.jsx("div",{className:"flex-1 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${P.pct}%`,backgroundColor:z}})}),a.jsxs("span",{className:"text-xs text-gray-400 flex-shrink-0 font-semibold",children:[P.count,"/",F]}),a.jsxs("span",{className:"text-xs font-bold text-gray-700 flex-shrink-0 w-8 text-right",children:[P.pct,"%"]}),a.jsx("span",{className:"w-4 text-center text-xs flex-shrink-0",children:P.pct===100?"":P.pct>=75?"":""})]})]},`${P.categoryName}-${P.cardName}`)})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Participant Submissions"}),Object.entries(Wn).reverse().map(([P,M])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg bg-white shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>T(k===P?null:P),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-blue-100 p-1.5 rounded text-blue-600",children:a.jsx(Ku,{size:16})}),a.jsx("span",{className:"font-medium text-gray-900",children:P}),a.jsx("span",{className:"text-sm text-gray-500 bg-gray-200 px-2 py-0.5 rounded-full",children:M.length})]}),k===P?a.jsx(pa,{size:20,className:"text-gray-400"}):a.jsx(un,{size:20,className:"text-gray-400"})]}),k===P&&a.jsx("div",{className:"divide-y divide-gray-100",children:M.map(z=>{var ue,ve;return a.jsxs("div",{className:"bg-white",children:[a.jsx("div",{className:"p-4 hover:bg-gray-50 flex justify-between items-center cursor-pointer group",onClick:()=>p(g===z.id?null:z.id),children:a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-full flex items-center justify-center text-white font-bold shadow-sm",children:z.email.charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:z.email}),a.jsxs("div",{className:"text-xs text-gray-500",children:[z.categories.length," categories  ",z.categories.reduce((se,$e)=>se+$e.cards.length,0)," cards sorted"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[(ue=z.additional_comments)!=null&&ue.trim()?a.jsx("div",{className:"flex items-center justify-center w-7 h-7 rounded-md",style:{backgroundColor:"#EFF6FF",color:"#3B82F6"},title:`Comment: ${z.additional_comments}`,children:a.jsx(ma,{size:15})}):a.jsx("div",{className:"flex items-center justify-center w-7 h-7",style:{color:"#D1D5DB"},children:a.jsx(ma,{size:15})}),a.jsx("button",{onClick:se=>{se.stopPropagation(),Or(z)},className:"opacity-0 group-hover:opacity-100 transition-opacity p-1.5 hover:bg-blue-50 rounded text-blue-600 hover:text-blue-700",title:"Download JSON",children:a.jsx(Ao,{size:18})}),g===z.id?a.jsx(pa,{size:20,className:"text-gray-400"}):a.jsx(un,{size:20,className:"text-gray-400"})]})]})}),g===z.id&&a.jsxs("div",{className:"px-4 pb-4 bg-gray-50/50",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:z.categories.map((se,$e)=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 shadow-sm",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm",children:se.category_name}),se.suggested_name&&a.jsxs("div",{className:"flex items-center gap-1.5 mb-3 px-2.5 py-1.5 rounded-md bg-blue-50 border border-blue-200",children:[a.jsx("span",{className:"text-xs font-semibold text-blue-500 uppercase tracking-wide",children:"Suggested:"}),a.jsx("span",{className:"text-xs font-medium text-blue-700",children:se.suggested_name})]}),a.jsx("ul",{className:"space-y-1.5 mb-3",children:se.cards.map((_,Y)=>a.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[a.jsx("span",{className:"text-gray-400 mt-0.5",children:""}),a.jsx("span",{children:_})]},Y))}),a.jsxs("div",{className:"text-xs text-gray-400 pt-2 border-t border-gray-100",children:[se.cards.length," ",se.cards.length===1?"card":"cards"]})]},$e))}),a.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[a.jsxs(U,{variant:"ghost",size:"sm",onClick:se=>{se.stopPropagation(),Or(z)},className:"text-gray-600 hover:text-gray-900",children:[a.jsx(Ao,{size:16,className:"mr-1"})," Download"]}),a.jsxs(U,{variant:"ghost",size:"sm",onClick:se=>{se.stopPropagation(),S(z.id)},className:"text-gray-600 hover:text-red-600",children:[a.jsx(jt,{size:16,className:"mr-1"})," Delete"]})]}),((ve=z.additional_comments)==null?void 0:ve.trim())&&a.jsxs("div",{className:"mt-4 p-3 rounded-lg border border-blue-100 bg-blue-50",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[a.jsx(ma,{size:14,className:"text-blue-500"}),a.jsx("span",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wide",children:"Participant Comment"})]}),a.jsx("p",{className:"text-sm text-blue-900",children:z.additional_comments})]})]})]},z.id)})})]},P)),u.length===0&&a.jsx("div",{className:"text-center py-10 text-gray-400",children:"No submissions found."})]})]})}):a.jsx("div",{className:"w-full max-w-6xl px-8 py-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Categories"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cards sorted into each category across all participant submissions"})]}),Object.keys(st).length===0?a.jsx("div",{className:"text-center py-16 text-gray-400",children:"No submissions yet."}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Object.entries(st).sort((P,M)=>M[1].participantCount-P[1].participantCount).map(([P,M])=>{const z=Object.entries(M.cardCounts).sort((ue,ve)=>ve[1]-ue[1]);return a.jsxs(Ke,{className:"p-6 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:P}),zt.has(P)?a.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full",style:{backgroundColor:"#DBEAFE",color:"#1E40AF",border:"1px solid #93C5FD"},children:"Admin"}):a.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full",style:{backgroundColor:"#FEF3C7",color:"#92400E",border:"1px solid #FCD34D"},children:"Custom"})]}),a.jsx("div",{className:"space-y-2",children:z.map(([ue,ve])=>{const se=Math.round(ve/F*100);return a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-700 truncate mr-4",children:ue}),a.jsxs("span",{className:"text-gray-400 flex-shrink-0",children:[ve,"/",F]})]}),a.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-400 to-indigo-500 transition-all duration-700",style:{width:`${se}%`}})})]},ue)})})]},P)})})]})})})]}),a.jsx(_s,{isOpen:ne,onClose:()=>{fe(!1),q(null)},onConfirm:j,title:"Move to Recycle Bin",message:"Are you sure you want to move this submission to the Recycle Bin? You can restore it later.",confirmText:"Move to Bin",cancelText:"Cancel",variant:"danger"}),a.jsx(_s,{isOpen:Z,onClose:()=>{Q(!1),L(null)},onConfirm:D,title:"Permanently Delete",message:"This action cannot be undone. This submission will be permanently removed.",confirmText:"Delete Forever",cancelText:"Cancel",variant:"danger"})]})},od=({content:t,description:e,isDraggable:r=!0,onDragStart:n,className:s="",style:o={}})=>{const[i,l]=C.useState(!1),[c,u]=C.useState({top:0,left:0}),d=C.useRef(null),h=()=>{if(d.current){const f=d.current.getBoundingClientRect();u({top:f.top-10,left:f.left+f.width/2}),l(!0)}};return a.jsxs("div",{draggable:r,onDragStart:n,className:`p-3 rounded-lg border transition-all hover:shadow-md group flex items-center gap-2 ${s}`,style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border-primary)",color:"var(--color-text-primary)",cursor:r?"move":"default",...o},children:[a.jsx("div",{className:"flex-1 break-words min-w-0",children:t}),e&&a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:d,className:"flex-shrink-0 flex items-center justify-center opacity-0 invisible group-hover:opacity-100 group-hover:visible focus:opacity-100 focus:visible transition-all duration-200 outline-none",role:"button","aria-label":"Show card description",tabIndex:0,onMouseEnter:h,onMouseLeave:()=>l(!1),onFocus:h,onBlur:()=>l(!1),children:a.jsx(ii,{size:16,className:"text-blue-400 cursor-help"})}),i&&wf.createPortal(a.jsxs("div",{className:"fixed z-50 w-48 p-2 text-xs rounded shadow-lg pointer-events-none",style:{top:c.top,left:c.left+8,transform:"translate(-100%, -100%)",backgroundColor:"var(--color-neutral-800)",color:"white"},children:[e,a.jsx("div",{className:"absolute -bottom-1 right-2 w-2 h-2 rotate-45",style:{backgroundColor:"var(--color-neutral-800)"}})]}),document.body)]})]})},Ow=({projectId:t,onComplete:e,onNavigate:r})=>{const{getProject:n,fetchProjectById:s,submitResult:o,saveDraft:i,checkDraft:l}=Bn(),[c,u]=C.useState(n(t)),[d,h]=C.useState(!c),[f,v]=C.useState(""),[y,k]=C.useState(!1),[T,g]=C.useState(""),[p,m]=C.useState(!1),[w,N]=C.useState([]),[b,E]=C.useState([]),[R,W]=C.useState(null),[H,ne]=C.useState(""),[fe,Z]=C.useState(""),[Q,ce]=C.useState(null);C.useState(!1);const[q,Ne]=C.useState(!1),[L,G]=C.useState(!1),[V,S]=C.useState(!1),[x,j]=C.useState(!1),[D,I]=C.useState(!1),[J,F]=C.useState(null),[xe,le]=C.useState(!1),[Tt,zt]=C.useState(""),At=(c==null?void 0:c.type)==="hybrid"&&b.length>=5,Yr=O=>{var B;return(B=c==null?void 0:c.cards.find(ie=>ie.content===O))==null?void 0:B.description};if(C.useEffect(()=>{(async()=>{if(!c){h(!0);const B=await s(t);B&&u(B),h(!1)}})()},[t,c,s]),C.useEffect(()=>{if(c&&(N(c.cards.map(O=>O.content)),c.type==="closed"||c.type==="hybrid")){const O=c.categories.map(B=>({category_name:B.name,cards:[],id:B.id||B.name,originalName:B.name,isDefault:!0,description:B.description}));E(O)}},[c]),d)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--color-bg-secondary)"},children:a.jsx("div",{style:{color:"var(--color-text-secondary)"},children:"Loading project..."})});if(!c)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--color-bg-secondary)"},children:a.jsx("div",{style:{color:"var(--color-text-secondary)"},children:"Project not found"})});const Jr=O=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(O),Xt=async()=>{if(!f.trim()){g("Email is required");return}if(!Jr(f)){g("Please enter a valid email address");return}g(""),h(!0);try{const O=await l(t,f);if(O){const B=O.categories;if(c.type==="closed"||c.type==="hybrid"){const Le=[];c.categories.forEach(Pe=>{const qn=B.find(Ai=>Ai.category_name===Pe.name);qn?Le.push({...qn,id:Pe.id||Pe.name,originalName:Pe.name,isDefault:!0,description:Pe.description}):Le.push({category_name:Pe.name,cards:[],id:Pe.id||Pe.name,originalName:Pe.name,isDefault:!0,description:Pe.description})}),B.forEach(Pe=>{c.categories.some(Ai=>Ai.name===Pe.category_name)||Le.push({...Pe,id:Pe.category_name,isDefault:!1})}),E(Le)}else E(B.map(Le=>({...Le,id:Le.category_name,isDefault:!1})));const ie=c.cards.map(Le=>Le.content),er=new Set;(c.type==="closed"||c.type==="hybrid"?[...c.categories.map(Le=>B.find(qn=>qn.category_name===Le.name)||{category_name:Le.name,cards:[]}),...B.filter(Le=>!c.categories.some(Pe=>Pe.name===Le.category_name))]:B).forEach(Le=>{Le.cards.forEach(Pe=>er.add(Pe))});const Zf=ie.filter(Le=>!er.has(Le));N(Zf),se("Resuming your previous session")}}catch(O){console.error("Error checking draft:",O)}finally{h(!1),k(!0)}},Nr=()=>{if(!fe.trim()||At)return;const O=fe.trim();E([...b,{category_name:O,cards:[],id:O+Date.now(),isDefault:!1}]),Z("")},Er=O=>{c.type!=="closed"&&(c.type==="hybrid"&&O.isDefault||(W(O.id),ne(O.category_name)))},Zt=()=>{R&&H.trim()&&E(b.map(O=>O.id===R?{...O,category_name:H.trim()}:O)),W(null),ne("")},Wn=()=>{W(null),ne("")},Hn=(O,B)=>{B.stopPropagation(),O.isDefault&&O.originalName&&E(b.map(ie=>ie.id===O.id?{...ie,category_name:O.originalName}:ie))},st=O=>{F(O),I(!0)},Xr=()=>{J&&(Vn(J),I(!1),F(null))},Vn=O=>{const B=b.find(ie=>ie.id===O);B&&(N([...w,...B.cards]),E(b.filter(ie=>ie.id!==O)))},Zr=O=>{ce(O)},Or=(O,B)=>{O.preventDefault(),O.currentTarget.classList.remove("drag-over"),Q&&(B?(E(b.map(ie=>{if(ie.id===B){if(!ie.cards.includes(Q))return{...ie,cards:[...ie.cards,Q]}}else return{...ie,cards:ie.cards.filter(er=>er!==Q)};return ie})),N(w.filter(ie=>ie!==Q))):(w.includes(Q)||N([...w,Q]),E(b.map(ie=>({...ie,cards:ie.cards.filter(er=>er!==Q)})))),ce(null))},P=O=>{O.preventDefault(),O.currentTarget.classList.add("drag-over")},M=O=>{O.currentTarget.classList.remove("drag-over")},z=O=>({email:f,categories:b.filter(B=>B.cards.length>0).map(B=>{var ie;return{category_name:B.category_name,...(ie=B.suggested_name)!=null&&ie.trim()?{suggested_name:B.suggested_name.trim()}:{},cards:B.cards}}),...O!=null&&O.trim()?{additional_comments:O.trim()}:{}}),ue=async()=>{Ne(!0);try{const O={email:f,categories:b.filter(B=>B.cards.length>0)};await i(t,O),se("Progress saved. You can return later to finish.")}catch(O){console.error("Error saving progress:",O),se("Failed to save progress. Please try again.")}finally{Ne(!1)}},ve=async O=>{G(!0);try{o(t,z(O)),S(!0),le(!1),se("Sorting submitted. Thank you!"),setTimeout(()=>{e()},2e3)}finally{G(!1)}},se=O=>{const B=document.createElement("div");B.textContent=O,B.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--color-success-500);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      z-index: 1000;
      animation: slideIn 0.3s ease;
    `,document.body.appendChild(B),setTimeout(()=>{B.style.animation="slideOut 0.3s ease",setTimeout(()=>B.remove(),300)},3e3)},$e=()=>{Oe&&(zt(""),le(!0))},_=c.cards.length,Y=_-w.length,oe=_-Y,je=Y>=1,Oe=oe===0;return y?p?a.jsxs("div",{className:"min-h-screen p-8",style:{backgroundColor:"var(--color-bg-secondary)"},children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6 relative",children:[a.jsx(U,{onClick:()=>r("landing"),variant:"secondary",size:"sm",className:"absolute left-0 top-0",children:a.jsx(oi,{size:20})}),a.jsxs("div",{className:"absolute right-0 top-0 flex gap-2",children:[a.jsxs(U,{onClick:ue,disabled:!je||q||V,size:"sm",style:{backgroundColor:je&&!V?"var(--color-primary-500)":"var(--color-neutral-200)",color:je&&!V?"white":"var(--color-neutral-400)",cursor:!je||V?"not-allowed":"pointer"},children:[a.jsx(ov,{size:16,className:"mr-1"}),q?"Saving...":"Save"]}),a.jsxs("div",{className:"relative",onMouseEnter:()=>!Oe&&j(!0),onMouseLeave:()=>j(!1),children:[a.jsx(U,{onClick:$e,disabled:!Oe||L||V,size:"sm",style:{backgroundColor:Oe&&!V?"var(--color-success-500)":"var(--color-neutral-200)",color:Oe&&!V?"white":"var(--color-neutral-400)",cursor:!Oe||V?"not-allowed":"pointer"},children:V?"Submitted":"Submit"}),x&&!Oe&&a.jsxs("div",{className:"absolute top-full right-0 mt-2 px-3 py-2 rounded-lg shadow-lg text-sm whitespace-nowrap z-50",style:{backgroundColor:"var(--color-neutral-800)",color:"white"},children:["Finish sorting all cards to submit  ",oe," remaining"]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:c.name}),a.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"Drag cards from the left into categories on the right"})]})]}),a.jsx("div",{className:"flex justify-center mb-0",children:c.type==="hybrid"&&a.jsxs("div",{className:"w-full max-w-3xl flex justify-center",children:[!At&&a.jsxs("div",{className:"w-fit flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-50 border border-blue-200 text-blue-800 text-sm",children:[a.jsx(ii,{size:16,className:"flex-shrink-0"}),a.jsxs("span",{className:"truncate",children:[a.jsx("strong",{children:"Category Limit Guide:"})," Min 4, Max 5 acting categories."]})]}),At&&a.jsxs("div",{className:"w-fit flex items-center gap-2 px-3 py-2 rounded-lg bg-yellow-50 border border-yellow-200 text-yellow-800 text-sm",children:[a.jsx(Vf,{size:16,className:"flex-shrink-0"}),a.jsxs("span",{className:"truncate",children:[a.jsx("strong",{children:"Limit reached (5/5)"})," - You can edit the latest category name, or suggest alternative names to other categories"]})]})]})}),a.jsxs("div",{className:"flex gap-6 mt-[15px]",children:[a.jsxs("div",{className:"w-80 flex-shrink-0",children:[a.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--color-text-primary)"},children:"Unsorted Cards"}),a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium leading-none",style:{backgroundColor:w.length===0?"var(--color-success-50)":"var(--color-warning-50)",color:w.length===0?"var(--color-success-700)":"var(--color-warning-700)"},children:[w.length," remaining"]})]}),a.jsx("div",{className:"min-h-[400px] max-h-[600px] p-4 rounded-lg border-2 border-dashed transition-all overflow-y-auto",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-secondary)"},onDrop:O=>Or(O),onDragOver:P,onDragLeave:M,children:w.length===0?a.jsx("div",{className:"flex items-center justify-center h-full py-12 text-center",style:{color:"var(--color-text-tertiary)"},children:a.jsxs("div",{children:[a.jsx(fa,{size:48,className:"mx-auto mb-2"}),a.jsx("p",{children:"All cards sorted!"})]})}):a.jsx("div",{className:"space-y-2",children:w.map((O,B)=>a.jsx(od,{content:O,description:Yr(O),onDragStart:()=>Zr(O),className:"border"},B))})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"mb-6 flex items-center gap-4",children:a.jsx("h2",{className:"text-xl font-semibold flex-shrink-0",style:{color:"var(--color-text-primary)"},children:"Categories"})}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[b.map(O=>a.jsxs("div",{className:"w-64 p-4 rounded-lg border",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-primary)"},children:[a.jsx("div",{className:"flex items-center justify-between mb-3 min-h-[32px]",children:R===O.id?a.jsxs("div",{className:"flex items-center gap-1 flex-1",children:[a.jsx(lt,{value:H,onChange:B=>ne(B.target.value),onKeyPress:B=>{B.key==="Enter"&&Zt()},onKeyDown:B=>{B.key==="Escape"&&Wn()},onBlur:Zt,className:"flex-1 py-1 h-8 text-sm",autoFocus:!0}),a.jsx(U,{size:"sm",onClick:Zt,className:"h-8 w-8 p-0",children:a.jsx(fa,{size:14})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold truncate cursor-pointer hover:underline decoration-dashed underline-offset-4",style:{color:"var(--color-text-primary)"},onClick:()=>Er(O),title:"Click to rename",children:O.category_name}),O.description&&a.jsxs("div",{className:"group relative flex items-center",children:[a.jsx(ii,{size:14,className:"text-blue-400 cursor-help"}),a.jsxs("div",{className:"invisible group-hover:visible absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-2 text-xs rounded shadow-lg z-50 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-200",style:{backgroundColor:"var(--color-neutral-800)",color:"white"},children:[O.description,a.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 rotate-45",style:{backgroundColor:"var(--color-neutral-800)"}})]})]})]}),a.jsxs("div",{className:"flex items-center gap-[2px] flex-shrink-0",children:[O.isDefault&&O.originalName&&O.category_name!==O.originalName&&a.jsx("button",{onClick:B=>Hn(O,B),className:"p-1 hover:opacity-75 transition-opacity",title:`Restore original name: ${O.originalName}`,style:{color:"var(--color-warning-500)"},children:a.jsx(xc,{size:14})}),c.type!=="closed"&&!(c.type==="hybrid"&&O.isDefault)&&a.jsx("button",{onClick:()=>Er(O),className:"p-1 hover:opacity-75 transition-opacity",style:{color:"var(--color-text-disabled)"},title:"Rename category",children:a.jsx(ai,{size:14})}),!O.isDefault&&c.type!=="closed"&&a.jsx("button",{onClick:()=>st(O.id),className:"p-1 hover:opacity-75 transition-opacity",title:"Delete category",children:a.jsx(jt,{size:18,style:{color:"var(--color-error-500)"}})})]})]})}),O.isDefault&&a.jsx("input",{type:"text",placeholder:"Suggest category name...",className:"w-full text-xs px-2 py-1 border rounded bg-white/50 focus:bg-white focus:outline-none focus:ring-1 focus:ring-blue-300 transition-colors mb-2",style:{borderColor:"var(--color-border-secondary)",color:"var(--color-text-primary)"},value:O.suggested_name||"",onChange:B=>{const ie=B.target.value;E(er=>er.map(Ys=>Ys.id===O.id?{...Ys,suggested_name:ie}:Ys))}}),a.jsxs("div",{className:"text-xs text-center mb-2 px-2 py-1 rounded",style:{backgroundColor:"var(--color-bg-secondary)",color:"var(--color-text-secondary)"},children:[O.cards.length," ",O.cards.length===1?"CARD":"CARDS"]}),a.jsx("div",{className:`min-h-[120px] flex-1 p-2 rounded-lg border-2 border-dashed transition-all ${O.cards.length>3?"scrollable":""}`,style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border-secondary)",maxHeight:O.cards.length>3?"240px":"auto",overflowY:O.cards.length>3?"auto":"visible"},onDrop:B=>Or(B,O.id),onDragOver:P,onDragLeave:M,children:O.cards.length===0?a.jsx("div",{className:"text-center py-8 text-sm",style:{color:"var(--color-text-tertiary)"},children:"Drop cards here"}):a.jsx("div",{className:"space-y-2",children:O.cards.map((B,ie)=>a.jsx(od,{content:B,description:Yr(B),onDragStart:()=>Zr(B),className:"bg-white"},ie))})})]},O.id)),!At&&(c.type==="open"||c.type==="hybrid")&&a.jsxs("div",{className:"w-64 p-4 rounded-xl border-2 border-dashed flex flex-col items-center justify-center gap-4 transition-all group relative bg-blue-50 border-blue-200",children:[a.jsxs("div",{className:"text-center mt-2",children:[a.jsx("h3",{className:"text-blue-800 font-bold text-lg",children:"Create New Column"}),a.jsx("p",{className:"text-blue-400 text-sm",children:"Add a custom sorting category"})]}),a.jsxs("div",{className:"w-full space-y-3",children:[a.jsx(lt,{placeholder:"Enter category name...",value:fe,onChange:O=>Z(O.target.value),onKeyPress:O=>O.key==="Enter"&&Nr(),className:"w-full bg-white border-blue-200 text-center placeholder:text-gray-400"}),a.jsxs(U,{onClick:Nr,className:"w-full bg-blue-100 hover:bg-blue-200 text-blue-500 border-none font-medium flex items-center justify-center gap-2",children:[a.jsx(li,{size:18})," Add Category"]})]})]})]})]})]})]}),a.jsx(Et,{isOpen:D,onClose:()=>I(!1),title:"Delete Category",children:a.jsxs("div",{className:"p-4",children:[a.jsx("p",{className:"mb-4",style:{color:"var(--color-text-secondary)"},children:"Are you sure you want to delete this category? All cards will return to Unsorted."}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(U,{variant:"secondary",onClick:()=>I(!1),children:"Cancel"}),a.jsx(U,{onClick:Xr,style:{backgroundColor:"var(--color-error-500)",color:"white"},children:"Delete"})]})]})}),xe&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},onClick:()=>le(!1),children:a.jsxs("div",{className:"bg-white rounded-2xl p-10 w-full max-w-lg shadow-2xl",style:{animation:"slideUp 0.25s ease"},onClick:O=>O.stopPropagation(),children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",style:{backgroundColor:"#D1FAE5"},children:a.jsx(fa,{size:32,style:{color:"#10B981"}})}),a.jsx("h2",{className:"text-2xl font-semibold text-center mb-3",style:{color:"#111827"},children:"Ready to Submit Your Sorting?"}),a.jsx("p",{className:"text-center text-sm mb-8",style:{color:"#6B7280",lineHeight:"1.6"},children:"Your card sorting will be submitted and cannot be edited after submission."}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("label",{className:"block text-sm font-semibold mb-2",style:{color:"#374151"},children:["Additional Comments ",a.jsx("span",{className:"font-normal",style:{color:"#9CA3AF"},children:"(Optional)"})]}),a.jsx("textarea",{className:"w-full rounded-lg border px-4 py-3 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-300 transition",style:{borderColor:"#D1D5DB",color:"#111827",fontFamily:"inherit",lineHeight:"1.5"},placeholder:"Share any thoughts, suggestions, or feedback about the sorting experience...",rows:4,maxLength:500,value:Tt,onChange:O=>zt(O.target.value)}),a.jsxs("div",{className:"text-xs text-right mt-1",style:{color:"#9CA3AF"},children:[Tt.length,"/500"]})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx(U,{variant:"secondary",onClick:()=>{le(!1),zt("")},disabled:L,children:"Cancel"}),a.jsx(U,{onClick:()=>ve(Tt),disabled:L,style:{backgroundColor:"#10B981",color:"white"},children:L?"Submitting...":"Submit Sorting"})]})]})})]}):a.jsxs("div",{className:"min-h-screen flex items-center justify-center p-8 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${xl})`,backgroundColor:"var(--color-bg-secondary)"},children:[a.jsx("div",{className:"absolute top-8 left-8",children:a.jsx(U,{onClick:()=>k(!1),variant:"secondary",size:"sm",children:a.jsx(oi,{size:20})})}),a.jsxs(Ke,{className:"p-8 w-full max-w-2xl",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Welcome to the Card Sorting Activity for Gravity's Subscriber App."}),a.jsx("p",{className:"text-base",style:{color:"#6B7280"},children:"This activity is being conducted to understand how you as an end-user, understand the app's information and naturally organise it in a way that makes sense to you."})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Instructions for this activity -"}),a.jsxs("ol",{className:"space-y-4",style:{color:"var(--color-text-secondary)"},children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-sm",children:"1"}),a.jsx("span",{className:"leading-relaxed",children:"Go through the list of cards on the left section"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-sm",children:"2"}),a.jsx("span",{className:"leading-relaxed",children:"Drag and drop cards into categories that make most sense to you"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-sm",children:"3"}),a.jsx("span",{className:"leading-relaxed",children:"Create a new category if needed, and name that category. You can edit or delete this category."})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-sm",children:"4"}),a.jsx("span",{className:"leading-relaxed font-medium",style:{color:"var(--color-text-primary)"},children:"Remember - there are no right or wrong answers, only answers that are logical to you!"})]})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(U,{onClick:()=>m(!0),size:"lg",className:"px-12 py-3 text-lg font-medium min-w-[160px]",style:{backgroundColor:"#2563EB",color:"white"},children:"Start Sorting"})})]})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center p-8 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${xl})`,backgroundColor:"var(--color-bg-secondary)"},children:a.jsxs(Ke,{className:"p-8 w-full max-w-md",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:c.name}),a.jsx("p",{className:"mb-6",style:{color:"var(--color-text-secondary)"},children:"Welcome to this card sorting study. Please enter your email to begin."}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(lt,{label:"Email Address",type:"email",value:f,onChange:O=>{v(O.target.value),g("")},placeholder:"your.email@example.com",error:T}),a.jsx(U,{onClick:Xt,className:"w-full",children:"Start Sorting"})]})]})})};function Pw(){const[t,e]=C.useState("landing"),[r,n]=C.useState(""),[s,o]=C.useState(!1),[i,l]=C.useState(""),[c,u]=C.useState(""),[d,h]=C.useState(""),[f,v]=C.useState(!1),[y,k]=C.useState(!1),[T,g]=C.useState(!1),p=(N,b)=>{e(N),b&&n(b)},m=()=>{p("landing")};C.useEffect(()=>{const b=new URLSearchParams(window.location.search).get("project");b&&(n(b),e("participant"),window.history.replaceState({},"",window.location.pathname));const{data:E}=K.auth.onAuthStateChange((R,W)=>{R==="PASSWORD_RECOVERY"?o(!0):R==="SIGNED_OUT"&&(g(!0),e("landing"),setTimeout(()=>g(!1),2e3))});return()=>{E.subscription.unsubscribe()}},[]);const w=async N=>{if(N.preventDefault(),h(""),i.length<6){h("Password must be at least 6 characters long");return}if(i!==c){h("Passwords do not match");return}k(!0);try{const{error:b}=await K.auth.updateUser({password:i});if(b)throw b;v(!0),setTimeout(()=>{o(!1),l(""),u(""),v(!1),h("")},2e3)}catch(b){h(b.message||"Failed to reset password")}finally{k(!1)}};return a.jsx(V0,{children:a.jsxs("div",{className:"relative min-h-screen",children:[a.jsx("div",{className:"fixed top-5 right-4 z-10 flex items-center",children:a.jsx(hv,{})}),t==="landing"&&a.jsx(pv,{onNavigate:p,justLoggedOut:T}),t==="admin"&&a.jsx(Cw,{onNavigate:p}),t==="manage"&&r&&a.jsx(Nw,{projectId:r,onNavigate:N=>p(N)}),t==="results"&&r&&a.jsx(Ew,{projectId:r,onNavigate:N=>p(N)}),t==="participant"&&r&&a.jsx(Ow,{projectId:r,onComplete:m,onNavigate:N=>p(N)}),a.jsx(Et,{isOpen:s,onClose:()=>{o(!1),l(""),u(""),h(""),v(!1)},title:"Set New Password",children:f?a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-success-50)",color:"var(--color-success-600)"},children:[a.jsx("p",{className:"font-medium mb-2",children:"Password updated successfully!"}),a.jsx("p",{className:"text-sm",children:"You can now sign in with your new password."})]}):a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Enter your new password below."}),a.jsx(lt,{label:"New Password",type:"password",value:i,onChange:N=>l(N.target.value),placeholder:"Enter new password",required:!0}),a.jsx(lt,{label:"Confirm Password",type:"password",value:c,onChange:N=>u(N.target.value),placeholder:"Confirm new password",required:!0}),d&&a.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-error-50)",color:"var(--color-error-600)"},children:d}),a.jsx(U,{type:"submit",className:"w-full",disabled:y,children:y?"Updating...":"Update Password"})]})})]})})}xf(document.getElementById("root")).render(a.jsx(C.StrictMode,{children:a.jsx(Pw,{})}));
