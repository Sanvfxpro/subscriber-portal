(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ip(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ap(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var fd={exports:{}},vi={},pd={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=Symbol.for("react.element"),lp=Symbol.for("react.portal"),cp=Symbol.for("react.fragment"),up=Symbol.for("react.strict_mode"),dp=Symbol.for("react.profiler"),hp=Symbol.for("react.provider"),fp=Symbol.for("react.context"),pp=Symbol.for("react.forward_ref"),mp=Symbol.for("react.suspense"),gp=Symbol.for("react.memo"),yp=Symbol.for("react.lazy"),Oc=Symbol.iterator;function vp(t){return t===null||typeof t!="object"?null:(t=Oc&&t[Oc]||t["@@iterator"],typeof t=="function"?t:null)}var md={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gd=Object.assign,yd={};function Wn(t,e,r){this.props=t,this.context=e,this.refs=yd,this.updater=r||md}Wn.prototype.isReactComponent={};Wn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vd(){}vd.prototype=Wn.prototype;function El(t,e,r){this.props=t,this.context=e,this.refs=yd,this.updater=r||md}var Ol=El.prototype=new vd;Ol.constructor=El;gd(Ol,Wn.prototype);Ol.isPureReactComponent=!0;var Pc=Array.isArray,wd=Object.prototype.hasOwnProperty,Pl={current:null},xd={key:!0,ref:!0,__self:!0,__source:!0};function kd(t,e,r){var n,s={},o=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)wd.call(e,n)&&!xd.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ks,type:t,key:o,ref:i,props:s,_owner:Pl.current}}function wp(t,e){return{$$typeof:Ks,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ks}function xp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Tc=/\/+/g;function Fi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xp(""+t.key):e.toString(36)}function No(t,e,r,n,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Ks:case lp:i=!0}}if(i)return i=t,s=s(i),t=n===""?"."+Fi(i,0):n,Pc(s)?(r="",t!=null&&(r=t.replace(Tc,"$&/")+"/"),No(s,e,r,"",function(u){return u})):s!=null&&(Tl(s)&&(s=wp(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Tc,"$&/")+"/")+t)),e.push(s)),1;if(i=0,n=n===""?".":n+":",Pc(t))for(var l=0;l<t.length;l++){o=t[l];var c=n+Fi(o,l);i+=No(o,e,r,c,s)}else if(c=vp(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=n+Fi(o,l++),i+=No(o,e,r,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function so(t,e,r){if(t==null)return t;var n=[],s=0;return No(t,n,"","",function(o){return e.call(r,o,s++)}),n}function kp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ze={current:null},Eo={transition:null},_p={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:Eo,ReactCurrentOwner:Pl};function _d(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:so,forEach:function(t,e,r){so(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return so(t,function(){e++}),e},toArray:function(t){return so(t,function(e){return e})||[]},only:function(t){if(!Tl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Wn;se.Fragment=cp;se.Profiler=dp;se.PureComponent=El;se.StrictMode=up;se.Suspense=mp;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_p;se.act=_d;se.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=gd({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=Pl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)wd.call(e,c)&&!xd.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ks,type:t.type,key:s,ref:o,props:n,_owner:i}};se.createContext=function(t){return t={$$typeof:fp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hp,_context:t},t.Consumer=t};se.createElement=kd;se.createFactory=function(t){var e=kd.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:pp,render:t}};se.isValidElement=Tl;se.lazy=function(t){return{$$typeof:yp,_payload:{_status:-1,_result:t},_init:kp}};se.memo=function(t,e){return{$$typeof:gp,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Eo.transition;Eo.transition={};try{t()}finally{Eo.transition=e}};se.unstable_act=_d;se.useCallback=function(t,e){return Ze.current.useCallback(t,e)};se.useContext=function(t){return Ze.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Ze.current.useDeferredValue(t)};se.useEffect=function(t,e){return Ze.current.useEffect(t,e)};se.useId=function(){return Ze.current.useId()};se.useImperativeHandle=function(t,e,r){return Ze.current.useImperativeHandle(t,e,r)};se.useInsertionEffect=function(t,e){return Ze.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Ze.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Ze.current.useMemo(t,e)};se.useReducer=function(t,e,r){return Ze.current.useReducer(t,e,r)};se.useRef=function(t){return Ze.current.useRef(t)};se.useState=function(t){return Ze.current.useState(t)};se.useSyncExternalStore=function(t,e,r){return Ze.current.useSyncExternalStore(t,e,r)};se.useTransition=function(){return Ze.current.useTransition()};se.version="18.3.1";pd.exports=se;var j=pd.exports;const bp=ip(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp=j,jp=Symbol.for("react.element"),Cp=Symbol.for("react.fragment"),Np=Object.prototype.hasOwnProperty,Ep=Sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Op={key:!0,ref:!0,__self:!0,__source:!0};function bd(t,e,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)Np.call(e,n)&&!Op.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:jp,type:t,key:o,ref:i,props:s,_owner:Ep.current}}vi.Fragment=Cp;vi.jsx=bd;vi.jsxs=bd;fd.exports=vi;var a=fd.exports,Sd={exports:{}},mt={},jd={exports:{}},Cd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,H){var K=L.length;L.push(H);e:for(;0<K;){var V=K-1>>>1,C=L[V];if(0<s(C,H))L[V]=H,L[K]=C,K=V;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var H=L[0],K=L.pop();if(K!==H){L[0]=K;e:for(var V=0,C=L.length,v=C>>>1;V<v;){var N=2*(V+1)-1,D=L[N],M=N+1,J=L[M];if(0>s(D,K))M<C&&0>s(J,D)?(L[V]=J,L[M]=K,V=M):(L[V]=D,L[N]=K,V=N);else if(M<C&&0>s(J,K))L[V]=J,L[M]=K,V=M;else break e}}return H}function s(L,H){var K=L.sortIndex-H.sortIndex;return K!==0?K:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,f=3,y=!1,w=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(L){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=L)n(u),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(u)}}function x(L){if(k=!1,m(L),!w)if(r(c)!==null)w=!0,q(S);else{var H=r(u);H!==null&&Ne(x,H.startTime-L)}}function S(L,H){w=!1,k&&(k=!1,g(A),A=-1),y=!0;var K=f;try{for(m(H),h=r(c);h!==null&&(!(h.expirationTime>H)||L&&!le());){var V=h.callback;if(typeof V=="function"){h.callback=null,f=h.priorityLevel;var C=V(h.expirationTime<=H);H=t.unstable_now(),typeof C=="function"?h.callback=C:h===r(c)&&n(c),m(H)}else n(c);h=r(c)}if(h!==null)var v=!0;else{var N=r(u);N!==null&&Ne(x,N.startTime-H),v=!1}return v}finally{h=null,f=K,y=!1}}var b=!1,E=null,A=-1,B=5,F=-1;function le(){return!(t.unstable_now()-F<B)}function pe(){if(E!==null){var L=t.unstable_now();F=L;var H=!0;try{H=E(!0,L)}finally{H?Z():(b=!1,E=null)}}else b=!1}var Z;if(typeof p=="function")Z=function(){p(pe)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,oe=Y.port2;Y.port1.onmessage=pe,Z=function(){oe.postMessage(null)}}else Z=function(){T(pe,0)};function q(L){E=L,b||(b=!0,Z())}function Ne(L,H){A=T(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,q(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var K=f;f=H;try{return L()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=f;f=L;try{return H()}finally{f=K}},t.unstable_scheduleCallback=function(L,H,K){var V=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?V+K:V):K=V,L){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=K+C,L={id:d++,callback:H,priorityLevel:L,startTime:K,expirationTime:C,sortIndex:-1},K>V?(L.sortIndex=K,e(u,L),r(c)===null&&L===r(u)&&(k?(g(A),A=-1):k=!0,Ne(x,K-V))):(L.sortIndex=C,e(c,L),w||y||(w=!0,q(S))),L},t.unstable_shouldYield=le,t.unstable_wrapCallback=function(L){var H=f;return function(){var K=f;f=H;try{return L.apply(this,arguments)}finally{f=K}}}})(Cd);jd.exports=Cd;var Pp=jd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp=j,pt=Pp;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nd=new Set,Os={};function tn(t,e){Ln(t,e),Ln(t+"Capture",e)}function Ln(t,e){for(Os[t]=e,t=0;t<e.length;t++)Nd.add(e[t])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,Dp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dc={},Ac={};function Ap(t){return ja.call(Ac,t)?!0:ja.call(Dc,t)?!1:Dp.test(t)?Ac[t]=!0:(Dc[t]=!0,!1)}function Rp(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Lp(t,e,r,n){if(e===null||typeof e>"u"||Rp(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function et(t,e,r,n,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Be[t]=new et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Be[e]=new et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Be[t]=new et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Be[t]=new et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Be[t]=new et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Be[t]=new et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Be[t]=new et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Be[t]=new et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Be[t]=new et(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dl=/[\-:]([a-z])/g;function Al(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dl,Al);Be[e]=new et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dl,Al);Be[e]=new et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dl,Al);Be[e]=new et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Be[t]=new et(t,1,!1,t.toLowerCase(),null,!1,!1)});Be.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Be[t]=new et(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rl(t,e,r,n){var s=Be.hasOwnProperty(e)?Be[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Lp(e,r,s,n)&&(r=null),n||s===null?Ap(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var rr=Tp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oo=Symbol.for("react.element"),yn=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),Ll=Symbol.for("react.strict_mode"),Ca=Symbol.for("react.profiler"),Ed=Symbol.for("react.provider"),Od=Symbol.for("react.context"),Il=Symbol.for("react.forward_ref"),Na=Symbol.for("react.suspense"),Ea=Symbol.for("react.suspense_list"),Ml=Symbol.for("react.memo"),ur=Symbol.for("react.lazy"),Pd=Symbol.for("react.offscreen"),Rc=Symbol.iterator;function Xn(t){return t===null||typeof t!="object"?null:(t=Rc&&t[Rc]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,Bi;function cs(t){if(Bi===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Bi=e&&e[1]||""}return`
`+Bi+t}var Wi=!1;function qi(t,e){if(!t||Wi)return"";Wi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Wi=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?cs(t):""}function Ip(t){switch(t.tag){case 5:return cs(t.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 2:case 15:return t=qi(t.type,!1),t;case 11:return t=qi(t.type.render,!1),t;case 1:return t=qi(t.type,!0),t;default:return""}}function Oa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vn:return"Fragment";case yn:return"Portal";case Ca:return"Profiler";case Ll:return"StrictMode";case Na:return"Suspense";case Ea:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Od:return(t.displayName||"Context")+".Consumer";case Ed:return(t._context.displayName||"Context")+".Provider";case Il:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ml:return e=t.displayName||null,e!==null?e:Oa(t.type)||"Memo";case ur:e=t._payload,t=t._init;try{return Oa(t(e))}catch{}}return null}function Mp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oa(e);case 8:return e===Ll?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Td(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $p(t){var e=Td(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function io(t){t._valueTracker||(t._valueTracker=$p(t))}function Dd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Td(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Fo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pa(t,e){var r=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Lc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=jr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ad(t,e){e=e.checked,e!=null&&Rl(t,"checked",e,!1)}function Ta(t,e){Ad(t,e);var r=jr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Da(t,e.type,r):e.hasOwnProperty("defaultValue")&&Da(t,e.type,jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ic(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Da(t,e,r){(e!=="number"||Fo(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var us=Array.isArray;function On(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+jr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Aa(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(R(92));if(us(r)){if(1<r.length)throw Error(R(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:jr(r)}}function Rd(t,e){var r=jr(e.value),n=jr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function $c(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ld(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ra(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ld(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ao,Id=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ao=ao||document.createElement("div"),ao.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ao.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ps(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zp=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(t){zp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ms[e]=ms[t]})});function Md(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ms.hasOwnProperty(t)&&ms[t]?(""+e).trim():e+"px"}function $d(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Md(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Up=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function La(t,e){if(e){if(Up[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function Ia(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ma=null;function $l(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $a=null,Pn=null,Tn=null;function zc(t){if(t=Js(t)){if(typeof $a!="function")throw Error(R(280));var e=t.stateNode;e&&(e=bi(e),$a(t.stateNode,t.type,e))}}function zd(t){Pn?Tn?Tn.push(t):Tn=[t]:Pn=t}function Ud(){if(Pn){var t=Pn,e=Tn;if(Tn=Pn=null,zc(t),e)for(t=0;t<e.length;t++)zc(e[t])}}function Fd(t,e){return t(e)}function Bd(){}var Hi=!1;function Wd(t,e,r){if(Hi)return t(e,r);Hi=!0;try{return Fd(t,e,r)}finally{Hi=!1,(Pn!==null||Tn!==null)&&(Bd(),Ud())}}function Ts(t,e){var r=t.stateNode;if(r===null)return null;var n=bi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(R(231,e,typeof r));return r}var za=!1;if(Xt)try{var Zn={};Object.defineProperty(Zn,"passive",{get:function(){za=!0}}),window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,Zn)}catch{za=!1}function Fp(t,e,r,n,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var gs=!1,Bo=null,Wo=!1,Ua=null,Bp={onError:function(t){gs=!0,Bo=t}};function Wp(t,e,r,n,s,o,i,l,c){gs=!1,Bo=null,Fp.apply(Bp,arguments)}function qp(t,e,r,n,s,o,i,l,c){if(Wp.apply(this,arguments),gs){if(gs){var u=Bo;gs=!1,Bo=null}else throw Error(R(198));Wo||(Wo=!0,Ua=u)}}function rn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function qd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uc(t){if(rn(t)!==t)throw Error(R(188))}function Hp(t){var e=t.alternate;if(!e){if(e=rn(t),e===null)throw Error(R(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Uc(s),t;if(o===n)return Uc(s),e;o=o.sibling}throw Error(R(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?t:e}function Hd(t){return t=Hp(t),t!==null?Vd(t):null}function Vd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Vd(t);if(e!==null)return e;t=t.sibling}return null}var Gd=pt.unstable_scheduleCallback,Fc=pt.unstable_cancelCallback,Vp=pt.unstable_shouldYield,Gp=pt.unstable_requestPaint,Ee=pt.unstable_now,Kp=pt.unstable_getCurrentPriorityLevel,zl=pt.unstable_ImmediatePriority,Kd=pt.unstable_UserBlockingPriority,qo=pt.unstable_NormalPriority,Qp=pt.unstable_LowPriority,Qd=pt.unstable_IdlePriority,wi=null,Bt=null;function Yp(t){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(wi,t,void 0,(t.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Zp,Jp=Math.log,Xp=Math.LN2;function Zp(t){return t>>>=0,t===0?32:31-(Jp(t)/Xp|0)|0}var lo=64,co=4194304;function ds(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ho(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,o=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=ds(l):(o&=i,o!==0&&(n=ds(o)))}else i=r&~s,i!==0?n=ds(i):o!==0&&(n=ds(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Dt(e),s=1<<r,n|=t[r],e&=~s;return n}function em(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tm(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-Dt(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=em(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function Fa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yd(){var t=lo;return lo<<=1,!(lo&4194240)&&(lo=64),t}function Vi(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Qs(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dt(e),t[e]=r}function rm(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Dt(r),o=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~o}}function Ul(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Dt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var fe=0;function Jd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xd,Fl,Zd,eh,th,Ba=!1,uo=[],yr=null,vr=null,wr=null,Ds=new Map,As=new Map,hr=[],nm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bc(t,e){switch(t){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Ds.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(e.pointerId)}}function es(t,e,r,n,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Js(e),e!==null&&Fl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function sm(t,e,r,n,s){switch(e){case"focusin":return yr=es(yr,t,e,r,n,s),!0;case"dragenter":return vr=es(vr,t,e,r,n,s),!0;case"mouseover":return wr=es(wr,t,e,r,n,s),!0;case"pointerover":var o=s.pointerId;return Ds.set(o,es(Ds.get(o)||null,t,e,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,As.set(o,es(As.get(o)||null,t,e,r,n,s)),!0}return!1}function rh(t){var e=Hr(t.target);if(e!==null){var r=rn(e);if(r!==null){if(e=r.tag,e===13){if(e=qd(r),e!==null){t.blockedOn=e,th(t.priority,function(){Zd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Wa(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ma=n,r.target.dispatchEvent(n),Ma=null}else return e=Js(r),e!==null&&Fl(e),t.blockedOn=r,!1;e.shift()}return!0}function Wc(t,e,r){Oo(t)&&r.delete(e)}function om(){Ba=!1,yr!==null&&Oo(yr)&&(yr=null),vr!==null&&Oo(vr)&&(vr=null),wr!==null&&Oo(wr)&&(wr=null),Ds.forEach(Wc),As.forEach(Wc)}function ts(t,e){t.blockedOn===e&&(t.blockedOn=null,Ba||(Ba=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,om)))}function Rs(t){function e(s){return ts(s,t)}if(0<uo.length){ts(uo[0],t);for(var r=1;r<uo.length;r++){var n=uo[r];n.blockedOn===t&&(n.blockedOn=null)}}for(yr!==null&&ts(yr,t),vr!==null&&ts(vr,t),wr!==null&&ts(wr,t),Ds.forEach(e),As.forEach(e),r=0;r<hr.length;r++)n=hr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<hr.length&&(r=hr[0],r.blockedOn===null);)rh(r),r.blockedOn===null&&hr.shift()}var Dn=rr.ReactCurrentBatchConfig,Vo=!0;function im(t,e,r,n){var s=fe,o=Dn.transition;Dn.transition=null;try{fe=1,Bl(t,e,r,n)}finally{fe=s,Dn.transition=o}}function am(t,e,r,n){var s=fe,o=Dn.transition;Dn.transition=null;try{fe=4,Bl(t,e,r,n)}finally{fe=s,Dn.transition=o}}function Bl(t,e,r,n){if(Vo){var s=Wa(t,e,r,n);if(s===null)ra(t,e,n,Go,r),Bc(t,n);else if(sm(s,t,e,r,n))n.stopPropagation();else if(Bc(t,n),e&4&&-1<nm.indexOf(t)){for(;s!==null;){var o=Js(s);if(o!==null&&Xd(o),o=Wa(t,e,r,n),o===null&&ra(t,e,n,Go,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else ra(t,e,n,null,r)}}var Go=null;function Wa(t,e,r,n){if(Go=null,t=$l(n),t=Hr(t),t!==null)if(e=rn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=qd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Go=t,null}function nh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kp()){case zl:return 1;case Kd:return 4;case qo:case Qp:return 16;case Qd:return 536870912;default:return 16}default:return 16}}var mr=null,Wl=null,Po=null;function sh(){if(Po)return Po;var t,e=Wl,r=e.length,n,s="value"in mr?mr.value:mr.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===s[o-n];n++);return Po=s.slice(t,1<n?1-n:void 0)}function To(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ho(){return!0}function qc(){return!1}function gt(t){function e(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ho:qc,this.isPropagationStopped=qc,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),e}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=gt(qn),Ys=be({},qn,{view:0,detail:0}),lm=gt(Ys),Gi,Ki,rs,xi=be({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rs&&(rs&&t.type==="mousemove"?(Gi=t.screenX-rs.screenX,Ki=t.screenY-rs.screenY):Ki=Gi=0,rs=t),Gi)},movementY:function(t){return"movementY"in t?t.movementY:Ki}}),Hc=gt(xi),cm=be({},xi,{dataTransfer:0}),um=gt(cm),dm=be({},Ys,{relatedTarget:0}),Qi=gt(dm),hm=be({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),fm=gt(hm),pm=be({},qn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mm=gt(pm),gm=be({},qn,{data:0}),Vc=gt(gm),ym={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wm[t])?!!e[t]:!1}function Hl(){return xm}var km=be({},Ys,{key:function(t){if(t.key){var e=ym[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=To(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(t){return t.type==="keypress"?To(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?To(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_m=gt(km),bm=be({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gc=gt(bm),Sm=be({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),jm=gt(Sm),Cm=be({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nm=gt(Cm),Em=be({},xi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Om=gt(Em),Pm=[9,13,27,32],Vl=Xt&&"CompositionEvent"in window,ys=null;Xt&&"documentMode"in document&&(ys=document.documentMode);var Tm=Xt&&"TextEvent"in window&&!ys,oh=Xt&&(!Vl||ys&&8<ys&&11>=ys),Kc=" ",Qc=!1;function ih(t,e){switch(t){case"keyup":return Pm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ah(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wn=!1;function Dm(t,e){switch(t){case"compositionend":return ah(e);case"keypress":return e.which!==32?null:(Qc=!0,Kc);case"textInput":return t=e.data,t===Kc&&Qc?null:t;default:return null}}function Am(t,e){if(wn)return t==="compositionend"||!Vl&&ih(t,e)?(t=sh(),Po=Wl=mr=null,wn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oh&&e.locale!=="ko"?null:e.data;default:return null}}var Rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Rm[t.type]:e==="textarea"}function lh(t,e,r,n){zd(n),e=Ko(e,"onChange"),0<e.length&&(r=new ql("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var vs=null,Ls=null;function Lm(t){wh(t,0)}function ki(t){var e=_n(t);if(Dd(e))return t}function Im(t,e){if(t==="change")return e}var ch=!1;if(Xt){var Yi;if(Xt){var Ji="oninput"in document;if(!Ji){var Jc=document.createElement("div");Jc.setAttribute("oninput","return;"),Ji=typeof Jc.oninput=="function"}Yi=Ji}else Yi=!1;ch=Yi&&(!document.documentMode||9<document.documentMode)}function Xc(){vs&&(vs.detachEvent("onpropertychange",uh),Ls=vs=null)}function uh(t){if(t.propertyName==="value"&&ki(Ls)){var e=[];lh(e,Ls,t,$l(t)),Wd(Lm,e)}}function Mm(t,e,r){t==="focusin"?(Xc(),vs=e,Ls=r,vs.attachEvent("onpropertychange",uh)):t==="focusout"&&Xc()}function $m(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ki(Ls)}function zm(t,e){if(t==="click")return ki(e)}function Um(t,e){if(t==="input"||t==="change")return ki(e)}function Fm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lt=typeof Object.is=="function"?Object.is:Fm;function Is(t,e){if(Lt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ja.call(e,s)||!Lt(t[s],e[s]))return!1}return!0}function Zc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eu(t,e){var r=Zc(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zc(r)}}function dh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hh(){for(var t=window,e=Fo();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Fo(t.document)}return e}function Gl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Bm(t){var e=hh(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&dh(r.ownerDocument.documentElement,r)){if(n!==null&&Gl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!t.extend&&o>n&&(s=n,n=o,o=s),s=eu(r,o);var i=eu(r,n);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Wm=Xt&&"documentMode"in document&&11>=document.documentMode,xn=null,qa=null,ws=null,Ha=!1;function tu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ha||xn==null||xn!==Fo(n)||(n=xn,"selectionStart"in n&&Gl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ws&&Is(ws,n)||(ws=n,n=Ko(qa,"onSelect"),0<n.length&&(e=new ql("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=xn)))}function fo(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var kn={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionend:fo("Transition","TransitionEnd")},Xi={},fh={};Xt&&(fh=document.createElement("div").style,"AnimationEvent"in window||(delete kn.animationend.animation,delete kn.animationiteration.animation,delete kn.animationstart.animation),"TransitionEvent"in window||delete kn.transitionend.transition);function _i(t){if(Xi[t])return Xi[t];if(!kn[t])return t;var e=kn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in fh)return Xi[t]=e[r];return t}var ph=_i("animationend"),mh=_i("animationiteration"),gh=_i("animationstart"),yh=_i("transitionend"),vh=new Map,ru="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(t,e){vh.set(t,e),tn(e,[t])}for(var Zi=0;Zi<ru.length;Zi++){var ea=ru[Zi],qm=ea.toLowerCase(),Hm=ea[0].toUpperCase()+ea.slice(1);Er(qm,"on"+Hm)}Er(ph,"onAnimationEnd");Er(mh,"onAnimationIteration");Er(gh,"onAnimationStart");Er("dblclick","onDoubleClick");Er("focusin","onFocus");Er("focusout","onBlur");Er(yh,"onTransitionEnd");Ln("onMouseEnter",["mouseout","mouseover"]);Ln("onMouseLeave",["mouseout","mouseover"]);Ln("onPointerEnter",["pointerout","pointerover"]);Ln("onPointerLeave",["pointerout","pointerover"]);tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vm=new Set("cancel close invalid load scroll toggle".split(" ").concat(hs));function nu(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,qp(n,e,void 0,t),t.currentTarget=null}function wh(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;nu(s,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;nu(s,l,u),o=c}}}if(Wo)throw t=Ua,Wo=!1,Ua=null,t}function ve(t,e){var r=e[Ya];r===void 0&&(r=e[Ya]=new Set);var n=t+"__bubble";r.has(n)||(xh(e,t,2,!1),r.add(n))}function ta(t,e,r){var n=0;e&&(n|=4),xh(r,t,n,e)}var po="_reactListening"+Math.random().toString(36).slice(2);function Ms(t){if(!t[po]){t[po]=!0,Nd.forEach(function(r){r!=="selectionchange"&&(Vm.has(r)||ta(r,!1,t),ta(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[po]||(e[po]=!0,ta("selectionchange",!1,e))}}function xh(t,e,r,n){switch(nh(e)){case 1:var s=im;break;case 4:s=am;break;default:s=Bl}r=s.bind(null,e,r,t),s=void 0,!za||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function ra(t,e,r,n,s){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Hr(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}Wd(function(){var u=o,d=$l(r),h=[];e:{var f=vh.get(t);if(f!==void 0){var y=ql,w=t;switch(t){case"keypress":if(To(r)===0)break e;case"keydown":case"keyup":y=_m;break;case"focusin":w="focus",y=Qi;break;case"focusout":w="blur",y=Qi;break;case"beforeblur":case"afterblur":y=Qi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=jm;break;case ph:case mh:case gh:y=fm;break;case yh:y=Nm;break;case"scroll":y=lm;break;case"wheel":y=Om;break;case"copy":case"cut":case"paste":y=mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Gc}var k=(e&4)!==0,T=!k&&t==="scroll",g=k?f!==null?f+"Capture":null:f;k=[];for(var p=u,m;p!==null;){m=p;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,g!==null&&(x=Ts(p,g),x!=null&&k.push($s(p,x,m)))),T)break;p=p.return}0<k.length&&(f=new y(f,w,null,r,d),h.push({event:f,listeners:k}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&r!==Ma&&(w=r.relatedTarget||r.fromElement)&&(Hr(w)||w[Zt]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=u,w=w?Hr(w):null,w!==null&&(T=rn(w),w!==T||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(k=Hc,x="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(k=Gc,x="onPointerLeave",g="onPointerEnter",p="pointer"),T=y==null?f:_n(y),m=w==null?f:_n(w),f=new k(x,p+"leave",y,r,d),f.target=T,f.relatedTarget=m,x=null,Hr(d)===u&&(k=new k(g,p+"enter",w,r,d),k.target=m,k.relatedTarget=T,x=k),T=x,y&&w)t:{for(k=y,g=w,p=0,m=k;m;m=ln(m))p++;for(m=0,x=g;x;x=ln(x))m++;for(;0<p-m;)k=ln(k),p--;for(;0<m-p;)g=ln(g),m--;for(;p--;){if(k===g||g!==null&&k===g.alternate)break t;k=ln(k),g=ln(g)}k=null}else k=null;y!==null&&su(h,f,y,k,!1),w!==null&&T!==null&&su(h,T,w,k,!0)}}e:{if(f=u?_n(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var S=Im;else if(Yc(f))if(ch)S=Um;else{S=$m;var b=Mm}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=zm);if(S&&(S=S(t,u))){lh(h,S,r,d);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Da(f,"number",f.value)}switch(b=u?_n(u):window,t){case"focusin":(Yc(b)||b.contentEditable==="true")&&(xn=b,qa=u,ws=null);break;case"focusout":ws=qa=xn=null;break;case"mousedown":Ha=!0;break;case"contextmenu":case"mouseup":case"dragend":Ha=!1,tu(h,r,d);break;case"selectionchange":if(Wm)break;case"keydown":case"keyup":tu(h,r,d)}var E;if(Vl)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else wn?ih(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(oh&&r.locale!=="ko"&&(wn||A!=="onCompositionStart"?A==="onCompositionEnd"&&wn&&(E=sh()):(mr=d,Wl="value"in mr?mr.value:mr.textContent,wn=!0)),b=Ko(u,A),0<b.length&&(A=new Vc(A,t,null,r,d),h.push({event:A,listeners:b}),E?A.data=E:(E=ah(r),E!==null&&(A.data=E)))),(E=Tm?Dm(t,r):Am(t,r))&&(u=Ko(u,"onBeforeInput"),0<u.length&&(d=new Vc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}wh(h,e)})}function $s(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ko(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ts(t,r),o!=null&&n.unshift($s(t,o,s)),o=Ts(t,e),o!=null&&n.push($s(t,o,s))),t=t.return}return n}function ln(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function su(t,e,r,n,s){for(var o=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ts(r,o),c!=null&&i.unshift($s(r,c,l))):s||(c=Ts(r,o),c!=null&&i.push($s(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var Gm=/\r\n?/g,Km=/\u0000|\uFFFD/g;function ou(t){return(typeof t=="string"?t:""+t).replace(Gm,`
`).replace(Km,"")}function mo(t,e,r){if(e=ou(e),ou(t)!==e&&r)throw Error(R(425))}function Qo(){}var Va=null,Ga=null;function Ka(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qa=typeof setTimeout=="function"?setTimeout:void 0,Qm=typeof clearTimeout=="function"?clearTimeout:void 0,iu=typeof Promise=="function"?Promise:void 0,Ym=typeof queueMicrotask=="function"?queueMicrotask:typeof iu<"u"?function(t){return iu.resolve(null).then(t).catch(Jm)}:Qa;function Jm(t){setTimeout(function(){throw t})}function na(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Rs(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Rs(e)}function xr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function au(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Hn=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Hn,zs="__reactProps$"+Hn,Zt="__reactContainer$"+Hn,Ya="__reactEvents$"+Hn,Xm="__reactListeners$"+Hn,Zm="__reactHandles$"+Hn;function Hr(t){var e=t[Ft];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Zt]||r[Ft]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=au(t);t!==null;){if(r=t[Ft])return r;t=au(t)}return e}t=r,r=t.parentNode}return null}function Js(t){return t=t[Ft]||t[Zt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _n(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function bi(t){return t[zs]||null}var Ja=[],bn=-1;function Or(t){return{current:t}}function we(t){0>bn||(t.current=Ja[bn],Ja[bn]=null,bn--)}function ge(t,e){bn++,Ja[bn]=t.current,t.current=e}var Cr={},Ge=Or(Cr),it=Or(!1),Yr=Cr;function In(t,e){var r=t.type.contextTypes;if(!r)return Cr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function at(t){return t=t.childContextTypes,t!=null}function Yo(){we(it),we(Ge)}function lu(t,e,r){if(Ge.current!==Cr)throw Error(R(168));ge(Ge,e),ge(it,r)}function kh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(R(108,Mp(t)||"Unknown",s));return be({},r,n)}function Jo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cr,Yr=Ge.current,ge(Ge,t),ge(it,it.current),!0}function cu(t,e,r){var n=t.stateNode;if(!n)throw Error(R(169));r?(t=kh(t,e,Yr),n.__reactInternalMemoizedMergedChildContext=t,we(it),we(Ge),ge(Ge,t)):we(it),ge(it,r)}var Kt=null,Si=!1,sa=!1;function _h(t){Kt===null?Kt=[t]:Kt.push(t)}function eg(t){Si=!0,_h(t)}function Pr(){if(!sa&&Kt!==null){sa=!0;var t=0,e=fe;try{var r=Kt;for(fe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Kt=null,Si=!1}catch(s){throw Kt!==null&&(Kt=Kt.slice(t+1)),Gd(zl,Pr),s}finally{fe=e,sa=!1}}return null}var Sn=[],jn=0,Xo=null,Zo=0,yt=[],vt=0,Jr=null,Qt=1,Yt="";function Ur(t,e){Sn[jn++]=Zo,Sn[jn++]=Xo,Xo=t,Zo=e}function bh(t,e,r){yt[vt++]=Qt,yt[vt++]=Yt,yt[vt++]=Jr,Jr=t;var n=Qt;t=Yt;var s=32-Dt(n)-1;n&=~(1<<s),r+=1;var o=32-Dt(e)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Qt=1<<32-Dt(e)+s|r<<s|n,Yt=o+t}else Qt=1<<o|r<<s|n,Yt=t}function Kl(t){t.return!==null&&(Ur(t,1),bh(t,1,0))}function Ql(t){for(;t===Xo;)Xo=Sn[--jn],Sn[jn]=null,Zo=Sn[--jn],Sn[jn]=null;for(;t===Jr;)Jr=yt[--vt],yt[vt]=null,Yt=yt[--vt],yt[vt]=null,Qt=yt[--vt],yt[vt]=null}var ht=null,dt=null,xe=!1,Pt=null;function Sh(t,e){var r=wt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function uu(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ht=t,dt=xr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ht=t,dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Jr!==null?{id:Qt,overflow:Yt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=wt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ht=t,dt=null,!0):!1;default:return!1}}function Xa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Za(t){if(xe){var e=dt;if(e){var r=e;if(!uu(t,e)){if(Xa(t))throw Error(R(418));e=xr(r.nextSibling);var n=ht;e&&uu(t,e)?Sh(n,r):(t.flags=t.flags&-4097|2,xe=!1,ht=t)}}else{if(Xa(t))throw Error(R(418));t.flags=t.flags&-4097|2,xe=!1,ht=t}}}function du(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ht=t}function go(t){if(t!==ht)return!1;if(!xe)return du(t),xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ka(t.type,t.memoizedProps)),e&&(e=dt)){if(Xa(t))throw jh(),Error(R(418));for(;e;)Sh(t,e),e=xr(e.nextSibling)}if(du(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){dt=xr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}dt=null}}else dt=ht?xr(t.stateNode.nextSibling):null;return!0}function jh(){for(var t=dt;t;)t=xr(t.nextSibling)}function Mn(){dt=ht=null,xe=!1}function Yl(t){Pt===null?Pt=[t]:Pt.push(t)}var tg=rr.ReactCurrentBatchConfig;function ns(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,t));var s=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,t))}return t}function yo(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hu(t){var e=t._init;return e(t._payload)}function Ch(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function r(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Sr(g,p),g.index=0,g.sibling=null,g}function o(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function i(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,p,m,x){return p===null||p.tag!==6?(p=da(m,g.mode,x),p.return=g,p):(p=s(p,m),p.return=g,p)}function c(g,p,m,x){var S=m.type;return S===vn?d(g,p,m.props.children,x,m.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ur&&hu(S)===p.type)?(x=s(p,m.props),x.ref=ns(g,p,m),x.return=g,x):(x=$o(m.type,m.key,m.props,null,g.mode,x),x.ref=ns(g,p,m),x.return=g,x)}function u(g,p,m,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=ha(m,g.mode,x),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,x,S){return p===null||p.tag!==7?(p=Qr(m,g.mode,x,S),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=da(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case oo:return m=$o(p.type,p.key,p.props,null,g.mode,m),m.ref=ns(g,null,p),m.return=g,m;case yn:return p=ha(p,g.mode,m),p.return=g,p;case ur:var x=p._init;return h(g,x(p._payload),m)}if(us(p)||Xn(p))return p=Qr(p,g.mode,m,null),p.return=g,p;yo(g,p)}return null}function f(g,p,m,x){var S=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(g,p,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case oo:return m.key===S?c(g,p,m,x):null;case yn:return m.key===S?u(g,p,m,x):null;case ur:return S=m._init,f(g,p,S(m._payload),x)}if(us(m)||Xn(m))return S!==null?null:d(g,p,m,x,null);yo(g,m)}return null}function y(g,p,m,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(m)||null,l(p,g,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case oo:return g=g.get(x.key===null?m:x.key)||null,c(p,g,x,S);case yn:return g=g.get(x.key===null?m:x.key)||null,u(p,g,x,S);case ur:var b=x._init;return y(g,p,m,b(x._payload),S)}if(us(x)||Xn(x))return g=g.get(m)||null,d(p,g,x,S,null);yo(p,x)}return null}function w(g,p,m,x){for(var S=null,b=null,E=p,A=p=0,B=null;E!==null&&A<m.length;A++){E.index>A?(B=E,E=null):B=E.sibling;var F=f(g,E,m[A],x);if(F===null){E===null&&(E=B);break}t&&E&&F.alternate===null&&e(g,E),p=o(F,p,A),b===null?S=F:b.sibling=F,b=F,E=B}if(A===m.length)return r(g,E),xe&&Ur(g,A),S;if(E===null){for(;A<m.length;A++)E=h(g,m[A],x),E!==null&&(p=o(E,p,A),b===null?S=E:b.sibling=E,b=E);return xe&&Ur(g,A),S}for(E=n(g,E);A<m.length;A++)B=y(E,g,A,m[A],x),B!==null&&(t&&B.alternate!==null&&E.delete(B.key===null?A:B.key),p=o(B,p,A),b===null?S=B:b.sibling=B,b=B);return t&&E.forEach(function(le){return e(g,le)}),xe&&Ur(g,A),S}function k(g,p,m,x){var S=Xn(m);if(typeof S!="function")throw Error(R(150));if(m=S.call(m),m==null)throw Error(R(151));for(var b=S=null,E=p,A=p=0,B=null,F=m.next();E!==null&&!F.done;A++,F=m.next()){E.index>A?(B=E,E=null):B=E.sibling;var le=f(g,E,F.value,x);if(le===null){E===null&&(E=B);break}t&&E&&le.alternate===null&&e(g,E),p=o(le,p,A),b===null?S=le:b.sibling=le,b=le,E=B}if(F.done)return r(g,E),xe&&Ur(g,A),S;if(E===null){for(;!F.done;A++,F=m.next())F=h(g,F.value,x),F!==null&&(p=o(F,p,A),b===null?S=F:b.sibling=F,b=F);return xe&&Ur(g,A),S}for(E=n(g,E);!F.done;A++,F=m.next())F=y(E,g,A,F.value,x),F!==null&&(t&&F.alternate!==null&&E.delete(F.key===null?A:F.key),p=o(F,p,A),b===null?S=F:b.sibling=F,b=F);return t&&E.forEach(function(pe){return e(g,pe)}),xe&&Ur(g,A),S}function T(g,p,m,x){if(typeof m=="object"&&m!==null&&m.type===vn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case oo:e:{for(var S=m.key,b=p;b!==null;){if(b.key===S){if(S=m.type,S===vn){if(b.tag===7){r(g,b.sibling),p=s(b,m.props.children),p.return=g,g=p;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ur&&hu(S)===b.type){r(g,b.sibling),p=s(b,m.props),p.ref=ns(g,b,m),p.return=g,g=p;break e}r(g,b);break}else e(g,b);b=b.sibling}m.type===vn?(p=Qr(m.props.children,g.mode,x,m.key),p.return=g,g=p):(x=$o(m.type,m.key,m.props,null,g.mode,x),x.ref=ns(g,p,m),x.return=g,g=x)}return i(g);case yn:e:{for(b=m.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else e(g,p);p=p.sibling}p=ha(m,g.mode,x),p.return=g,g=p}return i(g);case ur:return b=m._init,T(g,p,b(m._payload),x)}if(us(m))return w(g,p,m,x);if(Xn(m))return k(g,p,m,x);yo(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,m),p.return=g,g=p):(r(g,p),p=da(m,g.mode,x),p.return=g,g=p),i(g)):r(g,p)}return T}var $n=Ch(!0),Nh=Ch(!1),ei=Or(null),ti=null,Cn=null,Jl=null;function Xl(){Jl=Cn=ti=null}function Zl(t){var e=ei.current;we(ei),t._currentValue=e}function el(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function An(t,e){ti=t,Jl=Cn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ot=!0),t.firstContext=null)}function _t(t){var e=t._currentValue;if(Jl!==t)if(t={context:t,memoizedValue:e,next:null},Cn===null){if(ti===null)throw Error(R(308));Cn=t,ti.dependencies={lanes:0,firstContext:t}}else Cn=Cn.next=t;return e}var Vr=null;function ec(t){Vr===null?Vr=[t]:Vr.push(t)}function Eh(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,ec(e)):(r.next=s.next,s.next=r),e.interleaved=r,er(t,n)}function er(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var dr=!1;function tc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ce&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,er(t,r)}return s=n.interleaved,s===null?(e.next=e,ec(n)):(e.next=s.next,s.next=e),n.interleaved=e,er(t,r)}function Do(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ul(t,r)}}function fu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ri(t,e,r,n){var s=t.updateQueue;dr=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;i=0,d=u=c=null,l=o;do{var f=l.lane,y=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,k=l;switch(f=e,y=r,k.tag){case 1:if(w=k.payload,typeof w=="function"){h=w.call(y,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=k.payload,f=typeof w=="function"?w.call(y,h,f):w,f==null)break e;h=be({},h,f);break e;case 2:dr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,i|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Zr|=i,t.lanes=i,t.memoizedState=h}}function pu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(R(191,s));s.call(n)}}}var Xs={},Wt=Or(Xs),Us=Or(Xs),Fs=Or(Xs);function Gr(t){if(t===Xs)throw Error(R(174));return t}function rc(t,e){switch(ge(Fs,e),ge(Us,t),ge(Wt,Xs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ra(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ra(e,t)}we(Wt),ge(Wt,e)}function zn(){we(Wt),we(Us),we(Fs)}function Ph(t){Gr(Fs.current);var e=Gr(Wt.current),r=Ra(e,t.type);e!==r&&(ge(Us,t),ge(Wt,r))}function nc(t){Us.current===t&&(we(Wt),we(Us))}var ke=Or(0);function ni(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oa=[];function sc(){for(var t=0;t<oa.length;t++)oa[t]._workInProgressVersionPrimary=null;oa.length=0}var Ao=rr.ReactCurrentDispatcher,ia=rr.ReactCurrentBatchConfig,Xr=0,_e=null,Re=null,$e=null,si=!1,xs=!1,Bs=0,rg=0;function We(){throw Error(R(321))}function oc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Lt(t[r],e[r]))return!1;return!0}function ic(t,e,r,n,s,o){if(Xr=o,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ao.current=t===null||t.memoizedState===null?ig:ag,t=r(n,s),xs){o=0;do{if(xs=!1,Bs=0,25<=o)throw Error(R(301));o+=1,$e=Re=null,e.updateQueue=null,Ao.current=lg,t=r(n,s)}while(xs)}if(Ao.current=oi,e=Re!==null&&Re.next!==null,Xr=0,$e=Re=_e=null,si=!1,e)throw Error(R(300));return t}function ac(){var t=Bs!==0;return Bs=0,t}function zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?_e.memoizedState=$e=t:$e=$e.next=t,$e}function bt(){if(Re===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=$e===null?_e.memoizedState:$e.next;if(e!==null)$e=e,Re=t;else{if(t===null)throw Error(R(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},$e===null?_e.memoizedState=$e=t:$e=$e.next=t}return $e}function Ws(t,e){return typeof e=="function"?e(t):e}function aa(t){var e=bt(),r=e.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=t;var n=Re,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Xr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,i=n):c=c.next=h,_e.lanes|=d,Zr|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Lt(n,e.memoizedState)||(ot=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do o=s.lane,_e.lanes|=o,Zr|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function la(t){var e=bt(),r=e.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);Lt(o,e.memoizedState)||(ot=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function Th(){}function Dh(t,e){var r=_e,n=bt(),s=e(),o=!Lt(n.memoizedState,s);if(o&&(n.memoizedState=s,ot=!0),n=n.queue,lc(Lh.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||$e!==null&&$e.memoizedState.tag&1){if(r.flags|=2048,qs(9,Rh.bind(null,r,n,s,e),void 0,null),ze===null)throw Error(R(349));Xr&30||Ah(r,e,s)}return s}function Ah(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Rh(t,e,r,n){e.value=r,e.getSnapshot=n,Ih(e)&&Mh(t)}function Lh(t,e,r){return r(function(){Ih(e)&&Mh(t)})}function Ih(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Lt(t,r)}catch{return!0}}function Mh(t){var e=er(t,1);e!==null&&At(e,t,1,-1)}function mu(t){var e=zt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:t},e.queue=t,t=t.dispatch=og.bind(null,_e,t),[e.memoizedState,t]}function qs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function $h(){return bt().memoizedState}function Ro(t,e,r,n){var s=zt();_e.flags|=t,s.memoizedState=qs(1|e,r,void 0,n===void 0?null:n)}function ji(t,e,r,n){var s=bt();n=n===void 0?null:n;var o=void 0;if(Re!==null){var i=Re.memoizedState;if(o=i.destroy,n!==null&&oc(n,i.deps)){s.memoizedState=qs(e,r,o,n);return}}_e.flags|=t,s.memoizedState=qs(1|e,r,o,n)}function gu(t,e){return Ro(8390656,8,t,e)}function lc(t,e){return ji(2048,8,t,e)}function zh(t,e){return ji(4,2,t,e)}function Uh(t,e){return ji(4,4,t,e)}function Fh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Bh(t,e,r){return r=r!=null?r.concat([t]):null,ji(4,4,Fh.bind(null,e,t),r)}function cc(){}function Wh(t,e){var r=bt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&oc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function qh(t,e){var r=bt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&oc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Hh(t,e,r){return Xr&21?(Lt(r,e)||(r=Yd(),_e.lanes|=r,Zr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ot=!0),t.memoizedState=r)}function ng(t,e){var r=fe;fe=r!==0&&4>r?r:4,t(!0);var n=ia.transition;ia.transition={};try{t(!1),e()}finally{fe=r,ia.transition=n}}function Vh(){return bt().memoizedState}function sg(t,e,r){var n=br(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Gh(t))Kh(e,r);else if(r=Eh(t,e,r,n),r!==null){var s=Xe();At(r,t,n,s),Qh(r,e,n)}}function og(t,e,r){var n=br(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gh(t))Kh(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,Lt(l,i)){var c=e.interleaved;c===null?(s.next=s,ec(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Eh(t,e,s,n),r!==null&&(s=Xe(),At(r,t,n,s),Qh(r,e,n))}}function Gh(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function Kh(t,e){xs=si=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Qh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ul(t,r)}}var oi={readContext:_t,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},ig={readContext:_t,useCallback:function(t,e){return zt().memoizedState=[t,e===void 0?null:e],t},useContext:_t,useEffect:gu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ro(4194308,4,Fh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ro(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ro(4,2,t,e)},useMemo:function(t,e){var r=zt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=zt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=sg.bind(null,_e,t),[n.memoizedState,t]},useRef:function(t){var e=zt();return t={current:t},e.memoizedState=t},useState:mu,useDebugValue:cc,useDeferredValue:function(t){return zt().memoizedState=t},useTransition:function(){var t=mu(!1),e=t[0];return t=ng.bind(null,t[1]),zt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_e,s=zt();if(xe){if(r===void 0)throw Error(R(407));r=r()}else{if(r=e(),ze===null)throw Error(R(349));Xr&30||Ah(n,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,gu(Lh.bind(null,n,o,t),[t]),n.flags|=2048,qs(9,Rh.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=zt(),e=ze.identifierPrefix;if(xe){var r=Yt,n=Qt;r=(n&~(1<<32-Dt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Bs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=rg++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ag={readContext:_t,useCallback:Wh,useContext:_t,useEffect:lc,useImperativeHandle:Bh,useInsertionEffect:zh,useLayoutEffect:Uh,useMemo:qh,useReducer:aa,useRef:$h,useState:function(){return aa(Ws)},useDebugValue:cc,useDeferredValue:function(t){var e=bt();return Hh(e,Re.memoizedState,t)},useTransition:function(){var t=aa(Ws)[0],e=bt().memoizedState;return[t,e]},useMutableSource:Th,useSyncExternalStore:Dh,useId:Vh,unstable_isNewReconciler:!1},lg={readContext:_t,useCallback:Wh,useContext:_t,useEffect:lc,useImperativeHandle:Bh,useInsertionEffect:zh,useLayoutEffect:Uh,useMemo:qh,useReducer:la,useRef:$h,useState:function(){return la(Ws)},useDebugValue:cc,useDeferredValue:function(t){var e=bt();return Re===null?e.memoizedState=t:Hh(e,Re.memoizedState,t)},useTransition:function(){var t=la(Ws)[0],e=bt().memoizedState;return[t,e]},useMutableSource:Th,useSyncExternalStore:Dh,useId:Vh,unstable_isNewReconciler:!1};function Nt(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function tl(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:be({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ci={isMounted:function(t){return(t=t._reactInternals)?rn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Xe(),s=br(t),o=Jt(n,s);o.payload=e,r!=null&&(o.callback=r),e=kr(t,o,s),e!==null&&(At(e,t,s,n),Do(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Xe(),s=br(t),o=Jt(n,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=kr(t,o,s),e!==null&&(At(e,t,s,n),Do(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Xe(),n=br(t),s=Jt(r,n);s.tag=2,e!=null&&(s.callback=e),e=kr(t,s,n),e!==null&&(At(e,t,n,r),Do(e,t,n))}};function yu(t,e,r,n,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,i):e.prototype&&e.prototype.isPureReactComponent?!Is(r,n)||!Is(s,o):!0}function Yh(t,e,r){var n=!1,s=Cr,o=e.contextType;return typeof o=="object"&&o!==null?o=_t(o):(s=at(e)?Yr:Ge.current,n=e.contextTypes,o=(n=n!=null)?In(t,s):Cr),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ci,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function vu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ci.enqueueReplaceState(e,e.state,null)}function rl(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},tc(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=_t(o):(o=at(e)?Yr:Ge.current,s.context=In(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(tl(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ci.enqueueReplaceState(s,s.state,null),ri(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Un(t,e){try{var r="",n=e;do r+=Ip(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function ca(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function nl(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var cg=typeof WeakMap=="function"?WeakMap:Map;function Jh(t,e,r){r=Jt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ai||(ai=!0,fl=n),nl(t,e)},r}function Xh(t,e,r){r=Jt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){nl(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){nl(t,e),typeof n!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function wu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new cg;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=bg.bind(null,t,e,r),e.then(t,t))}function xu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ku(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Jt(-1,1),e.tag=2,kr(r,e,1))),r.lanes|=1),t)}var ug=rr.ReactCurrentOwner,ot=!1;function Je(t,e,r,n){e.child=t===null?Nh(e,null,r,n):$n(e,t.child,r,n)}function _u(t,e,r,n,s){r=r.render;var o=e.ref;return An(e,s),n=ic(t,e,r,n,o,s),r=ac(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,tr(t,e,s)):(xe&&r&&Kl(e),e.flags|=1,Je(t,e,n,s),e.child)}function bu(t,e,r,n,s){if(t===null){var o=r.type;return typeof o=="function"&&!yc(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,Zh(t,e,o,n,s)):(t=$o(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Is,r(i,n)&&t.ref===e.ref)return tr(t,e,s)}return e.flags|=1,t=Sr(o,n),t.ref=e.ref,t.return=e,e.child=t}function Zh(t,e,r,n,s){if(t!==null){var o=t.memoizedProps;if(Is(o,n)&&t.ref===e.ref)if(ot=!1,e.pendingProps=n=o,(t.lanes&s)!==0)t.flags&131072&&(ot=!0);else return e.lanes=t.lanes,tr(t,e,s)}return sl(t,e,r,n,s)}function ef(t,e,r){var n=e.pendingProps,s=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(En,ut),ut|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(En,ut),ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ge(En,ut),ut|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,ge(En,ut),ut|=n;return Je(t,e,s,r),e.child}function tf(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function sl(t,e,r,n,s){var o=at(r)?Yr:Ge.current;return o=In(e,o),An(e,s),r=ic(t,e,r,n,o,s),n=ac(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,tr(t,e,s)):(xe&&n&&Kl(e),e.flags|=1,Je(t,e,r,s),e.child)}function Su(t,e,r,n,s){if(at(r)){var o=!0;Jo(e)}else o=!1;if(An(e,s),e.stateNode===null)Lo(t,e),Yh(e,r,n),rl(e,r,n,s),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=_t(u):(u=at(r)?Yr:Ge.current,u=In(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&vu(e,i,n,u),dr=!1;var f=e.memoizedState;i.state=f,ri(e,n,i,s),c=e.memoizedState,l!==n||f!==c||it.current||dr?(typeof d=="function"&&(tl(e,r,d,n),c=e.memoizedState),(l=dr||yu(e,r,l,n,f,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,Oh(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Nt(e.type,l),i.props=u,h=e.pendingProps,f=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=_t(c):(c=at(r)?Yr:Ge.current,c=In(e,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||f!==c)&&vu(e,i,n,c),dr=!1,f=e.memoizedState,i.state=f,ri(e,n,i,s);var w=e.memoizedState;l!==h||f!==w||it.current||dr?(typeof y=="function"&&(tl(e,r,y,n),w=e.memoizedState),(u=dr||yu(e,r,u,n,f,w,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),i.props=n,i.state=w,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return ol(t,e,r,n,o,s)}function ol(t,e,r,n,s,o){tf(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return s&&cu(e,r,!1),tr(t,e,o);n=e.stateNode,ug.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=$n(e,t.child,null,o),e.child=$n(e,null,l,o)):Je(t,e,l,o),e.memoizedState=n.state,s&&cu(e,r,!0),e.child}function rf(t){var e=t.stateNode;e.pendingContext?lu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lu(t,e.context,!1),rc(t,e.containerInfo)}function ju(t,e,r,n,s){return Mn(),Yl(s),e.flags|=256,Je(t,e,r,n),e.child}var il={dehydrated:null,treeContext:null,retryLane:0};function al(t){return{baseLanes:t,cachePool:null,transitions:null}}function nf(t,e,r){var n=e.pendingProps,s=ke.current,o=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(ke,s&1),t===null)return Za(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,o?(n=e.mode,o=e.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Oi(i,n,0,null),t=Qr(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=al(r),e.memoizedState=il,t):uc(e,i));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return dg(t,e,i,n,l,s,r);if(o){o=n.fallback,i=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Sr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Sr(l,o):(o=Qr(o,i,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,i=t.child.memoizedState,i=i===null?al(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~r,e.memoizedState=il,n}return o=t.child,t=o.sibling,n=Sr(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function uc(t,e){return e=Oi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vo(t,e,r,n){return n!==null&&Yl(n),$n(e,t.child,null,r),t=uc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dg(t,e,r,n,s,o,i){if(r)return e.flags&256?(e.flags&=-257,n=ca(Error(R(422))),vo(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,s=e.mode,n=Oi({mode:"visible",children:n.children},s,0,null),o=Qr(o,s,i,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&$n(e,t.child,null,i),e.child.memoizedState=al(i),e.memoizedState=il,o);if(!(e.mode&1))return vo(t,e,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(R(419)),n=ca(o,n,void 0),vo(t,e,i,n)}if(l=(i&t.childLanes)!==0,ot||l){if(n=ze,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,er(t,s),At(n,t,s,-1))}return gc(),n=ca(Error(R(421))),vo(t,e,i,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Sg.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,dt=xr(s.nextSibling),ht=e,xe=!0,Pt=null,t!==null&&(yt[vt++]=Qt,yt[vt++]=Yt,yt[vt++]=Jr,Qt=t.id,Yt=t.overflow,Jr=e),e=uc(e,n.children),e.flags|=4096,e)}function Cu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),el(t.return,e,r)}function ua(t,e,r,n,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function sf(t,e,r){var n=e.pendingProps,s=n.revealOrder,o=n.tail;if(Je(t,e,n.children,r),n=ke.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cu(t,r,e);else if(t.tag===19)Cu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ge(ke,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&ni(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),ua(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ni(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}ua(e,!0,r,null,o);break;case"together":ua(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Zr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,r=Sr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Sr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function hg(t,e,r){switch(e.tag){case 3:rf(e),Mn();break;case 5:Ph(e);break;case 1:at(e.type)&&Jo(e);break;case 4:rc(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ge(ei,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ge(ke,ke.current&1),e.flags|=128,null):r&e.child.childLanes?nf(t,e,r):(ge(ke,ke.current&1),t=tr(t,e,r),t!==null?t.sibling:null);ge(ke,ke.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return sf(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(ke,ke.current),n)break;return null;case 22:case 23:return e.lanes=0,ef(t,e,r)}return tr(t,e,r)}var of,ll,af,lf;of=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ll=function(){};af=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Gr(Wt.current);var o=null;switch(r){case"input":s=Pa(t,s),n=Pa(t,n),o=[];break;case"select":s=be({},s,{value:void 0}),n=be({},n,{value:void 0}),o=[];break;case"textarea":s=Aa(t,s),n=Aa(t,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Qo)}La(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Os.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Os.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ve("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};lf=function(t,e,r,n){r!==n&&(e.flags|=4)};function ss(t,e){if(!xe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function fg(t,e,r){var n=e.pendingProps;switch(Ql(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return at(e.type)&&Yo(),qe(e),null;case 3:return n=e.stateNode,zn(),we(it),we(Ge),sc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(go(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pt!==null&&(gl(Pt),Pt=null))),ll(t,e),qe(e),null;case 5:nc(e);var s=Gr(Fs.current);if(r=e.type,t!==null&&e.stateNode!=null)af(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(R(166));return qe(e),null}if(t=Gr(Wt.current),go(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Ft]=e,n[zs]=o,t=(e.mode&1)!==0,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(s=0;s<hs.length;s++)ve(hs[s],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":Lc(n,o),ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ve("invalid",n);break;case"textarea":Mc(n,o),ve("invalid",n)}La(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&mo(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&mo(n.textContent,l,t),s=["children",""+l]):Os.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ve("scroll",n)}switch(r){case"input":io(n),Ic(n,o,!0);break;case"textarea":io(n),$c(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Qo)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ld(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Ft]=e,t[zs]=n,of(t,e,!1,!1),e.stateNode=t;e:{switch(i=Ia(r,n),r){case"dialog":ve("cancel",t),ve("close",t),s=n;break;case"iframe":case"object":case"embed":ve("load",t),s=n;break;case"video":case"audio":for(s=0;s<hs.length;s++)ve(hs[s],t);s=n;break;case"source":ve("error",t),s=n;break;case"img":case"image":case"link":ve("error",t),ve("load",t),s=n;break;case"details":ve("toggle",t),s=n;break;case"input":Lc(t,n),s=Pa(t,n),ve("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=be({},n,{value:void 0}),ve("invalid",t);break;case"textarea":Mc(t,n),s=Aa(t,n),ve("invalid",t);break;default:s=n}La(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?$d(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Id(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ps(t,c):typeof c=="number"&&Ps(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Os.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ve("scroll",t):c!=null&&Rl(t,o,c,i))}switch(r){case"input":io(t),Ic(t,n,!1);break;case"textarea":io(t),$c(t);break;case"option":n.value!=null&&t.setAttribute("value",""+jr(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?On(t,!!n.multiple,o,!1):n.defaultValue!=null&&On(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qe(e),null;case 6:if(t&&e.stateNode!=null)lf(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(R(166));if(r=Gr(Fs.current),Gr(Wt.current),go(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ft]=e,(o=n.nodeValue!==r)&&(t=ht,t!==null))switch(t.tag){case 3:mo(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mo(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ft]=e,e.stateNode=n}return qe(e),null;case 13:if(we(ke),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xe&&dt!==null&&e.mode&1&&!(e.flags&128))jh(),Mn(),e.flags|=98560,o=!1;else if(o=go(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(R(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[Ft]=e}else Mn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),o=!1}else Pt!==null&&(gl(Pt),Pt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Le===0&&(Le=3):gc())),e.updateQueue!==null&&(e.flags|=4),qe(e),null);case 4:return zn(),ll(t,e),t===null&&Ms(e.stateNode.containerInfo),qe(e),null;case 10:return Zl(e.type._context),qe(e),null;case 17:return at(e.type)&&Yo(),qe(e),null;case 19:if(we(ke),o=e.memoizedState,o===null)return qe(e),null;if(n=(e.flags&128)!==0,i=o.rendering,i===null)if(n)ss(o,!1);else{if(Le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=ni(t),i!==null){for(e.flags|=128,ss(o,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ge(ke,ke.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ee()>Fn&&(e.flags|=128,n=!0,ss(o,!1),e.lanes=4194304)}else{if(!n)if(t=ni(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ss(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!xe)return qe(e),null}else 2*Ee()-o.renderingStartTime>Fn&&r!==1073741824&&(e.flags|=128,n=!0,ss(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(r=o.last,r!==null?r.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ee(),e.sibling=null,r=ke.current,ge(ke,n?r&1|2:r&1),e):(qe(e),null);case 22:case 23:return mc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ut&1073741824&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function pg(t,e){switch(Ql(e),e.tag){case 1:return at(e.type)&&Yo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zn(),we(it),we(Ge),sc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nc(e),null;case 13:if(we(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Mn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(ke),null;case 4:return zn(),null;case 10:return Zl(e.type._context),null;case 22:case 23:return mc(),null;case 24:return null;default:return null}}var wo=!1,He=!1,mg=typeof WeakSet=="function"?WeakSet:Set,z=null;function Nn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ce(t,e,n)}else r.current=null}function cl(t,e,r){try{r()}catch(n){Ce(t,e,n)}}var Nu=!1;function gg(t,e){if(Va=Vo,t=hh(),Gl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(l=i+s),h!==o||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===t)break t;if(f===r&&++u===s&&(l=i),f===o&&++d===n&&(c=i),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ga={focusedElem:t,selectionRange:r},Vo=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var k=w.memoizedProps,T=w.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?k:Nt(e.type,k),T);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(x){Ce(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return w=Nu,Nu=!1,w}function ks(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&cl(e,r,o)}s=s.next}while(s!==n)}}function Ni(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ul(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function cf(t){var e=t.alternate;e!==null&&(t.alternate=null,cf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ft],delete e[zs],delete e[Ya],delete e[Xm],delete e[Zm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uf(t){return t.tag===5||t.tag===3||t.tag===4}function Eu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Qo));else if(n!==4&&(t=t.child,t!==null))for(dl(t,e,r),t=t.sibling;t!==null;)dl(t,e,r),t=t.sibling}function hl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(hl(t,e,r),t=t.sibling;t!==null;)hl(t,e,r),t=t.sibling}var Ue=null,Et=!1;function ir(t,e,r){for(r=r.child;r!==null;)df(t,e,r),r=r.sibling}function df(t,e,r){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(wi,r)}catch{}switch(r.tag){case 5:He||Nn(r,e);case 6:var n=Ue,s=Et;Ue=null,ir(t,e,r),Ue=n,Et=s,Ue!==null&&(Et?(t=Ue,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ue.removeChild(r.stateNode));break;case 18:Ue!==null&&(Et?(t=Ue,r=r.stateNode,t.nodeType===8?na(t.parentNode,r):t.nodeType===1&&na(t,r),Rs(t)):na(Ue,r.stateNode));break;case 4:n=Ue,s=Et,Ue=r.stateNode.containerInfo,Et=!0,ir(t,e,r),Ue=n,Et=s;break;case 0:case 11:case 14:case 15:if(!He&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&cl(r,e,i),s=s.next}while(s!==n)}ir(t,e,r);break;case 1:if(!He&&(Nn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ce(r,e,l)}ir(t,e,r);break;case 21:ir(t,e,r);break;case 22:r.mode&1?(He=(n=He)||r.memoizedState!==null,ir(t,e,r),He=n):ir(t,e,r);break;default:ir(t,e,r)}}function Ou(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new mg),e.forEach(function(n){var s=jg.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function jt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ue=l.stateNode,Et=!1;break e;case 3:Ue=l.stateNode.containerInfo,Et=!0;break e;case 4:Ue=l.stateNode.containerInfo,Et=!0;break e}l=l.return}if(Ue===null)throw Error(R(160));df(o,i,s),Ue=null,Et=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ce(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hf(e,t),e=e.sibling}function hf(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jt(e,t),$t(t),n&4){try{ks(3,t,t.return),Ni(3,t)}catch(k){Ce(t,t.return,k)}try{ks(5,t,t.return)}catch(k){Ce(t,t.return,k)}}break;case 1:jt(e,t),$t(t),n&512&&r!==null&&Nn(r,r.return);break;case 5:if(jt(e,t),$t(t),n&512&&r!==null&&Nn(r,r.return),t.flags&32){var s=t.stateNode;try{Ps(s,"")}catch(k){Ce(t,t.return,k)}}if(n&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=r!==null?r.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Ad(s,o),Ia(l,i);var u=Ia(l,o);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];d==="style"?$d(s,h):d==="dangerouslySetInnerHTML"?Id(s,h):d==="children"?Ps(s,h):Rl(s,d,h,u)}switch(l){case"input":Ta(s,o);break;case"textarea":Rd(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?On(s,!!o.multiple,y,!1):f!==!!o.multiple&&(o.defaultValue!=null?On(s,!!o.multiple,o.defaultValue,!0):On(s,!!o.multiple,o.multiple?[]:"",!1))}s[zs]=o}catch(k){Ce(t,t.return,k)}}break;case 6:if(jt(e,t),$t(t),n&4){if(t.stateNode===null)throw Error(R(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(k){Ce(t,t.return,k)}}break;case 3:if(jt(e,t),$t(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rs(e.containerInfo)}catch(k){Ce(t,t.return,k)}break;case 4:jt(e,t),$t(t);break;case 13:jt(e,t),$t(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(fc=Ee())),n&4&&Ou(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(He=(u=He)||d,jt(e,t),He=u):jt(e,t),$t(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(z=t,d=t.child;d!==null;){for(h=z=d;z!==null;){switch(f=z,y=f.child,f.tag){case 0:case 11:case 14:case 15:ks(4,f,f.return);break;case 1:Nn(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(k){Ce(n,r,k)}}break;case 5:Nn(f,f.return);break;case 22:if(f.memoizedState!==null){Tu(h);continue}}y!==null?(y.return=f,z=y):Tu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Md("display",i))}catch(k){Ce(t,t.return,k)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(k){Ce(t,t.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jt(e,t),$t(t),n&4&&Ou(t);break;case 21:break;default:jt(e,t),$t(t)}}function $t(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(uf(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ps(s,""),n.flags&=-33);var o=Eu(t);hl(t,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Eu(t);dl(t,l,i);break;default:throw Error(R(161))}}catch(c){Ce(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yg(t,e,r){z=t,ff(t)}function ff(t,e,r){for(var n=(t.mode&1)!==0;z!==null;){var s=z,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||wo;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||He;l=wo;var u=He;if(wo=i,(He=c)&&!u)for(z=s;z!==null;)i=z,c=i.child,i.tag===22&&i.memoizedState!==null?Du(s):c!==null?(c.return=i,z=c):Du(s);for(;o!==null;)z=o,ff(o),o=o.sibling;z=s,wo=l,He=u}Pu(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,z=o):Pu(t)}}function Pu(t){for(;z!==null;){var e=z;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:He||Ni(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!He)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Nt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&pu(e,o,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}pu(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Rs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}He||e.flags&512&&ul(e)}catch(f){Ce(e,e.return,f)}}if(e===t){z=null;break}if(r=e.sibling,r!==null){r.return=e.return,z=r;break}z=e.return}}function Tu(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var r=e.sibling;if(r!==null){r.return=e.return,z=r;break}z=e.return}}function Du(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ni(4,e)}catch(c){Ce(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Ce(e,s,c)}}var o=e.return;try{ul(e)}catch(c){Ce(e,o,c)}break;case 5:var i=e.return;try{ul(e)}catch(c){Ce(e,i,c)}}}catch(c){Ce(e,e.return,c)}if(e===t){z=null;break}var l=e.sibling;if(l!==null){l.return=e.return,z=l;break}z=e.return}}var vg=Math.ceil,ii=rr.ReactCurrentDispatcher,dc=rr.ReactCurrentOwner,xt=rr.ReactCurrentBatchConfig,ce=0,ze=null,Pe=null,Fe=0,ut=0,En=Or(0),Le=0,Hs=null,Zr=0,Ei=0,hc=0,_s=null,nt=null,fc=0,Fn=1/0,Vt=null,ai=!1,fl=null,_r=null,xo=!1,gr=null,li=0,bs=0,pl=null,Io=-1,Mo=0;function Xe(){return ce&6?Ee():Io!==-1?Io:Io=Ee()}function br(t){return t.mode&1?ce&2&&Fe!==0?Fe&-Fe:tg.transition!==null?(Mo===0&&(Mo=Yd()),Mo):(t=fe,t!==0||(t=window.event,t=t===void 0?16:nh(t.type)),t):1}function At(t,e,r,n){if(50<bs)throw bs=0,pl=null,Error(R(185));Qs(t,r,n),(!(ce&2)||t!==ze)&&(t===ze&&(!(ce&2)&&(Ei|=r),Le===4&&fr(t,Fe)),lt(t,n),r===1&&ce===0&&!(e.mode&1)&&(Fn=Ee()+500,Si&&Pr()))}function lt(t,e){var r=t.callbackNode;tm(t,e);var n=Ho(t,t===ze?Fe:0);if(n===0)r!==null&&Fc(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Fc(r),e===1)t.tag===0?eg(Au.bind(null,t)):_h(Au.bind(null,t)),Ym(function(){!(ce&6)&&Pr()}),r=null;else{switch(Jd(n)){case 1:r=zl;break;case 4:r=Kd;break;case 16:r=qo;break;case 536870912:r=Qd;break;default:r=qo}r=kf(r,pf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function pf(t,e){if(Io=-1,Mo=0,ce&6)throw Error(R(327));var r=t.callbackNode;if(Rn()&&t.callbackNode!==r)return null;var n=Ho(t,t===ze?Fe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ci(t,n);else{e=n;var s=ce;ce|=2;var o=gf();(ze!==t||Fe!==e)&&(Vt=null,Fn=Ee()+500,Kr(t,e));do try{kg();break}catch(l){mf(t,l)}while(!0);Xl(),ii.current=o,ce=s,Pe!==null?e=0:(ze=null,Fe=0,e=Le)}if(e!==0){if(e===2&&(s=Fa(t),s!==0&&(n=s,e=ml(t,s))),e===1)throw r=Hs,Kr(t,0),fr(t,n),lt(t,Ee()),r;if(e===6)fr(t,n);else{if(s=t.current.alternate,!(n&30)&&!wg(s)&&(e=ci(t,n),e===2&&(o=Fa(t),o!==0&&(n=o,e=ml(t,o))),e===1))throw r=Hs,Kr(t,0),fr(t,n),lt(t,Ee()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(R(345));case 2:Fr(t,nt,Vt);break;case 3:if(fr(t,n),(n&130023424)===n&&(e=fc+500-Ee(),10<e)){if(Ho(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Xe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Qa(Fr.bind(null,t,nt,Vt),e);break}Fr(t,nt,Vt);break;case 4:if(fr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var i=31-Dt(n);o=1<<i,i=e[i],i>s&&(s=i),n&=~o}if(n=s,n=Ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vg(n/1960))-n,10<n){t.timeoutHandle=Qa(Fr.bind(null,t,nt,Vt),n);break}Fr(t,nt,Vt);break;case 5:Fr(t,nt,Vt);break;default:throw Error(R(329))}}}return lt(t,Ee()),t.callbackNode===r?pf.bind(null,t):null}function ml(t,e){var r=_s;return t.current.memoizedState.isDehydrated&&(Kr(t,e).flags|=256),t=ci(t,e),t!==2&&(e=nt,nt=r,e!==null&&gl(e)),t}function gl(t){nt===null?nt=t:nt.push.apply(nt,t)}function wg(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Lt(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fr(t,e){for(e&=~hc,e&=~Ei,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Dt(e),n=1<<r;t[r]=-1,e&=~n}}function Au(t){if(ce&6)throw Error(R(327));Rn();var e=Ho(t,0);if(!(e&1))return lt(t,Ee()),null;var r=ci(t,e);if(t.tag!==0&&r===2){var n=Fa(t);n!==0&&(e=n,r=ml(t,n))}if(r===1)throw r=Hs,Kr(t,0),fr(t,e),lt(t,Ee()),r;if(r===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fr(t,nt,Vt),lt(t,Ee()),null}function pc(t,e){var r=ce;ce|=1;try{return t(e)}finally{ce=r,ce===0&&(Fn=Ee()+500,Si&&Pr())}}function en(t){gr!==null&&gr.tag===0&&!(ce&6)&&Rn();var e=ce;ce|=1;var r=xt.transition,n=fe;try{if(xt.transition=null,fe=1,t)return t()}finally{fe=n,xt.transition=r,ce=e,!(ce&6)&&Pr()}}function mc(){ut=En.current,we(En)}function Kr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Qm(r)),Pe!==null)for(r=Pe.return;r!==null;){var n=r;switch(Ql(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Yo();break;case 3:zn(),we(it),we(Ge),sc();break;case 5:nc(n);break;case 4:zn();break;case 13:we(ke);break;case 19:we(ke);break;case 10:Zl(n.type._context);break;case 22:case 23:mc()}r=r.return}if(ze=t,Pe=t=Sr(t.current,null),Fe=ut=e,Le=0,Hs=null,hc=Ei=Zr=0,nt=_s=null,Vr!==null){for(e=0;e<Vr.length;e++)if(r=Vr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}Vr=null}return t}function mf(t,e){do{var r=Pe;try{if(Xl(),Ao.current=oi,si){for(var n=_e.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}si=!1}if(Xr=0,$e=Re=_e=null,xs=!1,Bs=0,dc.current=null,r===null||r.return===null){Le=1,Hs=e,Pe=null;break}e:{var o=t,i=r.return,l=r,c=e;if(e=Fe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=xu(i);if(y!==null){y.flags&=-257,ku(y,i,l,o,e),y.mode&1&&wu(o,u,e),e=y,c=u;var w=e.updateQueue;if(w===null){var k=new Set;k.add(c),e.updateQueue=k}else w.add(c);break e}else{if(!(e&1)){wu(o,u,e),gc();break e}c=Error(R(426))}}else if(xe&&l.mode&1){var T=xu(i);if(T!==null){!(T.flags&65536)&&(T.flags|=256),ku(T,i,l,o,e),Yl(Un(c,l));break e}}o=c=Un(c,l),Le!==4&&(Le=2),_s===null?_s=[o]:_s.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=Jh(o,c,e);fu(o,g);break e;case 1:l=c;var p=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(_r===null||!_r.has(m)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=Xh(o,l,e);fu(o,x);break e}}o=o.return}while(o!==null)}vf(r)}catch(S){e=S,Pe===r&&r!==null&&(Pe=r=r.return);continue}break}while(!0)}function gf(){var t=ii.current;return ii.current=oi,t===null?oi:t}function gc(){(Le===0||Le===3||Le===2)&&(Le=4),ze===null||!(Zr&268435455)&&!(Ei&268435455)||fr(ze,Fe)}function ci(t,e){var r=ce;ce|=2;var n=gf();(ze!==t||Fe!==e)&&(Vt=null,Kr(t,e));do try{xg();break}catch(s){mf(t,s)}while(!0);if(Xl(),ce=r,ii.current=n,Pe!==null)throw Error(R(261));return ze=null,Fe=0,Le}function xg(){for(;Pe!==null;)yf(Pe)}function kg(){for(;Pe!==null&&!Vp();)yf(Pe)}function yf(t){var e=xf(t.alternate,t,ut);t.memoizedProps=t.pendingProps,e===null?vf(t):Pe=e,dc.current=null}function vf(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=pg(r,e),r!==null){r.flags&=32767,Pe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Le=6,Pe=null;return}}else if(r=fg(r,e,ut),r!==null){Pe=r;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);Le===0&&(Le=5)}function Fr(t,e,r){var n=fe,s=xt.transition;try{xt.transition=null,fe=1,_g(t,e,r,n)}finally{xt.transition=s,fe=n}return null}function _g(t,e,r,n){do Rn();while(gr!==null);if(ce&6)throw Error(R(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(rm(t,o),t===ze&&(Pe=ze=null,Fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xo||(xo=!0,kf(qo,function(){return Rn(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=xt.transition,xt.transition=null;var i=fe;fe=1;var l=ce;ce|=4,dc.current=null,gg(t,r),hf(r,t),Bm(Ga),Vo=!!Va,Ga=Va=null,t.current=r,yg(r),Gp(),ce=l,fe=i,xt.transition=o}else t.current=r;if(xo&&(xo=!1,gr=t,li=s),o=t.pendingLanes,o===0&&(_r=null),Yp(r.stateNode),lt(t,Ee()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ai)throw ai=!1,t=fl,fl=null,t;return li&1&&t.tag!==0&&Rn(),o=t.pendingLanes,o&1?t===pl?bs++:(bs=0,pl=t):bs=0,Pr(),null}function Rn(){if(gr!==null){var t=Jd(li),e=xt.transition,r=fe;try{if(xt.transition=null,fe=16>t?16:t,gr===null)var n=!1;else{if(t=gr,gr=null,li=0,ce&6)throw Error(R(331));var s=ce;for(ce|=4,z=t.current;z!==null;){var o=z,i=o.child;if(z.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(z=u;z!==null;){var d=z;switch(d.tag){case 0:case 11:case 15:ks(8,d,o)}var h=d.child;if(h!==null)h.return=d,z=h;else for(;z!==null;){d=z;var f=d.sibling,y=d.return;if(cf(d),d===u){z=null;break}if(f!==null){f.return=y,z=f;break}z=y}}}var w=o.alternate;if(w!==null){var k=w.child;if(k!==null){w.child=null;do{var T=k.sibling;k.sibling=null,k=T}while(k!==null)}}z=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,z=i;else e:for(;z!==null;){if(o=z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ks(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,z=g;break e}z=o.return}}var p=t.current;for(z=p;z!==null;){i=z;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,z=m;else e:for(i=p;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ni(9,l)}}catch(S){Ce(l,l.return,S)}if(l===i){z=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,z=x;break e}z=l.return}}if(ce=s,Pr(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(wi,t)}catch{}n=!0}return n}finally{fe=r,xt.transition=e}}return!1}function Ru(t,e,r){e=Un(r,e),e=Jh(t,e,1),t=kr(t,e,1),e=Xe(),t!==null&&(Qs(t,1,e),lt(t,e))}function Ce(t,e,r){if(t.tag===3)Ru(t,t,r);else for(;e!==null;){if(e.tag===3){Ru(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_r===null||!_r.has(n))){t=Un(r,t),t=Xh(e,t,1),e=kr(e,t,1),t=Xe(),e!==null&&(Qs(e,1,t),lt(e,t));break}}e=e.return}}function bg(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Xe(),t.pingedLanes|=t.suspendedLanes&r,ze===t&&(Fe&r)===r&&(Le===4||Le===3&&(Fe&130023424)===Fe&&500>Ee()-fc?Kr(t,0):hc|=r),lt(t,e)}function wf(t,e){e===0&&(t.mode&1?(e=co,co<<=1,!(co&130023424)&&(co=4194304)):e=1);var r=Xe();t=er(t,e),t!==null&&(Qs(t,e,r),lt(t,r))}function Sg(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),wf(t,r)}function jg(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(e),wf(t,r)}var xf;xf=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||it.current)ot=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ot=!1,hg(t,e,r);ot=!!(t.flags&131072)}else ot=!1,xe&&e.flags&1048576&&bh(e,Zo,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Lo(t,e),t=e.pendingProps;var s=In(e,Ge.current);An(e,r),s=ic(null,e,n,t,s,r);var o=ac();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,at(n)?(o=!0,Jo(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,tc(e),s.updater=Ci,e.stateNode=s,s._reactInternals=e,rl(e,n,t,r),e=ol(null,e,n,!0,o,r)):(e.tag=0,xe&&o&&Kl(e),Je(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Lo(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Ng(n),t=Nt(n,t),s){case 0:e=sl(null,e,n,t,r);break e;case 1:e=Su(null,e,n,t,r);break e;case 11:e=_u(null,e,n,t,r);break e;case 14:e=bu(null,e,n,Nt(n.type,t),r);break e}throw Error(R(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Nt(n,s),sl(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Nt(n,s),Su(t,e,n,s,r);case 3:e:{if(rf(e),t===null)throw Error(R(387));n=e.pendingProps,o=e.memoizedState,s=o.element,Oh(t,e),ri(e,n,null,r);var i=e.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Un(Error(R(423)),e),e=ju(t,e,n,r,s);break e}else if(n!==s){s=Un(Error(R(424)),e),e=ju(t,e,n,r,s);break e}else for(dt=xr(e.stateNode.containerInfo.firstChild),ht=e,xe=!0,Pt=null,r=Nh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mn(),n===s){e=tr(t,e,r);break e}Je(t,e,n,r)}e=e.child}return e;case 5:return Ph(e),t===null&&Za(e),n=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,Ka(n,s)?i=null:o!==null&&Ka(n,o)&&(e.flags|=32),tf(t,e),Je(t,e,i,r),e.child;case 6:return t===null&&Za(e),null;case 13:return nf(t,e,r);case 4:return rc(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=$n(e,null,n,r):Je(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Nt(n,s),_u(t,e,n,s,r);case 7:return Je(t,e,e.pendingProps,r),e.child;case 8:return Je(t,e,e.pendingProps.children,r),e.child;case 12:return Je(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,ge(ei,n._currentValue),n._currentValue=i,o!==null)if(Lt(o.value,i)){if(o.children===s.children&&!it.current){e=tr(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Jt(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),el(o.return,r,e),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(R(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),el(i,r,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Je(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,An(e,r),s=_t(s),n=n(s),e.flags|=1,Je(t,e,n,r),e.child;case 14:return n=e.type,s=Nt(n,e.pendingProps),s=Nt(n.type,s),bu(t,e,n,s,r);case 15:return Zh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Nt(n,s),Lo(t,e),e.tag=1,at(n)?(t=!0,Jo(e)):t=!1,An(e,r),Yh(e,n,s),rl(e,n,s,r),ol(null,e,n,!0,t,r);case 19:return sf(t,e,r);case 22:return ef(t,e,r)}throw Error(R(156,e.tag))};function kf(t,e){return Gd(t,e)}function Cg(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(t,e,r,n){return new Cg(t,e,r,n)}function yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ng(t){if(typeof t=="function")return yc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Il)return 11;if(t===Ml)return 14}return 2}function Sr(t,e){var r=t.alternate;return r===null?(r=wt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function $o(t,e,r,n,s,o){var i=2;if(n=t,typeof t=="function")yc(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case vn:return Qr(r.children,s,o,e);case Ll:i=8,s|=8;break;case Ca:return t=wt(12,r,e,s|2),t.elementType=Ca,t.lanes=o,t;case Na:return t=wt(13,r,e,s),t.elementType=Na,t.lanes=o,t;case Ea:return t=wt(19,r,e,s),t.elementType=Ea,t.lanes=o,t;case Pd:return Oi(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ed:i=10;break e;case Od:i=9;break e;case Il:i=11;break e;case Ml:i=14;break e;case ur:i=16,n=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=wt(i,r,e,s),e.elementType=t,e.type=n,e.lanes=o,e}function Qr(t,e,r,n){return t=wt(7,t,n,e),t.lanes=r,t}function Oi(t,e,r,n){return t=wt(22,t,n,e),t.elementType=Pd,t.lanes=r,t.stateNode={isHidden:!1},t}function da(t,e,r){return t=wt(6,t,null,e),t.lanes=r,t}function ha(t,e,r){return e=wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Eg(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vi(0),this.expirationTimes=Vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vc(t,e,r,n,s,o,i,l,c){return t=new Eg(t,e,r,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=wt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},tc(o),t}function Og(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function _f(t){if(!t)return Cr;t=t._reactInternals;e:{if(rn(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(at(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var r=t.type;if(at(r))return kh(t,r,e)}return e}function bf(t,e,r,n,s,o,i,l,c){return t=vc(r,n,!0,t,s,o,i,l,c),t.context=_f(null),r=t.current,n=Xe(),s=br(r),o=Jt(n,s),o.callback=e??null,kr(r,o,s),t.current.lanes=s,Qs(t,s,n),lt(t,n),t}function Pi(t,e,r,n){var s=e.current,o=Xe(),i=br(s);return r=_f(r),e.context===null?e.context=r:e.pendingContext=r,e=Jt(o,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=kr(s,e,i),t!==null&&(At(t,s,i,o),Do(t,s,i)),i}function ui(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function wc(t,e){Lu(t,e),(t=t.alternate)&&Lu(t,e)}function Pg(){return null}var Sf=typeof reportError=="function"?reportError:function(t){console.error(t)};function xc(t){this._internalRoot=t}Ti.prototype.render=xc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));Pi(t,e,null,null)};Ti.prototype.unmount=xc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;en(function(){Pi(null,t,null,null)}),e[Zt]=null}};function Ti(t){this._internalRoot=t}Ti.prototype.unstable_scheduleHydration=function(t){if(t){var e=eh();t={blockedOn:null,target:t,priority:e};for(var r=0;r<hr.length&&e!==0&&e<hr[r].priority;r++);hr.splice(r,0,t),r===0&&rh(t)}};function kc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Di(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Iu(){}function Tg(t,e,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=ui(i);o.call(u)}}var i=bf(e,n,t,0,null,!1,!1,"",Iu);return t._reactRootContainer=i,t[Zt]=i.current,Ms(t.nodeType===8?t.parentNode:t),en(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ui(c);l.call(u)}}var c=vc(t,0,!1,null,null,!1,!1,"",Iu);return t._reactRootContainer=c,t[Zt]=c.current,Ms(t.nodeType===8?t.parentNode:t),en(function(){Pi(e,c,r,n)}),c}function Ai(t,e,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=ui(i);l.call(c)}}Pi(e,i,t,s)}else i=Tg(r,e,t,s,n);return ui(i)}Xd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ds(e.pendingLanes);r!==0&&(Ul(e,r|1),lt(e,Ee()),!(ce&6)&&(Fn=Ee()+500,Pr()))}break;case 13:en(function(){var n=er(t,1);if(n!==null){var s=Xe();At(n,t,1,s)}}),wc(t,1)}};Fl=function(t){if(t.tag===13){var e=er(t,134217728);if(e!==null){var r=Xe();At(e,t,134217728,r)}wc(t,134217728)}};Zd=function(t){if(t.tag===13){var e=br(t),r=er(t,e);if(r!==null){var n=Xe();At(r,t,e,n)}wc(t,e)}};eh=function(){return fe};th=function(t,e){var r=fe;try{return fe=t,e()}finally{fe=r}};$a=function(t,e,r){switch(e){case"input":if(Ta(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=bi(n);if(!s)throw Error(R(90));Dd(n),Ta(n,s)}}}break;case"textarea":Rd(t,r);break;case"select":e=r.value,e!=null&&On(t,!!r.multiple,e,!1)}};Fd=pc;Bd=en;var Dg={usingClientEntryPoint:!1,Events:[Js,_n,bi,zd,Ud,pc]},os={findFiberByHostInstance:Hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ag={bundleType:os.bundleType,version:os.version,rendererPackageName:os.rendererPackageName,rendererConfig:os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hd(t),t===null?null:t.stateNode},findFiberByHostInstance:os.findFiberByHostInstance||Pg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{wi=ko.inject(Ag),Bt=ko}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dg;mt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kc(e))throw Error(R(200));return Og(t,e,null,r)};mt.createRoot=function(t,e){if(!kc(t))throw Error(R(299));var r=!1,n="",s=Sf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=vc(t,1,!1,null,null,r,!1,n,s),t[Zt]=e.current,Ms(t.nodeType===8?t.parentNode:t),new xc(e)};mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=Hd(e),t=t===null?null:t.stateNode,t};mt.flushSync=function(t){return en(t)};mt.hydrate=function(t,e,r){if(!Di(e))throw Error(R(200));return Ai(null,t,e,!0,r)};mt.hydrateRoot=function(t,e,r){if(!kc(t))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=Sf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=bf(e,null,t,1,r??null,s,!1,o,i),t[Zt]=e.current,Ms(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Ti(e)};mt.render=function(t,e,r){if(!Di(e))throw Error(R(200));return Ai(null,t,e,!1,r)};mt.unmountComponentAtNode=function(t){if(!Di(t))throw Error(R(40));return t._reactRootContainer?(en(function(){Ai(null,null,t,!1,function(){t._reactRootContainer=null,t[Zt]=null})}),!0):!1};mt.unstable_batchedUpdates=pc;mt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Di(r))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return Ai(t,e,r,!1,n)};mt.version="18.3.1-next-f1338f8080-20240426";function jf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jf)}catch(t){console.error(t)}}jf(),Sd.exports=mt;var Cf=Sd.exports,Nf,Mu=Cf;Nf=Mu.createRoot,Mu.hydrateRoot;const Rg="modulepreload",Lg=function(t){return"/subscriber-portal/"+t},$u={},Zs=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Lg(c),c in $u)return;$u[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Rg,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},Ig=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Zs(async()=>{const{default:n}=await Promise.resolve().then(()=>Vn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class _c extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Mg extends _c{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zu extends _c{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Uu extends _c{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var yl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(yl||(yl={}));var $g=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class zg{constructor(e,{headers:r={},customFetch:n,region:s=yl.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Ig(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return $g(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const h=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(k=>{throw new Mg(k)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new zu(h);if(!h.ok)throw new Uu(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield h.json():y==="application/octet-stream"?w=yield h.blob():y==="text/event-stream"?w=h:y==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Uu||s instanceof zu?s.context:void 0}}})}}var st={},bc={},Ri={},eo={},Li={},Ii={},Ug=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bn=Ug();const Fg=Bn.fetch,Ef=Bn.fetch.bind(Bn),Of=Bn.Headers,Bg=Bn.Request,Wg=Bn.Response,Vn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Of,Request:Bg,Response:Wg,default:Ef,fetch:Fg},Symbol.toStringTag,{value:"Module"})),qg=ap(Vn);var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});let Hg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Mi.default=Hg;var Pf=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ii,"__esModule",{value:!0});const Vg=Pf(qg),Gg=Pf(Mi);let Kg=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Vg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c,u;let d=null,h=null,f=null,y=o.status,w=o.statusText;if(o.ok){if(this.method!=="HEAD"){const p=await o.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const T=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");T&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,y=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const T=await o.text();try{d=JSON.parse(T),Array.isArray(d)&&o.status===404&&(h=[],d=null,y=200,w="OK")}catch{o.status===404&&T===""?(y=204,w="No Content"):d={message:T}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,y=200,w="OK"),d&&this.shouldThrowOnError)throw new Gg.default(d)}return{error:d,data:h,count:f,status:y,statusText:w}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Ii.default=Kg;var Qg=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Li,"__esModule",{value:!0});const Yg=Qg(Ii);let Jg=class extends Yg.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Li.default=Jg;var Xg=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eo,"__esModule",{value:!0});const Zg=Xg(Li);let ey=class extends Zg.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};eo.default=ey;var ty=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ri,"__esModule",{value:!0});const is=ty(eo);let ry=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer",`count=${n}`),new is.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const o="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new is.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new is.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new is.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new is.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ri.default=ry;var Tf=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bc,"__esModule",{value:!0});const ny=Tf(Ri),sy=Tf(eo);let oy=class Df{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new ny.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Df(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",u=r);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new sy.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};bc.default=oy;var Gn=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(st,"__esModule",{value:!0});st.PostgrestError=st.PostgrestBuilder=st.PostgrestTransformBuilder=st.PostgrestFilterBuilder=st.PostgrestQueryBuilder=st.PostgrestClient=void 0;const Af=Gn(bc);st.PostgrestClient=Af.default;const Rf=Gn(Ri);st.PostgrestQueryBuilder=Rf.default;const Lf=Gn(eo);st.PostgrestFilterBuilder=Lf.default;const If=Gn(Li);st.PostgrestTransformBuilder=If.default;const Mf=Gn(Ii);st.PostgrestBuilder=Mf.default;const $f=Gn(Mi);st.PostgrestError=$f.default;var iy=st.default={PostgrestClient:Af.default,PostgrestQueryBuilder:Rf.default,PostgrestFilterBuilder:Lf.default,PostgrestTransformBuilder:If.default,PostgrestBuilder:Mf.default,PostgrestError:$f.default};const{PostgrestClient:ay,PostgrestQueryBuilder:Bw,PostgrestFilterBuilder:Ww,PostgrestTransformBuilder:qw,PostgrestBuilder:Hw,PostgrestError:Vw}=iy;class ly{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const cy="2.15.5",uy=`realtime-js/${cy}`,dy="1.0.0",vl=1e4,hy=1e3,fy=100;var Ss;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ss||(Ss={}));var De;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(De||(De={}));var Ot;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ot||(Ot={}));var wl;(function(t){t.websocket="websocket"})(wl||(wl={}));var qr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(qr||(qr={}));class py{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(e.slice(i,i+s));i=i+s;const c=n.decode(e.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class zf{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var me;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(me||(me={}));const Fu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,i)=>(o[i]=my(i,t,e,s),o),{})},my=(t,e,r,n)=>{const s=e.find(l=>l.name===t),o=s==null?void 0:s.type,i=r[t];return o&&!n.includes(o)?Uf(o,i):xl(i)},Uf=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return wy(e,r)}switch(t){case me.bool:return gy(e);case me.float4:case me.float8:case me.int2:case me.int4:case me.int8:case me.numeric:case me.oid:return yy(e);case me.json:case me.jsonb:return vy(e);case me.timestamp:return xy(e);case me.abstime:case me.date:case me.daterange:case me.int4range:case me.int8range:case me.money:case me.reltime:case me.text:case me.time:case me.timestamptz:case me.timetz:case me.tsrange:case me.tstzrange:return xl(e);default:return xl(e)}},xl=t=>t,gy=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yy=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vy=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},wy=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>Uf(e,l))}return t},xy=t=>typeof t=="string"?t.replace(" ","T"):t,Ff=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class fa{constructor(e,r,n={},s=vl){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Bu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Bu||(Bu={}));class js{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=js.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=js.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=js.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),i=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const h=o[u];if(h){const f=d.map(T=>T.presence_ref),y=h.map(T=>T.presence_ref),w=d.filter(T=>y.indexOf(T.presence_ref)<0),k=h.filter(T=>f.indexOf(T.presence_ref)<0);w.length>0&&(l[u]=w),k.length>0&&(c[u]=k)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);e[l].unshift(...f)}n(l,d,c)}),this.map(i,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Wu||(Wu={}));var Cs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Cs||(Cs={}));var Gt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Gt||(Gt={}));class Sc{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fa(this,Ot.join,this.params,this.timeout),this.rejoinTimer=new zf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ot.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new js(this),this.broadcastEndpointURL=Ff(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==De.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Cs.PRESENCE]&&this.bindings[Cs.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(Gt.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(Gt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var w;if(this.socket.setAuth(),y===void 0){e==null||e(Gt.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,T=(w=k==null?void 0:k.length)!==null&&w!==void 0?w:0,g=[];for(let p=0;p<T;p++){const m=k[p],{filter:{event:x,schema:S,table:b,filter:E}}=m,A=y&&y[p];if(A&&A.event===x&&A.schema===S&&A.table===b&&A.filter===E)g.push(Object.assign(Object.assign({},m),{id:A.id}));else{this.unsubscribe(),this.state=De.errored,e==null||e(Gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Gt.SUBSCRIBED);return}}).receive("error",y=>{this.state=De.errored,e==null||e(Gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===De.joined&&e===Cs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=De.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ot.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new fa(this,Ot.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=De.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new fa(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>fy){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const i=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ot;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var w,k,T;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((T=(k=y.filter)===null||k===void 0?void 0:k.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===i}).map(y=>y.callback(f,n)):(o=this.bindings[i])===null||o===void 0||o.filter(y=>{var w,k,T,g,p,m;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in y){const x=y.id,S=(w=y.filter)===null||w===void 0?void 0:w.event;return x&&((k=r.ids)===null||k===void 0?void 0:k.includes(x))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((T=r.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const x=(p=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===i}).map(y=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:k,table:T,commit_timestamp:g,type:p,errors:m}=w;f=Object.assign(Object.assign({},{schema:k,table:T,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(w))}y.callback(f,n)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Sc.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ot.close,{},e)}_onError(e){this._on(Ot.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Fu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Fu(e.columns,e.old_record)),r}}const pa=()=>{},_o={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ky=[1e3,2e3,5e3,1e4],_y=1e4,by=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sy{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vl,this.transport=null,this.heartbeatIntervalMs=_o.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pa,this.ref=0,this.reconnectTimer=null,this.logger=pa,this.conn=null,this.sendBuffer=[],this.serializer=new py,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>Zs(async()=>{const{default:l}=await Promise.resolve().then(()=>Vn);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${wl.websocket}`,this.httpEndpoint=Ff(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ly.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dy}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ss.connecting:return qr.Connecting;case Ss.open:return qr.Open;case Ss.closing:return qr.Closing;default:return qr.Closed}}isConnected(){return this.connectionState()===qr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Sc(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,i=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(hy,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},_o.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ot.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([by],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:uy};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ot.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new zf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_o.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,i,l,c,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:vl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:_o.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:pa,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:h=>ky[h-1]||_y,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class jc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class jy extends jc{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kl extends jc{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Cy=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Bf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Zs(async()=>{const{default:n}=await Promise.resolve().then(()=>Vn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Ny=()=>Cy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zs(()=>Promise.resolve().then(()=>Vn),void 0)).Response:Response}),_l=t=>{if(Array.isArray(t))return t.map(r=>_l(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=_l(n)}),e},Ey=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var nn=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const ma=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Oy=(t,e,r)=>nn(void 0,void 0,void 0,function*(){const n=yield Ny();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const o=t.status||500,i=(s==null?void 0:s.statusCode)||o+"";e(new jy(ma(s),o,i))}).catch(s=>{e(new kl(ma(s),s))}):e(new kl(ma(t),t))}),Py=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Ey(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function to(t,e,r,n,s,o){return nn(this,void 0,void 0,function*(){return new Promise((i,l)=>{t(r,Py(e,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>Oy(c,l,n))})})}function di(t,e,r,n){return nn(this,void 0,void 0,function*(){return to(t,"GET",e,r,n)})}function Ut(t,e,r,n,s){return nn(this,void 0,void 0,function*(){return to(t,"POST",e,n,s,r)})}function bl(t,e,r,n,s){return nn(this,void 0,void 0,function*(){return to(t,"PUT",e,n,s,r)})}function Ty(t,e,r,n){return nn(this,void 0,void 0,function*(){return to(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Wf(t,e,r,n,s){return nn(this,void 0,void 0,function*(){return to(t,"DELETE",e,n,s,r)})}var Ye=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Dy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ay{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Bf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return Ye(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},qu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?bl:Ut)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ae(o))return{data:null,error:o};throw o}})}upload(e,r,n){return Ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Ye(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:qu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield bl(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ae(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Ye(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Ut(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new jc("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Ye(this,void 0,void 0,function*(){try{return{data:{path:(yield Ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Ye(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield Ut(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Ye(this,void 0,void 0,function*(){try{const s=yield Ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}download(e,r){return Ye(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield di(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ae(l))return{data:null,error:l};throw l}})}info(e){return Ye(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield di(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:_l(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}exists(e){return Ye(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Ty(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n)&&n instanceof kl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return Ye(this,void 0,void 0,function*(){try{return{data:yield Wf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ye(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Dy),r),{prefix:e||""});return{data:yield Ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}listV2(e,r){return Ye(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ut(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ry="2.12.1",Ly={"X-Client-Info":`storage-js/${Ry}`};var cn=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Iy{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},Ly),r),this.fetch=Bf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return cn(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ae(e))return{data:null,error:e};throw e}})}getBucket(e){return cn(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return cn(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return cn(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}emptyBucket(e){return cn(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}deleteBucket(e){return cn(this,void 0,void 0,function*(){try{return{data:yield Wf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}}class My extends Iy{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Ay(this.url,this.headers,e,this.fetch)}}const $y="2.57.4";let fs="";typeof Deno<"u"?fs="deno":typeof document<"u"?fs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fs="react-native":fs="node";const zy={"X-Client-Info":`supabase-js-${fs}/${$y}`},Uy={headers:zy},Fy={schema:"public"},By={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wy={};var qy=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Hy=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ef:e=fetch,(...r)=>e(...r)},Vy=()=>typeof Headers>"u"?Of:Headers,Gy=(t,e,r)=>{const n=Hy(r),s=Vy();return(o,i)=>qy(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var Ky=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function Qy(t){return t.endsWith("/")?t:t+"/"}function Yy(t,e){var r,n;const{db:s,auth:o,realtime:i,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Ky(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Jy(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qy(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const qf="2.71.1",mn=30*1e3,Sl=3,ga=Sl*mn,Xy="http://localhost:9999",Zy="supabase.auth.token",e0={"X-Client-Info":`gotrue-js/${qf}`},jl="X-Supabase-Api-Version",Hf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},t0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,r0=10*60*1e3;class Cc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ee(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class n0 extends Cc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function s0(t){return ee(t)&&t.name==="AuthApiError"}class Vf extends Cc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Tr extends Cc{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class cr extends Tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function o0(t){return ee(t)&&t.name==="AuthSessionMissingError"}class bo extends Tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class So extends Tr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class jo extends Tr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function i0(t){return ee(t)&&t.name==="AuthImplicitGrantRedirectError"}class Hu extends Tr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cl extends Tr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ya(t){return ee(t)&&t.name==="AuthRetryableFetchError"}class Vu extends Tr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Nl extends Tr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gu=` 	
\r=`.split(""),a0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Gu.length;e+=1)t[Gu[e].charCodeAt(0)]=-2;for(let e=0;e<hi.length;e+=1)t[hi[e].charCodeAt(0)]=e;return t})();function Ku(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(hi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(hi[n]),e.queuedBits-=6}}function Gf(t,e,r){const n=a0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Qu(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{u0(i,n,r)};for(let i=0;i<t.length;i+=1)Gf(t.charCodeAt(i),s,o);return e.join("")}function l0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function c0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}l0(n,e)}}function u0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function d0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Gf(t.charCodeAt(s),r,n);return new Uint8Array(e)}function h0(t){const e=[];return c0(t,r=>e.push(r)),new Uint8Array(e)}function f0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Ku(s,r,n)),Ku(null,r,n),e.join("")}function p0(t){return Math.round(Date.now()/1e3)+t}function m0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ct=()=>typeof window<"u"&&typeof document<"u",$r={tested:!1,writable:!1},Kf=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($r.tested)return $r.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$r.tested=!0,$r.writable=!0}catch{$r.tested=!0,$r.writable=!1}return $r.writable};function g0(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Qf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Zs(async()=>{const{default:n}=await Promise.resolve().then(()=>Vn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},y0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",gn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},zr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ar=async(t,e)=>{await t.removeItem(e)};class $i{constructor(){this.promise=new $i.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}$i.promiseConstructor=Promise;function va(t){const e=t.split(".");if(e.length!==3)throw new Nl("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!t0.test(e[n]))throw new Nl("JWT not in base64url format");return{header:JSON.parse(Qu(e[0])),payload:JSON.parse(Qu(e[1])),signature:d0(e[2]),raw:{header:e[0],payload:e[1]}}}async function v0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function w0(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function x0(t){return("0"+t.toString(16)).substr(-2)}function k0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,x0).join("")}async function _0(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function b0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await _0(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function un(t,e,r=!1){const n=k0();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await gn(t,`${e}-code-verifier`,s);const o=await b0(n);return[o,n===o?"plain":"s256"]}const S0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function j0(t){const e=t.headers.get(jl);if(!e||!e.match(S0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function C0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function N0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const E0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dn(t){if(!E0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wa(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Yu(t){return JSON.parse(JSON.stringify(t))}var O0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Br=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),P0=[502,503,504];async function Ju(t){var e;if(!y0(t))throw new Cl(Br(t),0);if(P0.includes(t.status))throw new Cl(Br(t),t.status);let r;try{r=await t.json()}catch(o){throw new Vf(Br(o),o)}let n;const s=j0(t);if(s&&s.getTime()>=Hf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Vu(Br(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new cr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Vu(Br(r),t.status,r.weak_password.reasons);throw new n0(Br(r),t.status||500,n)}const T0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ne(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[jl]||(o[jl]=Hf["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await D0(t,e,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function D0(t,e,r,n,s,o){const i=T0(e,n,s,o);let l;try{l=await t(r,Object.assign({},i))}catch(c){throw console.error(c),new Cl(Br(c),0)}if(l.ok||await Ju(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Ju(c)}}function Ht(t){var e;let r=null;I0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=p0(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Xu(t){const e=Ht(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function pr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function A0(t){return{data:t,error:null}}function R0(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,i=O0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function L0(t){return t}function I0(t){return t.access_token&&t.refresh_token&&t.expires_in}const xa=["global","local","others"];var M0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class $0{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Qf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=xa[0]){if(xa.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xa.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:pr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=M0(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:R0,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ee(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:pr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:L0});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(w=>{const k=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(w.split(";")[1].split("=")[1]);u[`${T}Page`]=k}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ee(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){dn(e);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:pr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){dn(e);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:pr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){dn(e);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:pr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){dn(e.userId);try{const{data:r,error:n}=await ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _deleteFactor(e){dn(e.userId),dn(e.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}}function Zu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function z0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hn={debug:!!(globalThis&&Kf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class U0 extends Yf{}async function F0(t,e,r){hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),hn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new U0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(hn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}z0();const B0={url:Xy,storageKey:Zy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:e0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ed(t,e,r){return await r()}const fn={};class Vs{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vs.nextInstanceID,Vs.nextInstanceID+=1,this.instanceID>0&&Ct()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},B0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Qf(s.fetch),this.lock=s.lock||ed,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ct()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=F0:this.lock=ed,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Kf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Zu(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=fn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){fn[this.storageKey]=Object.assign(Object.assign({},fn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=fn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){fn[this.storageKey]=Object.assign(Object.assign({},fn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=g0(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ct()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),i0(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ee(r)?{error:r}:{error:new Vf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ht}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ee(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:d,password:h,options:f}=e;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await un(this.storage,this.storageKey)),o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:w},xform:Ht})}else if("phone"in e){const{phone:d,password:h,options:f}=e;o=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ht})}else throw new So("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ee(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:l}=e;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xu})}else if("phone"in e){const{phone:o,password:i,options:l}=e;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xu})}else throw new So("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new bo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ee(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,o,i,l,c,u,d,h,f,y;let w,k;if("message"in e)w=e.message,k=e.signature;else{const{chain:T,wallet:g,statement:p,options:m}=e;let x;if(Ct())if(typeof g=="object")x=g;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))x=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const S=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const b=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let E;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")E=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)E=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)w=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),k=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${S.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const b=await x.signMessage(new TextEncoder().encode(w),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=b}}try{const{data:T,error:g}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:f0(k)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ht});if(g)throw g;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new bo}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:g})}catch(T){if(ee(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(e){const r=await zr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ht});if(await ar(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new bo}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(ee(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=e,l=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ht}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new bo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ee(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,o,i;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await un(this.storage,this.storageKey));const{error:h}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new So("You must provide either an email or phone number.")}catch(l){if(ee(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ht});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await un(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:A0})}catch(o){if(ee(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new cr;const{error:s}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ee(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:i}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:i,error:l}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new So("You must provide either an email or phone number and a type")}catch(r){if(ee(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await zr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ga:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await zr(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=wa()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:pr}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cr}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:pr})})}catch(r){if(ee(r))return o0(r)&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new cr;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await un(this.storage,this.storageKey));const{data:u,error:d}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:pr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new cr;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=va(e.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(ee(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:l}=r;if(l)throw l;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new cr;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ee(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ct())throw new jo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new jo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Hu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Hu("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=e;if(!o||!l||!i||!u)throw new jo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const y=f-d;y*1e3<=mn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:k,error:T}=await this._getUser(o);if(T)throw T;const g={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:f,refresh_token:i,token_type:u,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(ee(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await zr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,e);if(l&&!(s0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=m0(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await un(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(ee(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:h,error:f}=o;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ct()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ee(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await w0(async s=>(s>0&&await v0(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ht})),(s,o)=>{const i=200*Math.pow(2,s);return o&&ya(o)&&Date.now()+i-n<mn})}catch(n){if(this._debug(r,"error",n),ee(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ct()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await zr(this.storage,this.storageKey);if(s&&this.userStorage){let i=await zr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await gn(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:wa()}else if(s&&!s.user&&!s.user){const i=await zr(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await ar(this.storage,this.storageKey+"-user"),await gn(this.storage,this.storageKey,s)):s.user=wa()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ga;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${ga}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),ya(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new $i;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new cr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),ee(o)){const i={session:null,error:o};return ya(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await gn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Yu(s);await gn(this.storage,this.storageKey,o)}else{const s=Yu(r);await gn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ar(this.storage,this.storageKey),await ar(this.storage,this.storageKey+"-code-verifier"),await ar(this.storage,this.storageKey+"-user"),this.userStorage&&await ar(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/mn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${mn}ms, refresh threshold is ${Sl} ticks`),s<=Sl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Yf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await un(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(ee(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ee(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=va(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+r0>s)return n;const{data:o,error:i}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};n=y.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=va(n);r!=null&&r.allowExpired||C0(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:o,header:s,signature:i},error:null}}const d=N0(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,i,h0(`${l}.${c}`)))throw new Nl("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}}Vs.nextInstanceID=0;const W0=Vs;class q0 extends W0{constructor(e){super(e)}}var H0=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class V0{constructor(e,r,n){var s,o,i;this.supabaseUrl=e,this.supabaseKey=r;const l=Jy(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Fy,realtime:Wy,auth:Object.assign(Object.assign({},By),{storageKey:c}),global:Uy},d=Yy(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=Gy(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new ay(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new My(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new zg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return H0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:i,flowType:l,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new q0({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Sy(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const G0=(t,e,r)=>new V0(t,e,r);function K0(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}K0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Q0="https://sebjqfbteohfixnxotvw.supabase.co",Y0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNlYmpxZmJ0ZW9oZml4bnhvdHZ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwMzc2MzQsImV4cCI6MjA4NTYxMzYzNH0.dJD7r1uZKkXENsf8XnH7VqN2WQgQRpcE_5H_xe1PI9I",G=G0(Q0,Y0),Jf=j.createContext(void 0),td="card-sorting-theme",J0=({children:t})=>{const[e,r]=j.useState([]),[n,s]=j.useState({}),[o,i]=j.useState("light"),l=async()=>{try{const{data:{user:C}}=await G.auth.getUser();if(C){const v=await G.from("user_profiles").select("role").eq("id",C.id).maybeSingle();let N=v.data;const D=v.error;if(D&&console.error("Error fetching user profile:",D),!N&&!D){console.log(`Profile missing for user ${C.email}, creating one...`);const{data:Se,error:Mt}=await G.from("user_profiles").insert({id:C.id,role:"user"}).select("role").single();Mt?console.error("Error creating user profile:",Mt):(N=Se,console.log("Profile created successfully."))}const M=(N==null?void 0:N.role)==="admin";console.log(`[DEBUG] User ${C.email} (ID: ${C.id}) loading projects. Role: ${(N==null?void 0:N.role)||"unknown"}, isAdmin: ${M}`);let J=G.from("projects").select("*");M?console.log("[DEBUG] Admin detected, fetching all projects."):(console.log(`[DEBUG] Restricting query to user_id: ${C.id}`),J=J.eq("user_id",C.id));const{data:Q,error:ue}=await J.order("created_at",{ascending:!1});ue?(console.error("Error loading projects from database:",ue),r([])):Q&&(console.log(`[DEBUG] Successfully fetched ${Q.length} projects.`),r(Q.map(Se=>({id:Se.id,name:Se.name,description:Se.description,type:Se.type,cards:Se.cards,categories:Se.categories,createdAt:Se.created_at,updatedAt:Se.updated_at,deletedAt:Se.deleted_at}))))}else console.log("[DEBUG] No authenticated user found."),r([])}catch(C){console.error("Unexpected error in loadProjects:",C),r([])}};j.useEffect(()=>{l();const{data:C}=G.auth.onAuthStateChange(N=>{N==="SIGNED_IN"||N==="TOKEN_REFRESHED"?l():N==="SIGNED_OUT"&&r([])}),v=localStorage.getItem(td);return v?(i(v),document.documentElement.setAttribute("data-theme",v)):document.documentElement.setAttribute("data-theme","light"),()=>{C.subscription.unsubscribe()}},[]);const c=()=>{const C=o==="light"?"dark":"light";i(C),document.documentElement.setAttribute("data-theme",C),localStorage.setItem(td,C)},u=async(C,v,N)=>{const D=[{content:"Network Status",description:"See if your network is online and running normally."},{content:"Network Speed",description:"Check how fast your internet connection is."},{content:"Network Map",description:"View how your devices are connected to your network."},{content:"Wi-Fi Networks",description:"See the Wi-Fi networks your router is broadcasting."},{content:"Wi-Fi Settings",description:"Change your Wi-Fi name, password, and security options."},{content:"Connected Devices",description:"View all devices currently connected to your network."},{content:"Down Time",description:"See when your network was unavailable."},{content:"Usage and Insights",description:"Understand how your network is being used."},{content:"Advanced Setting",description:"Access advanced network configuration options."},{content:"Alerts/Notifications",description:"Get notified about network activity and issues."},{content:"Add/Setup Gateway or Extender",description:"Add a new gateway or extender to your network."},{content:"MAC Filtering",description:"Choose which devices are allowed to connect, based on their unique MAC addresses."},{content:"Port Forwarding",description:"Allow specific apps or devices to be accessed from the internet."},{content:"Port Filtering",description:"Control internet traffic by allowing or blocking specific ports."},{content:"Port Triggering",description:"Automatically open ports when a device needs them."},{content:"Firewall",description:"Protect your network from unwanted or suspicious traffic."},{content:"Device Groups",description:"Organize devices into groups for easier management."},{content:"DNS Setting",description:"Chooses how your network converts the human-friendly URL (e.g., wikipedia.org) into the numerical IP address necessary for your computer to find the website."},{content:"Internet Configuration",description:"Set up how your gateway connects to the internet."},{content:"DHCP Reservations",description:"Assign the same IP address to specific devices."},{content:"DOCSIS Summary",description:"View cable connection and signal details."},{content:"Local Network",description:"Manage settings for devices within your home network."},{content:"Ethernet Configuration",description:"Configure wired network connection settings."},{content:"NTP Servers",description:"Set time servers to keep your network time accurate."},{content:"Static IP Automatic Assignment",description:"Automatically assign fixed IP addresses to devices."},{content:"Wi-Fi Configuration",description:"Configure advanced Wi-Fi network options."},{content:"Mesh",description:"Manage and monitor your mesh Wi-Fi network."},{content:"Local web UI Password",description:"Change the password for accessing the local gateway interface."},{content:"Backup and Restore",description:"Save your settings or restore them from a backup."},{content:"Speed test",description:"Test your internet connection speed."},{content:"SSID Scanner",description:"Scan nearby Wi-Fi networks to check congestion and channels."},{content:"Gateway Login",description:"Access your gateway's management interface."},{content:"Network Tool-box",description:"Use network tools to diagnose connection issues."},{content:"Factory Reset",description:"Reset the gateway to its original settings."},{content:"Content Filtering",description:"Block or allow access to specific websites or content."},{content:"Reboot",description:"Restart the gateway to refresh the connection."},{content:"Test Connection",description:"Check if your gateway is properly connected to the internet."},{content:"DMZ",description:"Expose one device directly to the internet."},{content:"Device Alias",description:"Rename devices to make them easier to identify."},{content:"Manage Users",description:"Add, remove, or manage access for users."},{content:"Support",description:"Get help, guides, or contact customer support."},{content:"Multi-Language",description:"Change the language used in the app."},{content:"Theme Light/Dark",description:"Switch between light and dark display themes."},{content:"Switch Account",description:"Change to a different user account."},{content:"Switch Gateway",description:"View or manage a different gateway."}],M=["Network","Security","Diagnostics","Troubleshooting","Settings","Voice"],J={id:Date.now().toString(),name:C,description:N,type:v,cards:D.map((Q,ue)=>({id:(ue+1).toString(),content:Q.content,description:Q.description,sortOrder:ue})),categories:v==="closed"||v==="hybrid"?M.map((Q,ue)=>({id:`cat-${ue+1}`,name:Q,sortOrder:ue})):[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{const{data:{user:Q}}=await G.auth.getUser();if(Q){const{error:ue}=await G.from("projects").insert({id:J.id,name:J.name,description:J.description,type:J.type,cards:J.cards,categories:J.categories,user_id:Q.id,created_at:J.createdAt,updated_at:J.updatedAt});ue?console.error("Error creating project:",ue):r([J,...e])}}catch(Q){console.error("Error creating project:",Q)}return J},d=async C=>{const v=e.find(D=>D.id===C);if(!v)return console.error("Project not found"),{error:"Project not found"};const N={...v,id:crypto.randomUUID(),name:`Copy of ${v.name}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),deletedAt:null};try{const{data:{user:D}}=await G.auth.getUser();if(D){const{error:M}=await G.from("projects").insert({id:N.id,name:N.name,description:N.description,type:N.type,cards:N.cards,categories:N.categories,user_id:D.id,created_at:N.createdAt,updated_at:N.updatedAt});if(M)return console.error("Error duplicating project:",M),{error:M};r([N,...e])}}catch(D){return console.error("Error duplicating project:",D),{error:D}}},h=async C=>{try{const{error:v}=await G.from("projects").update({deleted_at:new Date().toISOString()}).eq("id",C);if(v)return console.error("Error deleting project:",v),{error:v};r(e.map(N=>N.id===C?{...N,deletedAt:new Date().toISOString()}:N))}catch(v){return console.error("Error deleting project:",v),{error:v}}},f=async C=>{try{const{error:v}=await G.from("projects").update({deleted_at:null}).eq("id",C);if(v)return console.error("Error restoring project:",v),{error:v};r(e.map(N=>N.id===C?{...N,deletedAt:null}:N))}catch(v){return console.error("Error restoring project:",v),{error:v}}},y=async C=>{try{const{error:v}=await G.from("projects").delete().eq("id",C);if(v)return console.error("Error permanently deleting project:",v),{error:v};{r(e.filter(D=>D.id!==C));const N={...n};delete N[C],s(N)}}catch(v){return console.error("Error permanently deleting project:",v),{error:v}}},w=async(C,v)=>{const N=new Date().toISOString(),D={...v,updatedAt:N};try{const M={updated_at:N};v.name!==void 0&&(M.name=v.name),v.description!==void 0&&(M.description=v.description),v.type!==void 0&&(M.type=v.type),v.cards!==void 0&&(M.cards=v.cards),v.categories!==void 0&&(M.categories=v.categories);const{error:J}=await G.from("projects").update(M).eq("id",C);J?console.error("Error updating project:",J):r(e.map(Q=>Q.id===C?{...Q,...D}:Q))}catch(M){console.error("Error updating project:",M)}},k=C=>e.find(v=>v.id===C),T=async C=>{try{const{data:v,error:N}=await G.from("projects").select("*").eq("id",C).maybeSingle();return N?(console.error("Error fetching project:",N),null):v?{id:v.id,name:v.name,description:v.description,type:v.type,cards:v.cards,categories:v.categories,createdAt:v.created_at,updatedAt:v.updated_at}:null}catch(v){return console.error("Error fetching project by ID:",v),null}},g=async(C,v,N)=>{const D=e.find(Q=>Q.id===C);if(!D)return;const M={id:Date.now().toString(),content:v,description:N,sortOrder:D.cards.length},J=[...D.cards,M];await w(C,{cards:J})},p=async(C,v,N,D)=>{const M=e.find(Q=>Q.id===C);if(!M)return;const J=M.cards.map(Q=>Q.id===v?{...Q,content:N,description:D}:Q);await w(C,{cards:J})},m=async(C,v)=>{const N=e.find(M=>M.id===C);if(!N)return;const D=N.cards.filter(M=>M.id!==v);await w(C,{cards:D})},x=async(C,v)=>{await w(C,{cards:v})},S=async(C,v,N)=>{const D=e.find(Q=>Q.id===C);if(!D)return;const M={id:Date.now().toString(),name:v,description:N,sortOrder:D.categories.length},J=[...D.categories,M];await w(C,{categories:J})},b=async(C,v,N,D)=>{const M=e.find(Q=>Q.id===C);if(!M)return;const J=M.categories.map(Q=>Q.id===v?{...Q,name:N,description:D}:Q);await w(C,{categories:J})},E=async(C,v)=>{const N=e.find(M=>M.id===C);if(!N)return;const D=N.categories.filter(M=>M.id!==v);await w(C,{categories:D})},A=async(C,v)=>{await w(C,{categories:v})},B=async(C,v)=>{try{const{data:N}=await G.from("sorting_results").select("id").eq("project_id",C).eq("participant_email",v.email).eq("status","draft").maybeSingle();if(N){const{error:D}=await G.from("sorting_results").update({result_data:v,updated_at:new Date().toISOString()}).eq("id",N.id);if(D)throw D}else{const{error:D}=await G.from("sorting_results").insert({project_id:C,participant_email:v.email,result_data:v,status:"draft"});if(D)throw D}}catch(N){throw console.error("Error saving draft:",N),N}},F=async(C,v)=>{try{const{data:N,error:D}=await G.from("sorting_results").select("*").eq("project_id",C).ilike("participant_email",v.toLowerCase().trim()).eq("status","draft").maybeSingle();if(D)throw D;return N?N.result_data:null}catch(N){return console.error("Error checking draft:",N),null}},le=async(C,v)=>{try{const N=v.toLowerCase().trim(),{data:D,error:M}=await G.from("sorting_results").select("id, result_data, created_at, updated_at").eq("project_id",C).ilike("participant_email",N).eq("status","completed").order("created_at",{ascending:!1}).limit(1).maybeSingle();return M?(console.error("checkExistingSubmission error:",M),null):D?{id:D.id,data:D.result_data,submittedAt:D.updated_at||D.created_at}:null}catch(N){return console.error("Error checking existing submission:",N),null}},pe=async(C,v,N)=>{try{let D;if(N)D=(await G.from("sorting_results").update({result_data:v,updated_at:new Date().toISOString()}).eq("id",N)).error;else{const{data:M}=await G.from("sorting_results").select("id").eq("project_id",C).eq("participant_email",v.email).eq("status","draft").maybeSingle();M?D=(await G.from("sorting_results").update({result_data:v,updated_at:new Date().toISOString(),status:"completed"}).eq("id",M.id)).error:D=(await G.from("sorting_results").insert({project_id:C,participant_email:v.email.toLowerCase().trim(),result_data:v,status:"completed"})).error}D&&console.error("Error saving result to database:",D),s(M=>({...M,[C]:[...M[C]||[],v]}))}catch(D){console.error("Error submitting result:",D),s(M=>({...M,[C]:[...M[C]||[],v]}))}},Z=async C=>{try{const{data:v,error:N}=await G.from("sorting_results").select("*").eq("project_id",C).eq("status","completed").is("deleted_at",null).order("created_at",{ascending:!1});return N?(console.error("Error fetching results:",N),[]):(v==null?void 0:v.map(D=>({...D.result_data,id:D.id,deletedAt:D.deleted_at,createdAt:D.created_at})))||[]}catch(v){return console.error("Error getting results:",v),[]}},Y=async C=>{try{const{data:v,error:N}=await G.from("sorting_results").select("*").eq("project_id",C).not("deleted_at","is",null).order("deleted_at",{ascending:!1});return N?(console.error("Error fetching deleted results:",N),[]):(v==null?void 0:v.map(D=>({...D.result_data,id:D.id,deletedAt:D.deleted_at,createdAt:D.created_at})))||[]}catch(v){return console.error("Error getting deleted results:",v),[]}},oe=async C=>{try{const{data:{user:v}}=await G.auth.getUser(),{error:N}=await G.from("sorting_results").update({deleted_at:new Date().toISOString(),deleted_by:(v==null?void 0:v.id)||null}).eq("id",C);if(N)throw console.error("Error deleting result:",N),N}catch(v){throw console.error("Error deleting result:",v),v}},q=async C=>{try{const{error:v}=await G.from("sorting_results").update({deleted_at:null,deleted_by:null}).eq("id",C);if(v)throw console.error("Error restoring result:",v),v}catch(v){throw console.error("Error restoring result:",v),v}},Ne=async C=>{try{const{error:v}=await G.from("sorting_results").delete().eq("id",C);if(v)throw console.error("Error permanently deleting result:",v),v}catch(v){throw console.error("Error permanently deleting result:",v),v}},L=async()=>{await l()},H=async()=>{try{const{data:C,error:v}=await G.from("user_profiles").select("*").order("created_at",{ascending:!1});return v?(console.error("Error fetching users:",v),[]):C}catch(C){return console.error("Error fetching users:",C),[]}},K=async(C,v)=>{try{const{error:N}=await G.from("user_profiles").update({role:v,updated_at:new Date().toISOString()}).eq("id",C);if(N)throw N}catch(N){throw console.error("Error updating user role:",N),N}},V=async C=>{try{const{error:v}=await G.from("user_profiles").delete().eq("id",C);if(v)throw v}catch(v){throw console.error("Error deleting user:",v),v}};return a.jsx(Jf.Provider,{value:{projects:e,theme:o,toggleTheme:c,createProject:u,deleteProject:h,updateProject:w,getProject:k,fetchProjectById:T,addCard:g,updateCard:p,deleteCard:m,reorderCards:x,addCategory:S,updateCategory:b,deleteCategory:E,reorderCategories:A,submitResult:pe,saveDraft:B,checkDraft:F,checkExistingSubmission:le,getResults:Z,getDeletedResults:Y,deleteResult:oe,restoreResult:q,permanentlyDeleteResult:Ne,duplicateProject:d,restoreProject:f,permanentlyDeleteProject:y,refreshProjects:L,fetchUsers:H,updateUserRole:K,deleteUser:V},children:t})},Kn=()=>{const t=j.useContext(Jf);if(!t)throw new Error("useApp must be used within AppProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var X0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(t,e)=>{const r=j.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:l="",children:c,...u},d)=>j.createElement("svg",{ref:d,...X0,width:s,height:s,stroke:n,strokeWidth:i?Number(o)*24/Number(s):o,className:["lucide",`lucide-${Z0(t)}`,l].join(" "),...u},[...e.map(([h,f])=>j.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=te("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=te("DatabaseBackup",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 12a9 3 0 0 0 5 2.69",key:"1ui2ym"}],["path",{d:"M21 9.3V5",key:"6k6cib"}],["path",{d:"M3 5v14a9 3 0 0 0 6.47 2.88",key:"i62tjy"}],["path",{d:"M12 12v4h4",key:"1bxaet"}],["path",{d:"M13 20a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L12 16",key:"1f4ei9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=te("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=te("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=te("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=te("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=te("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=te("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vv=()=>{const{theme:t,toggleTheme:e}=Kn();return a.jsx("button",{onClick:e,className:"p-2 rounded-lg transition-colors hover:bg-[var(--color-bg-secondary)]","aria-label":"Toggle theme",title:`Switch to ${t==="light"?"dark":"light"} mode`,children:t==="light"?a.jsx(cv,{size:20,style:{color:"var(--color-text-secondary)"}}):a.jsx(mv,{size:20,style:{color:"var(--color-text-secondary)"}})})},U=({variant:t="primary",size:e="md",className:r="",children:n,disabled:s,...o})=>{const i="inline-flex items-center justify-center font-medium transition-all duration-200 rounded-lg border focus:outline-none focus:ring-2 focus:ring-offset-2",l={primary:"bg-[var(--color-bg-brand)] text-[var(--color-text-on-brand)] border-transparent hover:bg-[var(--color-bg-brand-hover)] active:bg-[var(--color-bg-brand-active)] focus:ring-[var(--color-border-focus)] disabled:bg-[var(--color-interactive-disabled)] disabled:cursor-not-allowed",secondary:"bg-[var(--color-bg-secondary)] text-[var(--color-text-primary)] border-[var(--color-border-primary)] hover:bg-[var(--color-bg-tertiary)] active:bg-[var(--color-neutral-200)] focus:ring-[var(--color-border-focus)] disabled:opacity-50 disabled:cursor-not-allowed",danger:"bg-[var(--color-error-500)] text-white border-transparent hover:bg-[var(--color-error-600)] active:bg-[var(--color-error-700)] focus:ring-[var(--color-error-500)] disabled:opacity-50 disabled:cursor-not-allowed",ghost:"bg-transparent text-[var(--color-text-secondary)] border-transparent hover:bg-[var(--color-bg-secondary)] active:bg-[var(--color-bg-tertiary)] focus:ring-[var(--color-border-focus)] disabled:opacity-50 disabled:cursor-not-allowed"},c={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return a.jsx("button",{className:`${i} ${l[t]} ${c[e]} ${r}`,disabled:s,...o,children:n})},Ve=({children:t,className:e="",onClick:r,style:n})=>a.jsx("div",{className:`rounded-lg border shadow-sm transition-all duration-200 ${r?"cursor-pointer hover:shadow-md":""} ${e}`,style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-primary)",...n},onClick:r,children:t}),Rt=({isOpen:t,onClose:e,title:r,children:n,footer:s})=>(j.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:e,children:a.jsxs("div",{className:"w-full max-w-lg rounded-xl shadow-xl",style:{backgroundColor:"var(--color-bg-primary)"},onClick:o=>o.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--color-border-primary)"},children:[a.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--color-text-primary)"},children:r}),a.jsx("button",{onClick:e,className:"p-1 rounded-lg transition-colors hover:bg-[var(--color-bg-secondary)]",children:a.jsx(tp,{size:20,style:{color:"var(--color-text-secondary)"}})})]}),a.jsx("div",{className:"p-6",children:n}),s&&a.jsx("div",{className:"flex justify-end gap-3 p-6 border-t",style:{borderColor:"var(--color-border-primary)"},children:s})]})}):null),ft=({label:t,error:e,className:r="",id:n,...s})=>{const o=n||`input-${Math.random().toString(36).substr(2,9)}`;return a.jsxs("div",{className:"w-full",children:[t&&a.jsx("label",{htmlFor:o,className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:t}),a.jsx("input",{id:o,className:`w-full px-4 py-2 rounded-lg border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-1 ${e?"border-[var(--color-border-error)] focus:ring-[var(--color-error-500)]":"border-[var(--color-border-primary)] focus:ring-[var(--color-border-focus)]"} ${r}`,style:{backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-primary)"},...s}),e&&a.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--color-text-error)"},children:e})]})},wv=({isOpen:t,onClose:e,onSuccess:r,initialMode:n="login",enableSignup:s=!0})=>{const[o,i]=j.useState(n==="signup"),[l,c]=j.useState(""),[u,d]=j.useState(""),[h,f]=j.useState(!1),[y,w]=j.useState(""),[k,T]=j.useState(!1),[g,p]=j.useState(""),[m,x]=j.useState(!1),[S,b]=j.useState(!1),[E,A]=j.useState(!1);j.useEffect(()=>{i(n==="signup")},[n]);const B=async Z=>{Z.preventDefault(),w(""),f(!0);try{if(o){const{data:Y,error:oe}=await G.auth.signUp({email:l,password:u});if(oe)throw oe;if(Y.user){const{data:q}=await G.from("user_profiles").select("id").eq("id",Y.user.id).maybeSingle();q||await G.from("user_profiles").insert({id:Y.user.id,role:"user"}),r(Y.user.id,l)}}else{const{data:Y,error:oe}=await G.auth.signInWithPassword({email:l,password:u});if(oe)throw oe;if(Y.user){const{data:q}=await G.from("user_profiles").select("id").eq("id",Y.user.id).maybeSingle();q||await G.from("user_profiles").insert({id:Y.user.id,role:"user"}),r(Y.user.id,l)}}}catch(Y){const oe=Y instanceof Error?Y.message:"An error occurred";w(oe)}finally{f(!1)}},F=()=>{c(""),d(""),i(n==="signup"),w(""),T(!1),p(""),x(!1),A(!1),b(!1),e()},le=async()=>{w(""),b(!0),A(!1);try{const{error:Z}=await G.auth.resend({type:"signup",email:l});if(Z)throw Z;A(!0)}catch(Z){const Y=Z instanceof Error?Z.message:"Failed to resend confirmation email";w(Y)}finally{b(!1)}},pe=async Z=>{Z.preventDefault(),w(""),f(!0);try{const{error:Y}=await G.auth.resetPasswordForEmail(g);if(Y)throw Y;x(!0)}catch(Y){const oe=Y instanceof Error?Y.message:"Failed to send reset email";w(oe)}finally{f(!1)}};return a.jsx(Rt,{isOpen:t,onClose:F,title:k?"Reset Password":o?"Create Account":"Sign In",children:k?a.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[m?a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-success-50)",color:"var(--color-success-600)"},children:[a.jsx("p",{className:"font-medium mb-2",children:"Check your email!"}),a.jsxs("p",{className:"text-sm",children:["We've sent a password reset link to ",g,". Click the link in the email to set a new password."]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Enter your email address and we'll send you a link to reset your password."}),a.jsx(ft,{label:"Email Address",type:"email",value:g,onChange:Z=>p(Z.target.value),placeholder:"your.email@example.com",required:!0}),y&&a.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-error-50)",color:"var(--color-error-600)"},children:y}),a.jsx(U,{type:"submit",className:"w-full",disabled:h,children:h?"Sending...":"Send Reset Link"})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>{T(!1),p(""),x(!1),w("")},className:"text-sm transition-colors",style:{color:"var(--color-primary-600)"},children:"Back to Sign In"})})]}):a.jsxs("form",{onSubmit:B,className:"space-y-4",children:[a.jsx(ft,{label:"Email Address",type:"email",value:l,onChange:Z=>c(Z.target.value),placeholder:"your.email@example.com",required:!0}),a.jsx(ft,{label:"Password",type:"password",value:u,onChange:Z=>d(Z.target.value),placeholder:"Enter your password",required:!0}),y&&a.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-error-50)",color:"var(--color-error-600)"},children:a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("p",{children:y}),y.toLowerCase().includes("email not confirmed")&&a.jsx("button",{type:"button",onClick:le,disabled:S,className:"text-xs font-semibold underline text-left hover:text-error-700 disabled:opacity-50",children:S?"Sending...":"Resend confirmation email?"})]})}),E&&a.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-success-50)",color:"var(--color-success-600)",fontSize:"0.875rem"},children:"Confirmation email resent! Please check your inbox."}),a.jsx(U,{type:"submit",className:"w-full",disabled:h,children:h?"Please wait...":o?"Create Account":"Sign In"}),!o&&a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-sm transition-colors",style:{color:"var(--color-primary-600)"},children:"Forgot your password?"})}),s&&a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>i(!o),className:"text-sm transition-colors",style:{color:"var(--color-primary-600)"},children:o?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})},Uo="/subscriber-portal/assets/login-bg-OJ6uHR9C.jpg",xv=({onNavigate:t,justLoggedOut:e=!1})=>{const[r,n]=j.useState(!1),[s,o]=j.useState("login"),[i,l]=j.useState(!0),[c,u]=j.useState(!1),[d,h]=j.useState(!1),f=()=>{o("login"),n(!0)},y=()=>{o("signup"),n(!0)},w=(k,T)=>{n(!1),t("admin")};return j.useEffect(()=>{const k=async()=>{const m=new URLSearchParams(window.location.search).get("project"),{data:{user:x}}=await G.auth.getUser();h(!!x),m&&t("participant",m)},T=async()=>{try{const{data:p,error:m}=await G.from("app_settings").select("setting_value").eq("setting_key","enable_signup").maybeSingle();if(m){console.error("Error fetching signup setting:",m),u(!0);return}p&&l(p.setting_value===!0),u(!0)}catch(p){console.error("Error fetching signup setting:",p),u(!0)}};k(),T();const{data:g}=G.auth.onAuthStateChange((p,m)=>{const x=!!m;h(x);const S=new URLSearchParams(window.location.search),b=S.get("project"),E=S.get("skip_redirect")==="true";p==="SIGNED_IN"&&x&&!b&&!E&&t("admin")});return()=>{g.subscription.unsubscribe()}},[t]),a.jsxs("div",{className:"min-h-screen bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${Uo})`,backgroundColor:"var(--color-bg-secondary)"},children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-16",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-5xl font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Card Sorting Studies"}),a.jsx("p",{className:"text-xl",style:{color:"var(--color-text-secondary)"},children:"Organize information architecture through collaborative card sorting"})]}),a.jsx("div",{className:"max-w-md mx-auto",children:a.jsxs(Ve,{className:"p-8",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-full mb-6 mx-auto",style:{backgroundColor:"var(--color-primary-50)"},children:a.jsx(Ns,{size:32,style:{color:"var(--color-primary-600)"}})}),a.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",style:{color:"var(--color-text-primary)"},children:"Administrator Access"}),a.jsx("p",{className:"mb-6 text-center",style:{color:"var(--color-text-secondary)"},children:"Create and manage card sorting projects"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(U,{onClick:d?()=>t("admin"):f,className:"w-full",children:d?"Go to Dashboard":"Admin Login"}),c&&i&&!d&&a.jsx(U,{onClick:y,variant:"secondary",className:"w-full",children:"Sign Up"})]})]})})]}),a.jsx(wv,{isOpen:r,onClose:()=>n(!1),onSuccess:w,initialMode:s,enableSignup:i})]})},kv=({id:t,type:e,message:r,onClose:n,duration:s=3e3})=>{j.useEffect(()=>{const c=setTimeout(()=>{n(t)},s);return()=>clearTimeout(c)},[s,t,n]);const o={success:a.jsx(nv,{size:20,className:"text-green-500"}),error:a.jsx(ev,{size:20,className:"text-red-500"}),info:a.jsx(pi,{size:20,className:"text-blue-500"})},i={success:"border-green-200",error:"border-red-200",info:"border-blue-200"},l={success:"bg-green-50",error:"bg-red-50",info:"bg-blue-50"};return a.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border shadow-lg transition-all animate-in slide-in-from-bottom-5 ${l[e]} ${i[e]}`,role:"alert",children:[o[e],a.jsx("p",{className:"text-sm font-medium text-gray-800",children:r}),a.jsx("button",{onClick:()=>n(t),className:"ml-auto text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(tp,{size:16})})]})},_v=({children:t})=>a.jsx("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-2",children:t}),Es=({isOpen:t,onClose:e,onConfirm:r,title:n,message:s,confirmText:o="OK",cancelText:i="Cancel",variant:l="warning"})=>{const c=()=>{r(),e()};return a.jsx(Rt,{isOpen:t,onClose:e,title:"",children:a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:l==="danger"?"var(--color-error-100)":"var(--color-warning-100)"},children:a.jsx(Xf,{size:32,style:{color:l==="danger"?"var(--color-error-600)":"var(--color-warning-600)"}})})}),a.jsx("h2",{className:"text-xl font-semibold mb-3",style:{color:"var(--color-text-primary)"},children:n}),a.jsx("p",{className:"text-base mb-6",style:{color:"var(--color-text-secondary)"},children:s}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx(U,{variant:"secondary",onClick:e,className:"min-w-[100px]",children:i}),a.jsx(U,{onClick:c,className:"min-w-[100px]",style:{backgroundColor:l==="danger"?"var(--color-error-600)":"var(--color-primary-600)"},children:o})]})]})})},rp=6048e5,bv=864e5,od=Symbol.for("constructDateFrom");function Nr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&od in t?t[od](e):t instanceof Date?new t.constructor(e):new Date(e)}function It(t,e){return Nr(e||t,t)}let Sv={};function zi(){return Sv}function Gs(t,e){var l,c,u,d;const r=zi(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=It(t,e==null?void 0:e.in),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function yi(t,e){return Gs(t,{...e,weekStartsOn:1})}function np(t,e){const r=It(t,e==null?void 0:e.in),n=r.getFullYear(),s=Nr(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=yi(s),i=Nr(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=yi(i);return r.getTime()>=o.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function id(t){const e=It(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function jv(t,...e){const r=Nr.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function ad(t,e){const r=It(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Cv(t,e,r){const[n,s]=jv(r==null?void 0:r.in,t,e),o=ad(n),i=ad(s),l=+o-id(o),c=+i-id(i);return Math.round((l-c)/bv)}function Nv(t,e){const r=np(t,e),n=Nr(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),yi(n)}function Ev(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ov(t){return!(!Ev(t)&&typeof t!="number"||isNaN(+It(t)))}function Pv(t,e){const r=It(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Tv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Dv=(t,e,r)=>{let n;const s=Tv[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Sa(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Av={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Rv={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lv={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Iv={date:Sa({formats:Av,defaultWidth:"full"}),time:Sa({formats:Rv,defaultWidth:"full"}),dateTime:Sa({formats:Lv,defaultWidth:"full"})},Mv={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$v=(t,e,r,n)=>Mv[t];function as(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const zv={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Uv={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fv={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Bv={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Wv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hv=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Vv={ordinalNumber:Hv,era:as({values:zv,defaultWidth:"wide"}),quarter:as({values:Uv,defaultWidth:"wide",argumentCallback:t=>t-1}),month:as({values:Fv,defaultWidth:"wide"}),day:as({values:Bv,defaultWidth:"wide"}),dayPeriod:as({values:Wv,defaultWidth:"wide",formattingValues:qv,defaultFormattingWidth:"wide"})};function ls(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const i=o[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Kv(l,h=>h.test(i)):Gv(l,h=>h.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}function Gv(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Kv(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Qv(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],o=e.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=e.slice(s.length);return{value:i,rest:l}}}const Yv=/^(\d+)(th|st|nd|rd)?/i,Jv=/\d+/i,Xv={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Zv={any:[/^b/i,/^(a|c)/i]},ew={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tw={any:[/1/i,/2/i,/3/i,/4/i]},rw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nw={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ow={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},aw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lw={ordinalNumber:Qv({matchPattern:Yv,parsePattern:Jv,valueCallback:t=>parseInt(t,10)}),era:ls({matchPatterns:Xv,defaultMatchWidth:"wide",parsePatterns:Zv,defaultParseWidth:"any"}),quarter:ls({matchPatterns:ew,defaultMatchWidth:"wide",parsePatterns:tw,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ls({matchPatterns:rw,defaultMatchWidth:"wide",parsePatterns:nw,defaultParseWidth:"any"}),day:ls({matchPatterns:sw,defaultMatchWidth:"wide",parsePatterns:ow,defaultParseWidth:"any"}),dayPeriod:ls({matchPatterns:iw,defaultMatchWidth:"any",parsePatterns:aw,defaultParseWidth:"any"})},cw={code:"en-US",formatDistance:Dv,formatLong:Iv,formatRelative:$v,localize:Vv,match:lw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uw(t,e){const r=It(t,e==null?void 0:e.in);return Cv(r,Pv(r))+1}function dw(t,e){const r=It(t,e==null?void 0:e.in),n=+yi(r)-+Nv(r);return Math.round(n/rp)+1}function sp(t,e){var d,h,f,y;const r=It(t,e==null?void 0:e.in),n=r.getFullYear(),s=zi(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(f=s.locale)==null?void 0:f.options)==null?void 0:y.firstWeekContainsDate)??1,i=Nr((e==null?void 0:e.in)||t,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const l=Gs(i,e),c=Nr((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=Gs(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function hw(t,e){var l,c,u,d;const r=zi(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=sp(t,e),o=Nr((e==null?void 0:e.in)||t,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Gs(o,e)}function fw(t,e){const r=It(t,e==null?void 0:e.in),n=+Gs(r,e)-+hw(r,e);return Math.round(n/rp)+1}function he(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const lr={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return he(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):he(r+1,2)},d(t,e){return he(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return he(t.getHours()%12||12,e.length)},H(t,e){return he(t.getHours(),e.length)},m(t,e){return he(t.getMinutes(),e.length)},s(t,e){return he(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return he(s,e.length)}},pn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ld={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return lr.y(t,e)},Y:function(t,e,r,n){const s=sp(t,n),o=s>0?s:1-s;if(e==="YY"){const i=o%100;return he(i,2)}return e==="Yo"?r.ordinalNumber(o,{unit:"year"}):he(o,e.length)},R:function(t,e){const r=np(t);return he(r,e.length)},u:function(t,e){const r=t.getFullYear();return he(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return he(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return he(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return lr.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return he(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=fw(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):he(s,e.length)},I:function(t,e,r){const n=dw(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):he(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):lr.d(t,e)},D:function(t,e,r){const n=uw(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):he(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return he(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return he(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return he(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=pn.noon:n===0?s=pn.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=pn.evening:n>=12?s=pn.afternoon:n>=4?s=pn.morning:s=pn.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return lr.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):lr.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):he(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):he(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):lr.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):lr.s(t,e)},S:function(t,e){return lr.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return ud(n);case"XXXX":case"XX":return Wr(n);case"XXXXX":case"XXX":default:return Wr(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return ud(n);case"xxxx":case"xx":return Wr(n);case"xxxxx":case"xxx":default:return Wr(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+cd(n,":");case"OOOO":default:return"GMT"+Wr(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+cd(n,":");case"zzzz":default:return"GMT"+Wr(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return he(n,e.length)},T:function(t,e,r){return he(+t,e.length)}};function cd(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+e+he(o,2)}function ud(t,e){return t%60===0?(t>0?"-":"+")+he(Math.abs(t)/60,2):Wr(t,e)}function Wr(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=he(Math.trunc(n/60),2),o=he(n%60,2);return r+s+e+o}const dd=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},op=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},pw=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return dd(t,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",dd(n,e)).replace("{{time}}",op(s,e))},mw={p:op,P:pw},gw=/^D+$/,yw=/^Y+$/,vw=["D","DD","YY","YYYY"];function ww(t){return gw.test(t)}function xw(t){return yw.test(t)}function kw(t,e,r){const n=_w(t,e,r);if(console.warn(n),vw.includes(t))throw new RangeError(n)}function _w(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jw=/^'([^]*?)'?$/,Cw=/''/g,Nw=/[a-zA-Z]/;function Ew(t,e,r){var d,h,f,y;const n=zi(),s=n.locale??cw,o=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=n.weekStartsOn??((y=(f=n.locale)==null?void 0:f.options)==null?void 0:y.weekStartsOn)??0,l=It(t,r==null?void 0:r.in);if(!Ov(l))throw new RangeError("Invalid time value");let c=e.match(Sw).map(w=>{const k=w[0];if(k==="p"||k==="P"){const T=mw[k];return T(w,s.formatLong)}return w}).join("").match(bw).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const k=w[0];if(k==="'")return{isToken:!1,value:Ow(w)};if(ld[k])return{isToken:!0,value:w};if(k.match(Nw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const k=w.value;(xw(k)||ww(k))&&kw(k,e,String(t));const T=ld[k[0]];return T(l,k,s.localize,u)}).join("")}function Ow(t){const e=t.match(jw);return e?e[1].replace(Cw,"'"):t}const Pw=()=>{const{fetchUsers:t,updateUserRole:e,deleteUser:r}=Kn(),[n,s]=j.useState([]),[o,i]=j.useState(!0),[l,c]=j.useState(""),[u,d]=j.useState(!1),[h,f]=j.useState(!1),[y,w]=j.useState(!1),[k,T]=j.useState(null),[g,p]=j.useState("user"),[m,x]=j.useState(""),[S,b]=j.useState("user"),[E,A]=j.useState(!1);j.useEffect(()=>{B()},[]);const B=async()=>{i(!0);const q=await t();s(q),i(!1)},F=n.filter(q=>{var Ne;return((Ne=q.email)==null?void 0:Ne.toLowerCase().includes(l.toLowerCase()))||q.role.toLowerCase().includes(l.toLowerCase())}),le=q=>{T(q),p(q.role),d(!0)},pe=q=>{T(q),f(!0)},Z=async()=>{if(k){A(!0);try{await e(k.id,g),await B(),d(!1)}catch(q){console.error("Failed to update role",q),alert("Failed to update role")}finally{A(!1)}}},Y=async()=>{if(k){A(!0);try{await r(k.id),await B(),f(!1)}catch(q){console.error("Failed to delete user",q),alert("Failed to delete user")}finally{A(!1)}}},oe=()=>{alert("To add a new user, currently you need to use the Supabase Dashboard Authentication page or share the signup link. We are building a dedicated invite system."),w(!1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:"User Management"}),a.jsxs(U,{onClick:()=>w(!0),children:[a.jsx(gv,{size:18,className:"mr-2"}),"Add New User"]})]}),a.jsxs("div",{className:"flex items-center space-x-4 bg-gray-100 dark:bg-gray-100 p-4 rounded-lg shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(fv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 rounded-md border border-gray-300 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",placeholder:"Search users by email...",value:l,onChange:q=>c(q.target.value)})]}),a.jsxs("div",{className:"text-sm text-gray-700",children:["Total Users: ",a.jsx("span",{className:"font-semibold text-black",children:n.length})]})]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-50 rounded-lg shadow overflow-hidden border border-gray-200",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-200 dark:bg-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-black uppercase tracking-wider",children:"Email"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-black uppercase tracking-wider",children:"Role"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-black uppercase tracking-wider",children:"Joined Date"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-bold text-black uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:o?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"Loading users..."})}):F.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"No users found matching your search."})}):F.map(q=>a.jsxs("tr",{className:"hover:bg-gray-100 dark:hover:bg-gray-200 transition-colors border-b border-gray-200",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center text-blue-600 dark:text-blue-300",children:a.jsx(ep,{size:16})}),a.jsx("div",{className:"ml-4",children:a.jsx("div",{className:"text-sm font-medium text-black",children:q.email||"No Email"})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${q.role==="admin"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:[q.role==="admin"?a.jsx(pv,{size:12,className:"mr-1 self-center"}):null,q.role.charAt(0).toUpperCase()+q.role.slice(1)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black",children:q.created_at?Ew(new Date(q.created_at),"MMM dd, yyyy"):"N/A"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx("button",{onClick:()=>le(q),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-4",title:"Edit User",children:a.jsx(uv,{size:18})}),a.jsx("button",{onClick:()=>pe(q),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Delete User",children:a.jsx(Tt,{size:18})})]})]},q.id))})]})})}),a.jsx(Rt,{isOpen:u,onClose:()=>d(!1),title:"Edit User Role",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:"Email"}),a.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-md text-gray-600 dark:text-gray-300",children:(k==null?void 0:k.email)||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:"Role"}),a.jsxs("select",{value:g,onChange:q=>p(q.target.value),className:"w-full p-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 outline-none transition-colors",style:{color:"var(--color-text-primary)"},children:[a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"admin",children:"Admin"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(U,{variant:"secondary",onClick:()=>d(!1),children:"Cancel"}),a.jsx(U,{onClick:Z,disabled:E,children:E?"Saving...":"Save Changes"})]})]})}),a.jsx(Rt,{isOpen:h,onClose:()=>f(!1),title:"Confirm Delete",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Are you sure you want to delete user ",a.jsx("strong",{children:k==null?void 0:k.email}),"? This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(U,{variant:"secondary",onClick:()=>f(!1),children:"Cancel"}),a.jsx(U,{variant:"danger",onClick:Y,disabled:E,children:E?"Deleting...":"Delete User"})]})]})}),a.jsx(Rt,{isOpen:y,onClose:()=>w(!1),title:"Add New User",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Enter details to invite a new user."}),a.jsx(ft,{label:"Email Address",value:m,onChange:q=>x(q.target.value),placeholder:"user@example.com"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:"Role"}),a.jsxs("select",{value:S,onChange:q=>b(q.target.value),className:"w-full p-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:ring-2 focus:ring-blue-500 outline-none transition-colors",style:{color:"var(--color-text-primary)"},children:[a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"admin",children:"Admin"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(U,{variant:"secondary",onClick:()=>w(!1),children:"Cancel"}),a.jsx(U,{onClick:oe,children:"Send Invitation"})]})]})})]})},Tw=[{id:"1759926496568",name:"Super project 1",description:null,type:"hybrid",cards:[{id:"1",content:"Network Map",sortOrder:0},{id:"2",content:"Wi-Fi",sortOrder:1},{id:"3",content:"WAN",sortOrder:2},{id:"4",content:"LAN",sortOrder:3},{id:"5",content:"Ethernet",sortOrder:4},{id:"6",content:"GRE Tunnels",sortOrder:5},{id:"7",content:"Firewall",sortOrder:6},{id:"8",content:"Parental Controls",sortOrder:7},{id:"9",content:"Port Triggering",sortOrder:8},{id:"10",content:"Port Filtering",sortOrder:9},{id:"11",content:"Port Forwarding",sortOrder:10},{id:"12",content:"MAC Filtering",sortOrder:11},{id:"13",content:"DMZ",sortOrder:12},{id:"14",content:"VPN",sortOrder:13},{id:"15",content:"Local UI Password",sortOrder:14},{id:"16",content:"Speed Test",sortOrder:15},{id:"17",content:"Wi-Fi Analyzer",sortOrder:16},{id:"18",content:"Wi-Fi Score",sortOrder:17},{id:"19",content:"Wi-Fi Diagnostics",sortOrder:18},{id:"20",content:"Device Diagnostics",sortOrder:19},{id:"21",content:"Device logs",sortOrder:20},{id:"22",content:"Crash logs",sortOrder:21},{id:"23",content:"Events & Alert history",sortOrder:22},{id:"24",content:"Device Processes",sortOrder:23},{id:"25",content:"DOCSIS Statistics",sortOrder:24},{id:"26",content:"Firmware",sortOrder:25},{id:"27",content:"Back up & Restore",sortOrder:26},{id:"28",content:"Advanced Services",sortOrder:27},{id:"29",content:"NTP Server",sortOrder:28}],categories:[{id:"cat-1",name:"Network",sortOrder:0},{id:"cat-2",name:"Security",sortOrder:1},{id:"cat-3",name:"Diagnostics",sortOrder:2},{id:"cat-4",name:"Troubleshooting",sortOrder:3},{id:"cat-5",name:"Settings",sortOrder:4},{id:"cat-6",name:"Voice",sortOrder:5}],created_at:"2025-10-08T12:28:16.568+00:00",updated_at:"2025-10-10T15:31:01.994+00:00"},{id:"1759926505165",name:"a2",description:null,type:"closed",cards:[{id:"1",content:"Network Map",sortOrder:0},{id:"2",content:"Wi-Fi",sortOrder:1},{id:"3",content:"WAN",sortOrder:2},{id:"4",content:"LAN",sortOrder:3},{id:"5",content:"Ethernet",sortOrder:4},{id:"6",content:"GRE Tunnels",sortOrder:5},{id:"7",content:"Firewall",sortOrder:6},{id:"8",content:"Parental Controls",sortOrder:7},{id:"9",content:"Port Triggering",sortOrder:8},{id:"10",content:"Port Filtering",sortOrder:9},{id:"11",content:"Port Forwarding",sortOrder:10},{id:"12",content:"MAC Filtering",sortOrder:11},{id:"13",content:"DMZ",sortOrder:12},{id:"14",content:"VPN",sortOrder:13},{id:"15",content:"Local UI Password",sortOrder:14},{id:"16",content:"Speed Test",sortOrder:15},{id:"17",content:"Wi-Fi Analyzer",sortOrder:16},{id:"18",content:"Wi-Fi Score",sortOrder:17},{id:"19",content:"Wi-Fi Diagnostics",sortOrder:18},{id:"20",content:"Device Diagnostics",sortOrder:19},{id:"21",content:"Device logs",sortOrder:20},{id:"22",content:"Crash logs",sortOrder:21},{id:"23",content:"Events & Alert history",sortOrder:22},{id:"24",content:"Device Processes",sortOrder:23},{id:"25",content:"DOCSIS Statistics",sortOrder:24},{id:"26",content:"Firmware",sortOrder:25},{id:"27",content:"Back up & Restore",sortOrder:26},{id:"28",content:"Advanced Services",sortOrder:27},{id:"29",content:"NTP Server",sortOrder:28}],categories:[{id:"cat-1",name:"Network",sortOrder:0},{id:"cat-2",name:"Security",sortOrder:1},{id:"cat-3",name:"Diagnostics",sortOrder:2},{id:"cat-4",name:"Troubleshooting",sortOrder:3},{id:"cat-5",name:"Settings",sortOrder:4},{id:"cat-6",name:"Voice",sortOrder:5}],created_at:"2025-10-08T12:28:25.165+00:00",updated_at:"2025-10-13T04:55:26.965+00:00"},{id:"1768377467566",name:"Subscriber Portal - Option A",description:"Please sort all the cards and publish.",type:"closed",cards:[{id:"1",content:"Network Status",description:"See if your network is online and running normally.",sortOrder:0},{id:"2",content:"Network Speed",description:"Check how fast your internet connection is.",sortOrder:1},{id:"3",content:"Network Map",description:"View how your devices are connected to your network.",sortOrder:2},{id:"4",content:"Wi-Fi Networks",description:"See the Wi-Fi networks your router is broadcasting.",sortOrder:3},{id:"5",content:"Wi-Fi Settings",description:"Change your Wi-Fi name, password, and security options.",sortOrder:4},{id:"6",content:"Connected Devices",description:"View all devices currently connected to your network.",sortOrder:5},{id:"7",content:"Down Time",description:"See when your network was unavailable.",sortOrder:6},{id:"8",content:"Usage and Insights",description:"Understand how your network is being used.",sortOrder:7},{id:"9",content:"Advanced Setting",description:"Access advanced network configuration options.",sortOrder:8},{id:"10",content:"Alerts/Notifications",description:"Get notified about network activity and issues.",sortOrder:9},{id:"11",content:"Add/Setup Gateway or Extender",description:"Add a new gateway or extender to your network.",sortOrder:10},{id:"12",content:"MAC Filtering",description:"Choose which devices are allowed to connect, based on their unique MAC addresses.",sortOrder:11},{id:"13",content:"Port Forwarding",description:"Allow specific apps or devices to be accessed from the internet.",sortOrder:12},{id:"14",content:"Port Filtering",description:"Control internet traffic by allowing or blocking specific ports.",sortOrder:13},{id:"15",content:"Port Triggering",description:"Automatically open ports when a device needs them.",sortOrder:14},{id:"16",content:"Firewall",description:"Protect your network from unwanted or suspicious traffic.",sortOrder:15},{id:"17",content:"Device Groups",description:"Organize devices into groups for easier management.",sortOrder:16},{id:"18",content:"DNS Setting",description:"Chooses how your network converts the human-friendly URL (e.g., wikipedia.org) into the numerical IP address necessary for your computer to find the website.",sortOrder:17},{id:"19",content:"Internet Configuration",description:"Set up how your gateway connects to the internet.",sortOrder:18},{id:"20",content:"DHCP Reservations",description:"Assign the same IP address to specific devices.",sortOrder:19},{id:"21",content:"DOCSIS Summary",description:"View cable connection and signal details.",sortOrder:20},{id:"22",content:"Local Network",description:"Manage settings for devices within your home network.",sortOrder:21},{id:"23",content:"Ethernet Configuration",description:"Configure wired network connection settings.",sortOrder:22},{id:"24",content:"NTP Servers",description:"Set time servers to keep your network time accurate.",sortOrder:23},{id:"25",content:"Static IP Automatic Assignment",description:"Automatically assign fixed IP addresses to devices.",sortOrder:24},{id:"26",content:"Wi-Fi Configuration",description:"Configure advanced Wi-Fi network options.",sortOrder:25},{id:"27",content:"Mesh",description:"Manage and monitor your mesh Wi-Fi network.",sortOrder:26},{id:"28",content:"Local web UI Password",description:"Change the password for accessing the local gateway interface.",sortOrder:27},{id:"29",content:"Backup and Restore",description:"Save your settings or restore them from a backup.",sortOrder:28},{id:"30",content:"Speed test",description:"Test your internet connection speed.",sortOrder:29},{id:"31",content:"SSID Scanner",description:"Scan nearby Wi-Fi networks to check congestion and channels.",sortOrder:30},{id:"32",content:"Gateway Login",description:"Access your gateway's management interface.",sortOrder:31},{id:"33",content:"Network Tool-box",description:"Use network tools to diagnose connection issues.",sortOrder:32},{id:"34",content:"Factory Reset",description:"Reset the gateway to its original settings.",sortOrder:33},{id:"35",content:"Content Filtering",description:"Block or allow access to specific websites or content.",sortOrder:34},{id:"36",content:"Reboot",description:"Restart the gateway to refresh the connection.",sortOrder:35},{id:"37",content:"Test Connection",description:"Check if your gateway is properly connected to the internet.",sortOrder:36},{id:"38",content:"DMZ",description:"Expose one device directly to the internet.",sortOrder:37},{id:"39",content:"Device Alias",description:"Rename devices to make them easier to identify.",sortOrder:38},{id:"40",content:"Manage Users",description:"Add, remove, or manage access for users.",sortOrder:39},{id:"41",content:"Support",description:"Get help, guides, or contact customer support.",sortOrder:40},{id:"42",content:"Multi-Language",description:"Change the language used in the app.",sortOrder:41},{id:"43",content:"Theme Light/Dark",description:"Switch between light and dark display themes.",sortOrder:42},{id:"44",content:"Switch Account",description:"Change to a different user account.",sortOrder:43},{id:"45",content:"Switch Gateway",description:"View or manage a different gateway.",sortOrder:44}],categories:[{id:"cat-3",name:"Home",sortOrder:0},{id:"cat-4",name:"Devices",sortOrder:1},{id:"cat-1",name:"Network",sortOrder:2},{id:"cat-5",name:"Settings",sortOrder:3}],created_at:"2026-01-14T07:57:47.566+00:00",updated_at:"2026-01-15T14:47:57.961+00:00"},{id:"1770058861688",name:"Test Restore",description:null,type:"hybrid",cards:[{id:"1",content:"Network Map",sortOrder:0},{id:"2",content:"Wi-Fi",sortOrder:1},{id:"3",content:"WAN",sortOrder:2},{id:"4",content:"LAN",sortOrder:3},{id:"5",content:"Ethernet",sortOrder:4},{id:"6",content:"GRE Tunnels",sortOrder:5},{id:"7",content:"Firewall",sortOrder:6},{id:"8",content:"Parental Controls",sortOrder:7},{id:"9",content:"Port Triggering",sortOrder:8},{id:"10",content:"Port Filtering",sortOrder:9},{id:"11",content:"Port Forwarding",sortOrder:10},{id:"12",content:"MAC Filtering",sortOrder:11},{id:"13",content:"DMZ",sortOrder:12},{id:"14",content:"VPN",sortOrder:13},{id:"15",content:"Local UI Password",sortOrder:14},{id:"16",content:"Speed Test",sortOrder:15},{id:"17",content:"Wi-Fi Analyzer",sortOrder:16},{id:"18",content:"Wi-Fi Score",sortOrder:17},{id:"19",content:"Wi-Fi Diagnostics",sortOrder:18},{id:"20",content:"Device Diagnostics",sortOrder:19},{id:"21",content:"Device logs",sortOrder:20},{id:"22",content:"Crash logs",sortOrder:21},{id:"23",content:"Events & Alert history",sortOrder:22},{id:"24",content:"Device Processes",sortOrder:23},{id:"25",content:"DOCSIS Statistics",sortOrder:24},{id:"26",content:"Firmware",sortOrder:25},{id:"27",content:"Back up & Restore",sortOrder:26},{id:"28",content:"Advanced Services",sortOrder:27},{id:"29",content:"NTP Server",sortOrder:28}],categories:[{id:"cat-1",name:"Network",sortOrder:0},{id:"cat-2",name:"Security",sortOrder:1},{id:"cat-3",name:"Diagnostics",sortOrder:2},{id:"cat-4",name:"Troubleshooting",sortOrder:3},{id:"cat-5",name:"Settings",sortOrder:4},{id:"cat-6",name:"Voice",sortOrder:5}],created_at:"2026-02-02T19:01:01.688+00:00",updated_at:"2026-02-02T19:01:01.688+00:00"},{id:"1770088957961",name:"Subscriber Portal - Option B",description:null,type:"closed",cards:[{id:"1",content:"Network Status",description:"See if your network is online and running normally.",sortOrder:0},{id:"2",content:"Network Speed",description:"Check how fast your internet connection is.",sortOrder:1},{id:"3",content:"Network Map",description:"View how your devices are connected to your network.",sortOrder:2},{id:"4",content:"Wi-Fi Networks",description:"See the Wi-Fi networks your router is broadcasting.",sortOrder:3},{id:"5",content:"Wi-Fi Settings",description:"Change your Wi-Fi name, password, and security options.",sortOrder:4},{id:"6",content:"Connected Devices",description:"View all devices currently connected to your network.",sortOrder:5},{id:"7",content:"Down Time",description:"See when your network was unavailable.",sortOrder:6},{id:"8",content:"Usage and Insights",description:"Understand how your network is being used.",sortOrder:7},{id:"9",content:"Advanced Setting",description:"Access advanced network configuration options.",sortOrder:8},{id:"10",content:"Alerts/Notifications",description:"Get notified about network activity and issues.",sortOrder:9},{id:"11",content:"Add/Setup Gateway or Extender",description:"Add a new gateway or extender to your network.",sortOrder:10},{id:"12",content:"MAC Filtering",description:"Choose which devices are allowed to connect, based on their unique MAC addresses.",sortOrder:11},{id:"13",content:"Port Forwarding",description:"Allow specific apps or devices to be accessed from the internet.",sortOrder:12},{id:"14",content:"Port Filtering",description:"Control internet traffic by allowing or blocking specific ports.",sortOrder:13},{id:"15",content:"Port Triggering",description:"Automatically open ports when a device needs them.",sortOrder:14},{id:"16",content:"Firewall",description:"Protect your network from unwanted or suspicious traffic.",sortOrder:15},{id:"17",content:"Device Groups",description:"Organize devices into groups for easier management.",sortOrder:16},{id:"18",content:"DNS Setting",description:"Chooses how your network converts the human-friendly URL (e.g., wikipedia.org) into the numerical IP address necessary for your computer to find the website.",sortOrder:17},{id:"19",content:"Internet Configuration",description:"Set up how your gateway connects to the internet.",sortOrder:18},{id:"20",content:"DHCP Reservations",description:"Assign the same IP address to specific devices.",sortOrder:19},{id:"21",content:"DOCSIS Summary",description:"View cable connection and signal details.",sortOrder:20},{id:"22",content:"Local Network",description:"Manage settings for devices within your home network.",sortOrder:21},{id:"23",content:"Ethernet Configuration",description:"Configure wired network connection settings.",sortOrder:22},{id:"24",content:"NTP Servers",description:"Set time servers to keep your network time accurate.",sortOrder:23},{id:"25",content:"Static IP Automatic Assignment",description:"Automatically assign fixed IP addresses to devices.",sortOrder:24},{id:"26",content:"Wi-Fi Configuration",description:"Configure advanced Wi-Fi network options.",sortOrder:25},{id:"27",content:"Mesh",description:"Manage and monitor your mesh Wi-Fi network.",sortOrder:26},{id:"28",content:"Local web UI Password",description:"Change the password for accessing the local gateway interface.",sortOrder:27},{id:"29",content:"Backup and Restore",description:"Save your settings or restore them from a backup.",sortOrder:28},{id:"30",content:"Speed test",description:"Test your internet connection speed.",sortOrder:29},{id:"31",content:"SSID Scanner",description:"Scan nearby Wi-Fi networks to check congestion and channels.",sortOrder:30},{id:"32",content:"Gateway Login",description:"Access your gateway's management interface.",sortOrder:31},{id:"33",content:"Network Tool-box",description:"Use network tools to diagnose connection issues.",sortOrder:32},{id:"34",content:"Factory Reset",description:"Reset the gateway to its original settings.",sortOrder:33},{id:"35",content:"Content Filtering",description:"Block or allow access to specific websites or content.",sortOrder:34},{id:"36",content:"Reboot",description:"Restart the gateway to refresh the connection.",sortOrder:35},{id:"37",content:"Test Connection",description:"Check if your gateway is properly connected to the internet.",sortOrder:36},{id:"38",content:"DMZ",description:"Expose one device directly to the internet.",sortOrder:37},{id:"39",content:"Device Alias",description:"Rename devices to make them easier to identify.",sortOrder:38},{id:"40",content:"Manage Users",description:"Add, remove, or manage access for users.",sortOrder:39},{id:"41",content:"Support",description:"Get help, guides, or contact customer support.",sortOrder:40},{id:"42",content:"Multi-Language",description:"Change the language used in the app.",sortOrder:41},{id:"43",content:"Theme Light/Dark",description:"Switch between light and dark display themes.",sortOrder:42},{id:"44",content:"Switch Account",description:"Change to a different user account.",sortOrder:43},{id:"45",content:"Switch Gateway",description:"View or manage a different gateway.",sortOrder:44}],categories:[{id:"cat-1",name:"Home",sortOrder:0},{id:"cat-2",name:"Profiles",sortOrder:1},{id:"cat-3",name:"Devises",sortOrder:2},{id:"cat-4",name:"More",sortOrder:3}],created_at:"2026-02-03T03:22:37.961+00:00",updated_at:"2026-02-03T03:23:48.703+00:00"}],Dw=({onNavigate:t})=>{const{projects:e,createProject:r,deleteProject:n,updateProject:s,refreshProjects:o,restoreProject:i,permanentlyDeleteProject:l,duplicateProject:c}=Kn(),[u,d]=j.useState(!1),[h,f]=j.useState(!1),[y,w]=j.useState(null),[k,T]=j.useState(""),[g,p]=j.useState(""),[m,x]=j.useState("hybrid"),[S,b]=j.useState(""),[E,A]=j.useState(!1),[B,F]=j.useState(new Set),[le,pe]=j.useState(null),[Z,Y]=j.useState(!1),[oe,q]=j.useState(null),[Ne,L]=j.useState(null),[H,K]=j.useState(!1),[V,C]=j.useState("projects"),[v,N]=j.useState(!0),[D,M]=j.useState(!1),[J,Q]=j.useState([]),ue=(_,X)=>{const ae=Date.now().toString();Q(Me=>[...Me,{id:ae,type:_,message:X}])},Se=_=>{Q(X=>X.filter(ae=>ae.id!==_))},Mt=async()=>{if(!k.trim()){b("Project name is required");return}if(e.some(_=>_.name.toLowerCase()===k.toLowerCase())){b("A project with this name already exists");return}await r(k.trim(),m,g.trim()||void 0),T(""),p(""),x("hybrid"),b(""),d(!1)},nr=async(_,X)=>{X.stopPropagation();const ae=await c(_);ae!=null&&ae.error&&console.error("Failed to duplicate project:",ae.error)},ct=async()=>{if(confirm("This will import 5 recovered projects from the old database. Continue?"))try{const{data:{user:_}}=await G.auth.getUser();if(!_){alert("You must be logged in to recover projects.");return}let X=0;for(const ae of Tw){const{data:Me}=await G.from("projects").select("id").eq("name",ae.name).eq("created_at",ae.created_at).maybeSingle();if(Me){console.log(`Updating cards for existing project: ${ae.name}`);const{error:or}=await G.from("projects").update({cards:ae.cards}).eq("id",Me.id);or?console.error("Failed to update project cards:",or):X++;continue}const{error:Ke}=await G.from("projects").insert({...ae,id:crypto.randomUUID(),user_id:_.id});Ke?console.error("Failed to import:",ae.name,Ke):X++}alert(`Successfully recovered ${X} projects! Refreshing...`),window.location.reload()}catch(_){console.error("Recovery failed:",_),alert("Recovery failed. Check console for details.")}},Dr=_=>{pe(_)},qt=async()=>{if(le){const _=await n(le);_&&_.error?ue("error","Failed to move project to recycle bin. Database schema might be outdated."):ue("success","Project moved to recycle bin"),pe(null)}},Ar=_=>{q(_)},sr=async()=>{if(oe){const _=await i(oe);_&&_.error?ue("error","Failed to restore project"):ue("success","Project restored successfully"),q(null)}},sn=_=>{L(_)},Qn=async()=>{if(Ne){const _=await l(Ne);_&&_.error?ue("error","Failed to permanently delete project"):ue("success","Project permanently deleted"),L(null)}},tt=_=>{w(_.id),T(_.name),p(_.description||""),x(_.type),f(!0)},Rr=async()=>{if(!k.trim()){b("Project name is required");return}if(!y)return;if(e.find(X=>X.name.toLowerCase()===k.toLowerCase()&&X.id!==y)){b("A project with this name already exists");return}await s(y,{name:k.trim(),description:g.trim()||void 0,type:m}),T(""),p(""),x("hybrid"),w(null),b(""),f(!1)},on=()=>{A(!E),E&&F(new Set)},Lr=()=>{B.size===e.length?F(new Set):F(new Set(e.map(_=>_.id)))},an=_=>{const X=new Set(B);X.has(_)?X.delete(_):X.add(_),F(X)},O=()=>{if(B.size===0)return;const _=e.filter(or=>B.has(or.id)),X=JSON.stringify(_,null,2),ae=new Blob([X],{type:"application/json"}),Me=URL.createObjectURL(ae),Ke=document.createElement("a");Ke.href=Me,Ke.download=`projects_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke),URL.revokeObjectURL(Me)},I=async()=>{if(B.size===0)return;const _=e.filter(ae=>B.has(ae.id)),X=`Sharing ${B.size} project(s): ${_.map(ae=>ae.name).join(", ")} `;try{if(navigator.share)await navigator.share({title:"Card Sorting Projects",text:X});else throw new Error("Web Share API not supported")}catch(ae){try{await navigator.clipboard.writeText(X),ue("success","Project names copied to clipboard!")}catch{console.error("Share failed:",ae),ue("error","Failed to share projects")}}},$=async _=>{const ae=`${window.location.origin}/subscriber-portal/?project=${_}`;try{await navigator.clipboard.writeText(ae),ue("success","Project link copied to clipboard!")}catch(Me){console.error("Copy failed:",Me),prompt("Copy this link:",ae)}},ie=async()=>{try{localStorage.removeItem("sb-https://sebjqfbteohfixnxotvw.supabase.co-auth-token"),localStorage.clear(),sessionStorage.clear(),await G.auth.signOut()}catch(_){console.error("Logout error:",_)}finally{t("landing"),window.location.reload()}},ye=async()=>{M(!0);try{const{data:_,error:X}=await G.from("app_settings").select("setting_value").eq("setting_key","enable_signup").maybeSingle();if(X)throw X;_&&N(_.setting_value===!0)}catch(_){console.error("Error fetching settings:",_)}finally{M(!1)}},de=async _=>{try{const{error:X}=await G.from("app_settings").update({setting_value:_,updated_at:new Date().toISOString()}).eq("setting_key","enable_signup");if(X)throw X;N(_),alert(`Sign up ${_?"enabled":"disabled"} successfully`)}catch(X){console.error("Error updating signup setting:",X),alert("Failed to update setting. Please try again.")}};bp.useEffect(()=>{V==="settings"&&ye()},[V]);const Ie=e.filter(_=>!_.deletedAt),je=e.filter(_=>_.deletedAt);return a.jsx("div",{className:"min-h-screen p-8",style:{backgroundColor:"var(--color-bg-secondary)"},children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Admin Dashboard"}),a.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"Manage your card sorting projects and users"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[V==="projects"&&a.jsxs(a.Fragment,{children:[a.jsxs(U,{variant:"secondary",onClick:ct,title:"Recover projects from old database",children:[a.jsx(iv,{size:20,className:"mr-2"}),"Recover Data"]}),a.jsx(U,{onClick:o,variant:"secondary",size:"lg",title:"Refresh projects",children:a.jsx(dv,{size:20})}),a.jsxs(U,{onClick:()=>d(!0),size:"lg",children:[a.jsx(gi,{size:20,className:"mr-2"}),"Create Project"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(U,{onClick:()=>K(!H),variant:"secondary",size:"lg",children:a.jsx(ep,{size:20})}),H&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-lg shadow-lg border z-50",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-primary)"},children:a.jsxs("button",{onClick:ie,className:"w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-opacity-80 transition-colors rounded-lg",style:{color:"var(--color-text-primary)"},children:[a.jsx(lv,{size:18}),a.jsx("span",{children:"Logout"})]})})]})]})]}),a.jsxs("div",{className:"flex gap-4 mb-8 border-b",style:{borderColor:"var(--color-border-primary)"},children:[a.jsxs("button",{onClick:()=>C("projects"),className:"flex items-center gap-2 px-4 py-3 font-medium transition-colors",style:{color:V==="projects"?"var(--color-primary-600)":"var(--color-text-secondary)",borderBottom:V==="projects"?"2px solid var(--color-primary-600)":"2px solid transparent"},children:[a.jsx(Ns,{size:20}),"Projects"]}),a.jsxs("button",{onClick:()=>C("users"),className:"flex items-center gap-2 px-4 py-3 font-medium transition-colors",style:{color:V==="users"?"var(--color-primary-600)":"var(--color-text-secondary)",borderBottom:V==="users"?"2px solid var(--color-primary-600)":"2px solid transparent"},children:[a.jsx(yv,{size:20}),"Users"]}),a.jsxs("button",{onClick:()=>C("settings"),className:"flex items-center gap-2 px-4 py-3 font-medium transition-colors",style:{color:V==="settings"?"var(--color-primary-600)":"var(--color-text-secondary)",borderBottom:V==="settings"?"2px solid var(--color-primary-600)":"2px solid transparent"},children:[a.jsx(nd,{size:20}),"Settings"]})]}),V==="projects"&&e.length>0&&a.jsxs("div",{className:"flex justify-end items-center gap-4 mb-4",children:[a.jsx("button",{onClick:on,className:"text-sm font-medium transition-colors",style:{color:E?"var(--color-primary-600)":"var(--color-text-secondary)"},children:"Select"}),E&&a.jsx("button",{onClick:Lr,className:"text-sm font-medium transition-colors",style:{color:"var(--color-text-secondary)"},children:"All"})]}),V==="projects"&&e.length>0&&E&&a.jsxs("div",{className:"fixed bottom-8 right-8 flex items-center gap-4",children:[a.jsxs("button",{onClick:I,disabled:B.size===0,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all",style:{color:B.size>0?"var(--color-text-primary)":"var(--color-text-tertiary)",opacity:B.size>0?1:.5,cursor:B.size>0?"pointer":"not-allowed"},children:[a.jsx(sd,{size:20}),"Share"]}),a.jsxs("button",{onClick:O,disabled:B.size===0,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all",style:{color:B.size>0?"var(--color-primary-600)":"var(--color-text-tertiary)",cursor:B.size>0?"pointer":"not-allowed"},children:[a.jsx(zo,{size:20}),"Download JSON"]})]}),V==="projects"&&Ie.length===0&&a.jsx(Ve,{className:"p-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("div",{className:"mb-4",children:a.jsx(Ns,{size:48,className:"mx-auto",style:{color:"var(--color-text-tertiary)"}})}),a.jsx("h2",{className:"text-2xl font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:"No active projects"}),a.jsx("p",{className:"mb-6",style:{color:"var(--color-text-secondary)"},children:"Get started by creating your first card sorting project"}),a.jsxs(U,{onClick:()=>d(!0),children:[a.jsx(gi,{size:20,className:"mr-2"}),"Create Project"]})]})}),V==="projects"&&Ie.length>0&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ie.map(_=>a.jsxs(Ve,{className:"p-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"text-xl font-semibold",style:{color:"var(--color-text-primary)"},children:_.name}),a.jsxs("div",{className:"flex items-center gap-2",children:[E&&a.jsx("button",{onClick:()=>an(_.id),className:"flex items-center justify-center",children:B.has(_.id)?a.jsx(rv,{size:20,style:{color:"var(--color-primary-600)"}}):a.jsx(ov,{size:20,style:{color:"var(--color-border-primary)"}})}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>tt(_),className:"-mt-2 -mr-2",children:a.jsx(nd,{size:20})})]})]}),a.jsx("div",{children:a.jsxs("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"var(--color-primary-50)",color:"var(--color-primary-600)"},children:[_.type.charAt(0).toUpperCase()+_.type.slice(1)," Sort"]})})]}),a.jsxs("div",{className:"mb-4 text-sm",style:{color:"var(--color-text-secondary)"},children:[a.jsxs("div",{children:["Cards: ",_.cards.length]}),a.jsxs("div",{children:["Categories: ",_.categories.length]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(U,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>t("manage",_.id),children:[a.jsx(mi,{size:16,className:"mr-1"}),"Manage"]}),a.jsxs(U,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>t("results",_.id),children:[a.jsx(Ns,{size:16,className:"mr-1"}),"Results"]}),a.jsx(U,{variant:"secondary",size:"sm",onClick:X=>nr(_.id,X),title:"Duplicate Project",children:a.jsx(Zf,{size:16})}),a.jsx(U,{variant:"secondary",size:"sm",onClick:()=>$(_.id),title:"Copy shareable link",children:a.jsx(sd,{size:16})}),a.jsx(U,{variant:"danger",size:"sm",onClick:()=>Dr(_.id),children:a.jsx(Tt,{size:16})})]})]},_.id))}),V==="projects"&&a.jsxs("div",{className:"mt-12 border-t pt-8",style:{borderColor:"var(--color-border-primary)"},children:[a.jsxs("button",{onClick:()=>Y(!Z),className:"flex items-center gap-2 text-lg font-semibold mb-4 hover:opacity-80 transition-opacity",style:{color:"var(--color-text-secondary)"},children:[Z?a.jsx(ps,{size:20}):a.jsx(sv,{size:20}),a.jsx(Tt,{size:20}),"Recycle Bin (",je.length,")"]}),Z&&a.jsx(a.Fragment,{children:je.length===0?a.jsx(Ve,{className:"p-8 text-center bg-gray-50 border-dashed",children:a.jsx("p",{className:"text-sm",style:{color:"var(--color-text-tertiary)"},children:"Recycle bin is empty"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:je.map(_=>a.jsxs(Ve,{className:"p-6 relative opacity-75 hover:opacity-100 transition-opacity bg-gray-50",children:[a.jsx("div",{className:"absolute top-0 right-0 p-2",children:a.jsx("span",{className:"px-2 py-1 text-xs rounded bg-red-100 text-red-800 font-medium",children:"Deleted"})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--color-text-primary)"},children:_.name}),a.jsx("div",{children:a.jsxs("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"var(--color-neutral-100)",color:"var(--color-neutral-600)"},children:[_.type.charAt(0).toUpperCase()+_.type.slice(1)," Sort"]})})]}),a.jsxs("div",{className:"mb-4 text-sm",style:{color:"var(--color-text-secondary)"},children:[a.jsxs("div",{children:["Cards: ",_.cards.length]}),a.jsxs("div",{children:["Categories: ",_.categories.length]}),a.jsxs("div",{className:"mt-2 text-xs",children:["Deleted: ",_.deletedAt?new Date(_.deletedAt).toLocaleDateString():"Unknown"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(U,{variant:"secondary",size:"sm",className:"flex-1",onClick:()=>Ar(_.id),children:[a.jsx(Nc,{size:16,className:"mr-1"}),"Restore"]}),a.jsx(U,{variant:"danger",size:"sm",onClick:()=>sn(_.id),title:"Permanently Delete",children:a.jsx(Tt,{size:16})})]})]},_.id))})})]}),V==="users"&&a.jsx(Pw,{}),V==="settings"&&a.jsx("div",{children:a.jsxs(Ve,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",style:{color:"var(--color-text-primary)"},children:"Application Settings"}),D?a.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text-secondary)"},children:"Loading settings..."}):a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--color-bg-secondary)"},children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium mb-1",style:{color:"var(--color-text-primary)"},children:"Enable Sign Up"}),a.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Allow new users to create accounts on the landing page"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:v,onChange:_=>de(_.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all",style:{backgroundColor:v?"var(--color-primary-600)":"var(--color-neutral-300)"}})]})]})})]})}),a.jsx(_v,{children:J.map(_=>a.jsx(kv,{id:_.id,type:_.type,message:_.message,onClose:Se},_.id))}),a.jsx(Es,{isOpen:!!le,onClose:()=>pe(null),onConfirm:qt,title:"Delete Project",message:"Are you sure you want to move this project to the recycle bin? It can be restored later.",confirmText:"Delete Project",cancelText:"Cancel",variant:"danger"}),a.jsx(Es,{isOpen:!!oe,onClose:()=>q(null),onConfirm:sr,title:"Restore Project",message:"Are you sure you want to restore this project?",confirmText:"Restore Project",cancelText:"Cancel",variant:"warning"}),a.jsx(Es,{isOpen:!!Ne,onClose:()=>L(null),onConfirm:Qn,title:"Permanently Delete Project",message:"Are you sure you want to permanently delete this project? This action CANNOT be undone.",confirmText:"Delete Permanently",cancelText:"Cancel",variant:"danger"}),a.jsx(Rt,{isOpen:u,onClose:()=>{d(!1),T(""),p(""),b("")},title:"Create New Project",footer:a.jsxs(a.Fragment,{children:[a.jsx(U,{variant:"secondary",onClick:()=>d(!1),children:"Cancel"}),a.jsx(U,{onClick:Mt,children:"Create Project"})]}),children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Manage access"}),a.jsx("textarea",{placeholder:"Add a name, group, or email",rows:1,className:"w-full px-4 py-2 rounded-lg border transition-colors resize-none",style:{borderColor:"var(--color-border-primary)",backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-primary)"}}),a.jsx("p",{className:"text-xs mt-1",style:{color:"var(--color-text-tertiary)"},children:"Only these people can access this study."})]}),a.jsx(ft,{label:"Project Name",value:k,onChange:_=>{T(_.target.value),b("")},placeholder:"Enter project name",error:S}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Description (Optional)"}),a.jsx("textarea",{value:g,onChange:_=>p(_.target.value),placeholder:"Enter project description",rows:3,className:"w-full px-4 py-2 rounded-lg border transition-colors resize-none",style:{borderColor:"var(--color-border-primary)",backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-primary)"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Sort Type"}),a.jsx("div",{className:"space-y-2",children:["open","closed","hybrid"].map(_=>a.jsxs("label",{className:"flex items-start p-3 rounded-lg border cursor-pointer transition-all",style:{borderColor:m===_?"var(--color-border-brand)":"var(--color-border-primary)",backgroundColor:m===_?"var(--color-primary-50)":"transparent"},children:[a.jsx("input",{type:"radio",name:"sortType",value:_,checked:m===_,onChange:X=>x(X.target.value),className:"mt-1 mr-3"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:[_.charAt(0).toUpperCase()+_.slice(1)," Sort"]}),a.jsxs("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:[_==="open"&&"Participants create all categories",_==="closed"&&"Participants use pre-defined categories only",_==="hybrid"&&"Participants can use pre-defined or create new categories"]})]})]},_))})]})]})}),a.jsx(Rt,{isOpen:h,onClose:()=>{f(!1),T(""),p(""),x("hybrid"),w(null),b("")},title:"Edit Project",footer:a.jsxs(a.Fragment,{children:[a.jsx(U,{variant:"secondary",onClick:()=>{f(!1),T(""),p(""),x("hybrid"),w(null),b("")},children:"Cancel"}),a.jsx(U,{onClick:Rr,children:"Save Changes"})]}),children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Manage access"}),a.jsx("textarea",{placeholder:"Add a name, group, or email",rows:1,className:"w-full px-4 py-2 rounded-lg border transition-colors resize-none",style:{borderColor:"var(--color-border-primary)",backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-primary)"}}),a.jsx("p",{className:"text-xs mt-1",style:{color:"var(--color-text-tertiary)"},children:"Only these people can access this study."})]}),a.jsx(ft,{label:"Project Name",value:k,onChange:_=>{T(_.target.value),b("")},placeholder:"Enter project name",error:S}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Description (Optional)"}),a.jsx("textarea",{value:g,onChange:_=>p(_.target.value),placeholder:"Enter project description",rows:3,className:"w-full px-4 py-2 rounded-lg border transition-colors resize-none",style:{borderColor:"var(--color-border-primary)",backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-primary)"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:"Sort Type"}),a.jsx("div",{className:"space-y-2",children:["open","closed","hybrid"].map(_=>a.jsxs("label",{className:"flex items-start p-3 rounded-lg border cursor-pointer transition-all",style:{borderColor:m===_?"var(--color-border-brand)":"var(--color-border-primary)",backgroundColor:m===_?"var(--color-primary-50)":"transparent"},children:[a.jsx("input",{type:"radio",name:"editSortType",value:_,checked:m===_,onChange:X=>x(X.target.value),className:"mt-1 mr-3"}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:[_.charAt(0).toUpperCase()+_.slice(1)," Sort"]}),a.jsxs("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:[_==="open"&&"Participants create all categories",_==="closed"&&"Participants use pre-defined categories only",_==="hybrid"&&"Participants can use pre-defined or create new categories"]})]})]},_))})]})]})})]})})},Aw=({projectId:t,onNavigate:e})=>{const{getProject:r,addCard:n,updateCard:s,deleteCard:o,reorderCards:i,addCategory:l,updateCategory:c,deleteCategory:u,reorderCategories:d}=Kn(),h=r(t),[f,y]=j.useState("cards"),[w,k]=j.useState(!1),[T,g]=j.useState(!1),[p,m]=j.useState(null),[x,S]=j.useState(null),[b,E]=j.useState(""),[A,B]=j.useState(""),[F,le]=j.useState(""),[pe,Z]=j.useState(""),[Y,oe]=j.useState(null);if(!h)return a.jsx("div",{children:"Project not found"});const q=async()=>{b.trim()&&(p?await s(t,p.id,b.trim(),A.trim()||void 0):await n(t,b.trim(),A.trim()||void 0),E(""),B(""),m(null),k(!1))},Ne=async()=>{F.trim()&&(x?await c(t,x.id,F.trim(),pe.trim()||void 0):await l(t,F.trim(),pe.trim()||void 0),le(""),Z(""),S(null),g(!1))},L=v=>{m(v),E(v.content),B(v.description||""),k(!0)},H=v=>{S(v),le(v.name),Z(v.description||""),g(!0)},K=v=>{oe(v)},V=(v,N)=>{if(v.preventDefault(),!(Y===null||Y===N))if(f==="cards"){const D=[...h.cards],M=D[Y];D.splice(Y,1),D.splice(N,0,M);const J=D.map((Q,ue)=>({...Q,sortOrder:ue}));i(t,J),oe(N)}else{const D=[...h.categories],M=D[Y];D.splice(Y,1),D.splice(N,0,M);const J=D.map((Q,ue)=>({...Q,sortOrder:ue}));d(t,J),oe(N)}},C=()=>{oe(null)};return a.jsxs("div",{className:"min-h-screen p-8",style:{backgroundColor:"var(--color-bg-secondary)"},children:[a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs(U,{variant:"ghost",onClick:()=>e("admin"),className:"mb-4",children:[a.jsx(fi,{size:20,className:"mr-2"}),"Back to Dashboard"]}),a.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:h.name}),a.jsxs("p",{style:{color:"var(--color-text-secondary)"},children:[h.type.charAt(0).toUpperCase()+h.type.slice(1)," Sort"]})]}),a.jsxs("div",{className:"mb-6 flex border-b",style:{borderColor:"var(--color-border-primary)"},children:[a.jsxs("button",{className:`px-6 py-3 font-medium transition-colors ${f==="cards"||f==="import-cards"?"border-b-2":""}`,style:{color:f==="cards"||f==="import-cards"?"var(--color-text-primary)":"var(--color-text-secondary)",borderColor:f==="cards"||f==="import-cards"?"var(--color-border-brand)":"transparent"},onClick:()=>y("cards"),children:["Cards (",h.cards.length,")"]}),a.jsxs("button",{className:`px-6 py-3 font-medium transition-colors ${f==="categories"||f==="import-categories"?"border-b-2":""}`,style:{color:f==="categories"||f==="import-categories"?"var(--color-text-primary)":"var(--color-text-secondary)",borderColor:f==="categories"||f==="import-categories"?"var(--color-border-brand)":"transparent"},onClick:()=>y("categories"),children:["Categories (",h.categories.length,")"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs(U,{onClick:()=>{f==="cards"||f==="import-cards"?(m(null),E(""),B(""),k(!0)):(S(null),le(""),Z(""),g(!0))},children:[a.jsx(gi,{size:20,className:"mr-2"}),"Add ",f==="cards"||f==="import-cards"?"Card":"Category"]}),(f==="cards"||f==="import-cards")&&a.jsxs(U,{variant:"secondary",className:"ml-3",onClick:()=>y("import-cards"),children:[a.jsx(Co,{size:20,className:"mr-2"}),"Import Cards"]}),(f==="categories"||f==="import-categories")&&a.jsxs(U,{variant:"secondary",className:"ml-3",onClick:()=>y("import-categories"),children:[a.jsx(Co,{size:20,className:"mr-2"}),"Import Categories"]})]}),a.jsx(Ve,{className:"p-6",children:f==="cards"||f==="import-cards"?f==="import-cards"?a.jsxs("div",{className:"text-center py-12",style:{color:"var(--color-text-secondary)"},children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(Co,{size:48,className:"opacity-50"})}),a.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--color-text-primary)"},children:"Import Cards"}),a.jsx("p",{children:"Upload a CSV file or paste text to create cards in bulk."})]}):h.cards.length===0?a.jsx("div",{className:"text-center py-12",style:{color:"var(--color-text-secondary)"},children:"No cards yet. Add your first card to get started."}):a.jsx("div",{className:"space-y-2",children:h.cards.map((v,N)=>a.jsxs("div",{draggable:!0,onDragStart:()=>K(N),onDragOver:D=>V(D,N),onDragEnd:C,className:"flex items-center gap-3 p-3 rounded-lg border transition-all hover:shadow-sm",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border-primary)",cursor:"move"},children:[a.jsx(rd,{size:20,style:{color:"var(--color-text-tertiary)"}}),a.jsx("div",{className:"flex-1",style:{color:"var(--color-text-primary)"},children:v.content}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>L(v),children:a.jsx(mi,{size:16})}),a.jsx(U,{variant:"ghost",size:"sm",onClick:async()=>{window.confirm("Delete this card?")&&await o(t,v.id)},children:a.jsx(Tt,{size:16,style:{color:"var(--color-error-500)"}})})]})]},v.id))}):f==="import-categories"?a.jsxs("div",{className:"text-center py-12",style:{color:"var(--color-text-secondary)"},children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(Co,{size:48,className:"opacity-50"})}),a.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--color-text-primary)"},children:"Import Categories"}),a.jsx("p",{children:"Upload a CSV file or paste text to create categories in bulk."})]}):h.categories.length===0?a.jsx("div",{className:"text-center py-12",style:{color:"var(--color-text-secondary)"},children:"No categories yet. Add categories for closed or hybrid sorts."}):a.jsx("div",{className:"space-y-2",children:h.categories.map((v,N)=>a.jsxs("div",{draggable:!0,onDragStart:()=>K(N),onDragOver:D=>V(D,N),onDragEnd:C,className:"flex items-center gap-3 p-3 rounded-lg border transition-all hover:shadow-sm",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border-primary)",cursor:"move"},children:[a.jsx(rd,{size:20,style:{color:"var(--color-text-tertiary)"}}),a.jsx("div",{className:"flex-1",style:{color:"var(--color-text-primary)"},children:v.name}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>H(v),children:a.jsx(mi,{size:16})}),a.jsx(U,{variant:"ghost",size:"sm",onClick:async()=>{window.confirm("Delete this category?")&&await u(t,v.id)},children:a.jsx(Tt,{size:16,style:{color:"var(--color-error-500)"}})})]})]},v.id))})})]}),a.jsxs(Rt,{isOpen:w,onClose:()=>{k(!1),m(null),E(""),B("")},title:p?"Edit Card":"Add Card",footer:a.jsxs(a.Fragment,{children:[a.jsx(U,{variant:"secondary",onClick:()=>k(!1),children:"Cancel"}),a.jsx(U,{onClick:q,children:"Save"})]}),children:[a.jsx(ft,{label:"Card Name",value:b,onChange:v=>E(v.target.value),placeholder:"Enter card name",autoFocus:!0}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-primary)"},children:"Description (Optional)"}),a.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-primary)",color:"var(--color-text-primary)"},rows:3,value:A,onChange:v=>B(v.target.value),placeholder:"Enter card description..."})]})]}),a.jsxs(Rt,{isOpen:T,onClose:()=>{g(!1),S(null),le(""),Z("")},title:x?"Edit Category":"Add Category",footer:a.jsxs(a.Fragment,{children:[a.jsx(U,{variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),a.jsx(U,{onClick:Ne,children:"Save"})]}),children:[a.jsx(ft,{label:"Category Name",value:F,onChange:v=>le(v.target.value),placeholder:"Enter category name",autoFocus:!0}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-primary)"},children:"Description (Optional)"}),a.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-primary)",color:"var(--color-text-primary)"},rows:3,value:pe,onChange:v=>Z(v.target.value),placeholder:"Enter category description..."})]})]})]})},Rw=({projectId:t,onNavigate:e})=>{const{getProject:r,getResults:n,getDeletedResults:s,deleteResult:o,restoreResult:i,permanentlyDeleteResult:l}=Kn(),c=r(t),[u,d]=j.useState([]),[h,f]=j.useState([]),[y,w]=j.useState(!0),[k,T]=j.useState(null),[g,p]=j.useState(null),[m,x]=j.useState(!1),[S,b]=j.useState("overview"),[E,A]=j.useState(null),[B,F]=j.useState(!1),[le,pe]=j.useState(!1),[Z,Y]=j.useState(null),[oe,q]=j.useState(null),[Ne,L]=j.useState(null);if(j.useEffect(()=>{(async()=>{w(!0);const[I,$]=await Promise.all([n(t),s(t)]);d(I),f($),w(!1)})()},[t,n,s]),!c||y)return a.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading results..."});const H=O=>{Y(O),F(!0)},K=O=>{q(O),pe(!0)},V=async()=>{if(Z){await o(Z);const[O,I]=await Promise.all([n(t),s(t)]);d(O),f(I),F(!1),Y(null)}},C=async()=>{if(oe){await l(oe);const[O,I]=await Promise.all([n(t),s(t)]);d(O),f(I),pe(!1),q(null)}},v=async O=>{await i(O);const[I,$]=await Promise.all([n(t),s(t)]);d(I),f($)};function N({submissions:O,categoryName:I,getCategories:$,getCards:ie,getCategoryName:ye,getCardId:de}){if(O.length<2)return 0;const Ie=new Set;if(O.forEach(_=>{$(_).forEach(ae=>{ie(ae).forEach(Ke=>Ie.add(de(Ke)))})}),Ie.size===0)return 0;let je=0;return Ie.forEach(_=>{O.map(ae=>{const Me=$(ae);for(const Ke of Me)if(ie(Ke).some(ro=>de(ro)===_))return ye(Ke);return null}).every(ae=>ae===I)&&je++}),je/Ie.size*100}const D=u.length,M=c.deletedAt?"Archived":"Active",J=u.reduce((O,I)=>{const $=I.categories.reduce((ie,ye)=>ie+ye.cards.length,0);return O+$},0),Q=D>0?Math.round(J/D):0,ue=new Set(c.categories.map(O=>O.name)),Se=new Set;u.forEach(O=>O.categories.forEach(I=>Se.add(I.category_name)));const Mt=Se.size,nr=Array.from(Se).map(O=>({name:O,percentage:Math.round(N({submissions:u,categoryName:O,getCategories:I=>I.categories,getCards:I=>I.cards,getCategoryName:I=>I.category_name,getCardId:I=>I})),count:u.filter(I=>I.categories.some($=>$.category_name===O)).length,isAdmin:ue.has(O)})),ct=nr.filter(O=>O.isAdmin).sort((O,I)=>I.percentage-O.percentage),Dr=nr.filter(O=>!O.isAdmin),qt=Dr.map(O=>O.name),Ar=Dr.length>0,sr=O=>{const I=new Date(O),$=new Date,ie=new Date($);return ie.setDate(ie.getDate()-1),I.toDateString()===$.toDateString()?"Today":I.toDateString()===ie.toDateString()?"Yesterday":I.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})},sn=[...u].sort((O,I)=>new Date(I.createdAt??0).getTime()-new Date(O.createdAt??0).getTime()).reduce((O,I)=>{const $=I.createdAt?sr(I.createdAt):"Unknown";return O[$]||(O[$]=[]),O[$].push(I),O},{}),Qn=h.reduce((O,I)=>{const $=I.createdAt?new Date(I.createdAt).toLocaleDateString():"Unknown";return O[$]||(O[$]=[]),O[$].push(I),O},{}),tt={};u.forEach(O=>{O.categories.forEach(I=>{tt[I.category_name]||(tt[I.category_name]={cardCounts:{},participantCount:0}),tt[I.category_name].participantCount++,I.cards.forEach($=>{tt[I.category_name].cardCounts[$]=(tt[I.category_name].cardCounts[$]||0)+1})})});const Rr=Object.entries(tt).flatMap(([O,I])=>Object.entries(I.cardCounts).map(([$,ie])=>({cardName:$,categoryName:O,count:ie,pct:D>0?Math.round(ie/D*100):0}))).sort((O,I)=>I.count-O.count).slice(0,10),on=()=>{const O=JSON.stringify({project:c,results:u},null,2);navigator.clipboard.writeText(O),alert("Copied to clipboard!")},Lr=()=>{const O=JSON.stringify({project:c,results:u},null,2),I=new Blob([O],{type:"application/json"}),$=URL.createObjectURL(I),ie=document.createElement("a");ie.href=$,ie.download=`${c.name}_results.json`,ie.click()},an=O=>{const I=JSON.stringify(O,null,2),$=new Blob([I],{type:"application/json"}),ie=URL.createObjectURL($),ye=document.createElement("a");ye.href=ie,ye.download=`submission_${O.id}.json`,ye.click()};return a.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--color-bg-secondary)"},children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 px-8 py-5 border-b",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-primary)"},children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(U,{variant:"ghost",onClick:()=>e("admin"),className:"-ml-2 text-gray-500 hover:text-gray-900",children:[a.jsx(fi,{size:16,className:"mr-1"})," Back"]}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:["Results: ",c.name]}),a.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"View and export participant sorting results"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 pr-14",children:[a.jsxs(U,{variant:m?"primary":"secondary",onClick:()=>{x(!m),b("overview")},className:m?"bg-gray-800 text-white hover:bg-gray-700":"",children:[a.jsx(Tt,{size:16,className:"mr-2"}),"Recycle Bin (",h.length,")"]}),a.jsxs(U,{variant:"secondary",onClick:on,children:[a.jsx(Zf,{size:16,className:"mr-2"}),"Copy to Clipboard"]}),a.jsxs(U,{variant:"primary",onClick:Lr,children:[a.jsx(zo,{size:16,className:"mr-2"}),"Download JSON"]})]})]}),a.jsxs("div",{className:"flex flex-1",children:[a.jsx("aside",{className:"w-56 flex-shrink-0 border-r py-6",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-primary)"},children:a.jsxs("nav",{className:"flex flex-col gap-1 px-3",children:[a.jsxs("button",{className:`flex items-center gap-3 w-full px-4 py-3 rounded-lg text-sm font-medium text-left transition-colors ${S==="overview"&&!m?"bg-blue-50 text-blue-600":"text-gray-500 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>{b("overview"),x(!1)},children:[a.jsx(Ns,{size:18}),"Overview"]}),a.jsxs("button",{className:`flex items-center gap-3 w-full px-4 py-3 rounded-lg text-sm font-medium text-left transition-colors ${S==="categories"&&!m?"bg-blue-50 text-blue-600":"text-gray-500 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>{b("categories"),x(!1)},children:[a.jsx(av,{size:18}),"Categories"]})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto flex justify-center",style:{backgroundColor:"var(--color-bg-secondary)"},children:m?a.jsx("div",{className:"w-full max-w-5xl px-8 py-8",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(Tt,{className:"text-red-500",size:20}),"Recycle Bin"]}),a.jsx(U,{variant:"ghost",size:"sm",onClick:()=>x(!1),children:"Close Bin"})]}),h.length===0&&a.jsx("div",{className:"text-center py-10 bg-gray-100 rounded-lg text-gray-400",children:"Recycle bin is empty."}),Object.entries(Qn).map(([O,I])=>a.jsxs("div",{className:"border border-red-100 rounded-lg bg-red-50/30 overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-red-50 transition-colors",onClick:()=>L(Ne===O?null:O),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium text-gray-900",children:O}),a.jsxs("span",{className:"text-sm text-red-600 bg-red-100 px-2 py-0.5 rounded-full",children:[I.length," deleted"]})]}),Ne===O?a.jsx(_a,{size:20,className:"text-gray-400"}):a.jsx(ps,{size:20,className:"text-gray-400"})]}),Ne===O&&a.jsx("div",{className:"divide-y divide-red-100 border-t border-red-100",children:I.map($=>a.jsxs("div",{className:"p-4 flex justify-between items-center bg-white/50",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:$.email}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Deleted: ",$.deletedAt?new Date($.deletedAt).toLocaleDateString():"Unknown"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>v($.id),className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:[a.jsx(Nc,{size:16,className:"mr-1"})," Restore"]}),a.jsxs(U,{variant:"ghost",size:"sm",onClick:()=>K($.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[a.jsx(Tt,{size:16,className:"mr-1"})," Delete Forever"]})]})]},$.id))})]},O))]})}):S==="overview"?a.jsx("div",{className:"w-full max-w-6xl px-8 py-8",children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(Ve,{className:"p-6 border-l-4 border-l-blue-500 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-sm font-medium mb-1",children:"Total Submissions"}),a.jsx("div",{className:"text-4xl font-bold text-gray-900",children:D})]}),a.jsx("div",{className:`px-2 py-1 rounded text-xs font-semibold ${M==="Active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:M})]})}),a.jsx(Ve,{className:"p-6 border-l-4 border-l-indigo-500 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-sm font-medium mb-1",children:"Total Unique Categories"}),a.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:Mt}),a.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:"75%"}})}),a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Across all participants"})]})}),a.jsx(Ve,{className:"p-6 border-l-4 border-l-purple-500 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-sm font-medium mb-1",children:"Avg. Cards Sorted"}),a.jsx("div",{className:"text-4xl font-bold text-gray-900",children:Q}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"cards per participant"})]}),a.jsx("div",{className:"bg-purple-100 p-2 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-lg leading-none",children:""})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-8",style:{gridTemplateColumns:"minmax(0,5fr) minmax(0,7fr)"},children:[a.jsxs(Ve,{className:"shadow-sm overflow-hidden",style:{padding:0},children:[a.jsxs("div",{className:"px-6 pt-6 pb-5",children:[a.jsx("h2",{className:"text-base font-bold text-gray-900 mb-5",children:"Categories"}),ct.length>0&&a.jsxs("div",{className:"mb-5",children:[a.jsxs("p",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-2",children:["Admin Categories (",ct.length,")"]}),a.jsx("div",{className:"rounded-lg border border-gray-200 divide-y divide-gray-100 overflow-hidden",children:ct.map(O=>{const I=tt[O.name],$=I?Object.entries(I.cardCounts).sort((ye,de)=>de[1]-ye[1]).slice(0,5):[],ie=E===O.name;return a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center px-4 py-3.5 cursor-pointer hover:bg-gray-50 transition-colors group",onClick:()=>A(ie?null:O.name),children:[a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:O.name}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!ie&&$.length>0&&a.jsxs("span",{className:"text-xs text-gray-400 italic group-hover:text-gray-500 transition-colors whitespace-nowrap",children:["View top"," ",a.jsx("span",{style:{color:"#10B981",fontWeight:600,fontStyle:"normal"},children:"5"})," ","cards "]}),a.jsx(ps,{size:14,className:`text-gray-400 group-hover:text-gray-600 transition-all ${ie?"rotate-180 text-blue-500":""}`})]})]}),ie&&$.length>0&&a.jsxs("div",{className:"border-t border-gray-100 bg-gray-50 px-4 py-3 space-y-0",children:[a.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400 pb-2",children:["Top ",$.length," cards"]}),$.map(([ye,de],Ie)=>{const je=D>0?Math.round(de/D*100):0,_=Ie<3,X=je===100?"#10B981":je>=75?"#34D399":je>=50?"#F59E0B":"#EF4444";return a.jsxs("div",{className:"py-2 border-b border-gray-100 last:border-b-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[a.jsxs("span",{className:"text-xs font-bold w-4 flex-shrink-0 text-gray-400",children:[Ie+1,"."]}),a.jsx("span",{className:"text-sm font-medium text-gray-800 truncate",children:ye})]}),_?a.jsxs("div",{className:"flex items-center gap-2 pl-6",children:[a.jsx("div",{className:"flex-1 h-1.5 rounded-full bg-gray-200 overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${je}%`,backgroundColor:X}})}),a.jsxs("span",{className:"text-xs text-gray-400 flex-shrink-0 font-semibold",children:[de,"/",D]}),a.jsxs("span",{className:"text-xs font-bold text-gray-700 flex-shrink-0 w-8 text-right",children:[je,"%"]}),a.jsx("span",{className:"w-4 text-xs text-center flex-shrink-0",children:je===100?"":je>=75?"":""})]}):a.jsxs("div",{className:"flex items-center justify-end gap-2 pl-6",children:[a.jsxs("span",{className:"text-xs text-gray-400 font-semibold",children:[de,"/",D]}),a.jsxs("span",{className:"text-xs font-bold text-gray-700 w-8 text-right",children:[je,"%"]}),a.jsx("span",{className:"w-4 text-xs text-center",children:je===100?"":je>=75?"":""})]})]},ye)})]})]},O.name)})})]}),Ar&&(()=>{const O=qt.slice(0,3),I=qt.length-3;return a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-2",children:["Custom Categories (",qt.length,")"]}),a.jsx("div",{className:"flex flex-col gap-1.5",children:O.map($=>a.jsx("div",{className:"px-3 py-1.5 text-sm font-medium text-amber-800 bg-amber-50 border border-amber-100 rounded-md",children:$},$))}),I>0&&a.jsxs("p",{className:"mt-2.5 text-xs font-medium text-gray-400",children:["+",I," more"]})]})})(),ct.length===0&&!Ar&&a.jsx("p",{className:"text-gray-400 text-sm italic py-4",children:"No data yet."})]}),a.jsx("div",{className:"px-6 py-3 border-t border-gray-100",style:{backgroundColor:"#F9FAFB"},children:a.jsxs("button",{className:"w-full flex items-center justify-center gap-2 py-2 rounded-lg border border-gray-200 bg-white text-sm font-medium text-blue-600 hover:bg-blue-50 hover:border-blue-300 transition-colors group",onClick:()=>{b("categories"),x(!1)},children:["Show all categories",a.jsx("span",{className:"group-hover:translate-x-1 transition-transform inline-block",children:""})]})})]}),a.jsxs(Ve,{className:"shadow-sm overflow-hidden",style:{padding:0},children:[a.jsxs("div",{className:"flex items-start gap-2 px-6 pt-5 pb-3",children:[a.jsx("span",{className:"text-lg leading-none flex items-center mt-0.5",children:""}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Top Agreed Cards"}),a.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Cards with highest participant agreement"})]})]}),a.jsxs("div",{className:"px-4 pb-4 space-y-1 overflow-y-auto",style:{maxHeight:"420px"},children:[Rr.length===0&&a.jsx("p",{className:"text-gray-400 text-sm italic py-4 px-2",children:"No data yet."}),Rr.map((O,I)=>{const $=O.pct===100?"#10B981":O.pct>=75?"#34D399":O.pct>=50?"#F59E0B":"#EF4444";return a.jsxs("div",{className:"rounded-lg px-3 py-2.5 hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsxs("span",{className:"text-xs font-bold text-gray-400 w-5 flex-shrink-0",children:[I+1,"."]}),a.jsx("span",{className:"text-sm font-semibold text-gray-800 truncate",children:O.cardName})]}),a.jsxs("span",{className:"text-xs text-gray-500 ml-2 flex-shrink-0 px-2 py-0.5 rounded-full border border-gray-200 bg-white",children:[" ",O.categoryName]})]}),a.jsxs("div",{className:"flex items-center gap-2 pl-7",children:[a.jsx("div",{className:"flex-1 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${O.pct}%`,backgroundColor:$}})}),a.jsxs("span",{className:"text-xs text-gray-400 flex-shrink-0 font-semibold",children:[O.count,"/",D]}),a.jsxs("span",{className:"text-xs font-bold text-gray-700 flex-shrink-0 w-8 text-right",children:[O.pct,"%"]}),a.jsx("span",{className:"w-4 text-center text-xs flex-shrink-0",children:O.pct===100?"":O.pct>=75?"":""})]})]},`${O.categoryName}-${O.cardName}`)})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Participant Submissions"}),Object.entries(sn).map(([O,I])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg bg-white shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>T(k===O?null:O),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-blue-100 p-1.5 rounded text-blue-600",children:a.jsx(tv,{size:16})}),a.jsx("span",{className:"font-medium text-gray-900",children:O}),a.jsx("span",{className:"text-sm text-gray-500 bg-gray-200 px-2 py-0.5 rounded-full",children:I.length})]}),k===O?a.jsx(_a,{size:20,className:"text-gray-400"}):a.jsx(ps,{size:20,className:"text-gray-400"})]}),k===O&&a.jsx("div",{className:"divide-y divide-gray-100",children:I.map($=>{var ie,ye;return a.jsxs("div",{className:"bg-white",children:[a.jsx("div",{className:"p-4 hover:bg-gray-50 flex justify-between items-center cursor-pointer group",onClick:()=>p(g===$.id?null:$.id),children:a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-full flex items-center justify-center text-white font-bold shadow-sm",children:$.email.charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900",children:$.email}),a.jsxs("div",{className:"text-xs text-gray-500",children:[$.categories.length," categories  ",$.categories.reduce((de,Ie)=>de+Ie.cards.length,0)," cards sorted"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[(ie=$.additional_comments)!=null&&ie.trim()?a.jsx("div",{className:"flex items-center justify-center w-7 h-7 rounded-md",style:{backgroundColor:"#EFF6FF",color:"#3B82F6"},title:`Comment: ${$.additional_comments}`,children:a.jsx(ba,{size:15})}):a.jsx("div",{className:"flex items-center justify-center w-7 h-7",style:{color:"#D1D5DB"},children:a.jsx(ba,{size:15})}),a.jsx("button",{onClick:de=>{de.stopPropagation(),an($)},className:"opacity-0 group-hover:opacity-100 transition-opacity p-1.5 hover:bg-blue-50 rounded text-blue-600 hover:text-blue-700",title:"Download JSON",children:a.jsx(zo,{size:18})}),g===$.id?a.jsx(_a,{size:20,className:"text-gray-400"}):a.jsx(ps,{size:20,className:"text-gray-400"})]})]})}),g===$.id&&a.jsxs("div",{className:"px-4 pb-4 bg-gray-50/50",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:$.categories.map((de,Ie)=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 shadow-sm",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm",children:de.category_name}),de.suggested_name&&a.jsxs("div",{className:"flex items-center gap-1.5 mb-3 px-2.5 py-1.5 rounded-md bg-blue-50 border border-blue-200",children:[a.jsx("span",{className:"text-xs font-semibold text-blue-500 uppercase tracking-wide",children:"Suggested:"}),a.jsx("span",{className:"text-xs font-medium text-blue-700",children:de.suggested_name})]}),a.jsx("ul",{className:"space-y-1.5 mb-3",children:de.cards.map((je,_)=>a.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[a.jsx("span",{className:"text-gray-400 mt-0.5",children:""}),a.jsx("span",{children:je})]},_))}),a.jsxs("div",{className:"text-xs text-gray-400 pt-2 border-t border-gray-100",children:[de.cards.length," ",de.cards.length===1?"card":"cards"]})]},Ie))}),a.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[a.jsxs(U,{variant:"ghost",size:"sm",onClick:de=>{de.stopPropagation(),an($)},className:"text-gray-600 hover:text-gray-900",children:[a.jsx(zo,{size:16,className:"mr-1"})," Download"]}),a.jsxs(U,{variant:"ghost",size:"sm",onClick:de=>{de.stopPropagation(),H($.id)},className:"text-gray-600 hover:text-red-600",children:[a.jsx(Tt,{size:16,className:"mr-1"})," Delete"]})]}),((ye=$.additional_comments)==null?void 0:ye.trim())&&a.jsxs("div",{className:"mt-4 p-3 rounded-lg border border-blue-100 bg-blue-50",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[a.jsx(ba,{size:14,className:"text-blue-500"}),a.jsx("span",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wide",children:"Participant Comment"})]}),a.jsx("p",{className:"text-sm text-blue-900",children:$.additional_comments})]})]})]},$.id)})})]},O)),u.length===0&&a.jsx("div",{className:"text-center py-10 text-gray-400",children:"No submissions found."})]})]})}):a.jsx("div",{className:"w-full max-w-6xl px-8 py-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Categories"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cards sorted into each category across all participant submissions"})]}),Object.keys(tt).length===0?a.jsx("div",{className:"text-center py-16 text-gray-400",children:"No submissions yet."}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Object.entries(tt).sort((O,I)=>I[1].participantCount-O[1].participantCount).map(([O,I])=>{const $=Object.entries(I.cardCounts).sort((ie,ye)=>ye[1]-ie[1]);return a.jsxs(Ve,{className:"p-6 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:O}),ue.has(O)?a.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full",style:{backgroundColor:"#DBEAFE",color:"#1E40AF",border:"1px solid #93C5FD"},children:"Admin"}):a.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full",style:{backgroundColor:"#FEF3C7",color:"#92400E",border:"1px solid #FCD34D"},children:"Custom"})]}),a.jsx("div",{className:"space-y-2",children:$.map(([ie,ye])=>{const de=Math.round(ye/D*100);return a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-700 truncate mr-4",children:ie}),a.jsxs("span",{className:"text-gray-400 flex-shrink-0",children:[ye,"/",D]})]}),a.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-400 to-indigo-500 transition-all duration-700",style:{width:`${de}%`}})})]},ie)})})]},O)})})]})})})]}),a.jsx(Es,{isOpen:B,onClose:()=>{F(!1),Y(null)},onConfirm:V,title:"Move to Recycle Bin",message:"Are you sure you want to move this submission to the Recycle Bin? You can restore it later.",confirmText:"Move to Bin",cancelText:"Cancel",variant:"danger"}),a.jsx(Es,{isOpen:le,onClose:()=>{pe(!1),q(null)},onConfirm:C,title:"Permanently Delete",message:"This action cannot be undone. This submission will be permanently removed.",confirmText:"Delete Forever",cancelText:"Cancel",variant:"danger"})]})},hd=({content:t,description:e,isDraggable:r=!0,onDragStart:n,className:s="",style:o={}})=>{const[i,l]=j.useState(!1),[c,u]=j.useState({top:0,left:0}),d=j.useRef(null),h=()=>{if(d.current){const f=d.current.getBoundingClientRect();u({top:f.top-10,left:f.left+f.width/2}),l(!0)}};return a.jsxs("div",{draggable:r,onDragStart:n,className:`p-3 rounded-lg border transition-all hover:shadow-md group flex items-center gap-2 ${s}`,style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border-primary)",color:"var(--color-text-primary)",cursor:r?"move":"default",...o},children:[a.jsx("div",{className:"flex-1 break-words min-w-0",children:t}),e&&a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:d,className:"flex-shrink-0 flex items-center justify-center opacity-0 invisible group-hover:opacity-100 group-hover:visible focus:opacity-100 focus:visible transition-all duration-200 outline-none",role:"button","aria-label":"Show card description",tabIndex:0,onMouseEnter:h,onMouseLeave:()=>l(!1),onFocus:h,onBlur:()=>l(!1),children:a.jsx(pi,{size:16,className:"text-blue-400 cursor-help"})}),i&&Cf.createPortal(a.jsxs("div",{className:"fixed z-50 w-48 p-2 text-xs rounded shadow-lg pointer-events-none",style:{top:c.top,left:c.left+8,transform:"translate(-100%, -100%)",backgroundColor:"var(--color-neutral-800)",color:"white"},children:[e,a.jsx("div",{className:"absolute -bottom-1 right-2 w-2 h-2 rotate-45",style:{backgroundColor:"var(--color-neutral-800)"}})]}),document.body)]})]})},Lw=({projectId:t,onComplete:e,onNavigate:r})=>{const{getProject:n,fetchProjectById:s,submitResult:o,saveDraft:i,checkDraft:l,checkExistingSubmission:c}=Kn(),[u,d]=j.useState(n(t)),[h,f]=j.useState(!u),[y,w]=j.useState(""),[k,T]=j.useState(!1),[g,p]=j.useState(""),[m,x]=j.useState(!1),[S,b]=j.useState([]),[E,A]=j.useState([]),[B,F]=j.useState(null),[le,pe]=j.useState(""),[Z,Y]=j.useState(""),[oe,q]=j.useState(null);j.useState(!1);const[Ne,L]=j.useState(!1),[H,K]=j.useState(!1),[V,C]=j.useState(!1),[v,N]=j.useState(!1),[D,M]=j.useState(!1),[J,Q]=j.useState(null),[ue,Se]=j.useState(!1),[Mt,nr]=j.useState(""),[ct,Dr]=j.useState(null),[qt,Ar]=j.useState(!1),sr=(u==null?void 0:u.type)==="hybrid"&&E.length>=5,sn=P=>{var W;return(W=u==null?void 0:u.cards.find(re=>re.content===P))==null?void 0:W.description};if(j.useEffect(()=>{(async()=>{if(!u){f(!0);const W=await s(t);W&&d(W),f(!1)}})()},[t,u,s]),j.useEffect(()=>{if(u&&(b(u.cards.map(P=>P.content)),u.type==="closed"||u.type==="hybrid")){const P=u.categories.map(W=>({category_name:W.name,cards:[],id:W.id||W.name,originalName:W.name,isDefault:!0,description:W.description}));A(P)}},[u]),h)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--color-bg-secondary)"},children:a.jsx("div",{style:{color:"var(--color-text-secondary)"},children:"Loading project..."})});if(!u)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--color-bg-secondary)"},children:a.jsx("div",{style:{color:"var(--color-text-secondary)"},children:"Project not found"})});const Qn=P=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P),tt=async()=>{if(!y.trim()){p("Email is required");return}if(!Qn(y)){p("Please enter a valid email address");return}p(""),f(!0);try{const P=y.toLowerCase().trim(),W=await c(t,P);if(W){Dr(W),f(!1);return}const re=await l(t,P);if(re){const rt=re.categories;if(u.type==="closed"||u.type==="hybrid"){const Oe=[];u.categories.forEach(Te=>{const Jn=rt.find(Ui=>Ui.category_name===Te.name);Jn?Oe.push({...Jn,id:Te.id||Te.name,originalName:Te.name,isDefault:!0,description:Te.description}):Oe.push({category_name:Te.name,cards:[],id:Te.id||Te.name,originalName:Te.name,isDefault:!0,description:Te.description})}),rt.forEach(Te=>{u.categories.some(Ui=>Ui.name===Te.category_name)||Oe.push({...Te,id:Te.category_name,isDefault:!1})}),A(Oe)}else A(rt.map(Oe=>({...Oe,id:Oe.category_name,isDefault:!1})));const Mr=u.cards.map(Oe=>Oe.content),Qe=new Set;(u.type==="closed"||u.type==="hybrid"?[...u.categories.map(Oe=>rt.find(Jn=>Jn.category_name===Oe.name)||{category_name:Oe.name,cards:[]}),...rt.filter(Oe=>!u.categories.some(Te=>Te.name===Oe.category_name))]:rt).forEach(Oe=>{Oe.cards.forEach(Te=>Qe.add(Te))});const Yn=Mr.filter(Oe=>!Qe.has(Oe));b(Yn),Me("Resuming your previous session")}}catch(P){console.error("Error checking draft:",P)}finally{f(!1),T(!0)}},Rr=()=>{if(!Z.trim()||sr)return;const P=Z.trim();A([...E,{category_name:P,cards:[],id:P+Date.now(),isDefault:!1}]),Y("")},on=P=>{u.type!=="closed"&&(u.type==="hybrid"&&P.isDefault||(F(P.id),pe(P.category_name)))},Lr=()=>{B&&le.trim()&&A(E.map(P=>P.id===B?{...P,category_name:le.trim()}:P)),F(null),pe("")},an=()=>{F(null),pe("")},O=(P,W)=>{W.stopPropagation(),P.isDefault&&P.originalName&&A(E.map(re=>re.id===P.id?{...re,category_name:P.originalName}:re))},I=P=>{Q(P),M(!0)},$=()=>{J&&(ie(J),M(!1),Q(null))},ie=P=>{const W=E.find(re=>re.id===P);W&&(b([...S,...W.cards]),A(E.filter(re=>re.id!==P)))},ye=P=>{q(P)},de=(P,W)=>{P.preventDefault(),P.currentTarget.classList.remove("drag-over"),oe&&(W?(A(E.map(re=>{if(re.id===W){if(!re.cards.includes(oe))return{...re,cards:[...re.cards,oe]}}else return{...re,cards:re.cards.filter(rt=>rt!==oe)};return re})),b(S.filter(re=>re!==oe))):(S.includes(oe)||b([...S,oe]),A(E.map(re=>({...re,cards:re.cards.filter(rt=>rt!==oe)})))),q(null))},Ie=P=>{P.preventDefault(),P.currentTarget.classList.add("drag-over")},je=P=>{P.currentTarget.classList.remove("drag-over")},_=P=>({email:y,categories:E.filter(W=>W.cards.length>0).map(W=>{var re;return{category_name:W.category_name,...(re=W.suggested_name)!=null&&re.trim()?{suggested_name:W.suggested_name.trim()}:{},cards:W.cards}}),...P!=null&&P.trim()?{additional_comments:P.trim()}:{}}),X=async()=>{L(!0);try{const P={email:y,categories:E.filter(W=>W.cards.length>0)};await i(t,P),Me("Progress saved. You can return later to finish.")}catch(P){console.error("Error saving progress:",P),Me("Failed to save progress. Please try again.")}finally{L(!1)}},ae=async P=>{K(!0);try{o(t,_(P),qt?ct==null?void 0:ct.id:void 0),C(!0),Se(!1),Me(qt?"Submission updated. Thank you!":"Sorting submitted. Thank you!"),setTimeout(()=>{e()},2e3)}finally{K(!1)}},Me=P=>{const W=document.createElement("div");W.textContent=P,W.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--color-success-500);
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      z-index: 1000;
      animation: slideIn 0.3s ease;
    `,document.body.appendChild(W),setTimeout(()=>{W.style.animation="slideOut 0.3s ease",setTimeout(()=>W.remove(),300)},3e3)},Ke=()=>{Ir&&(nr(""),Se(!0))},or=u.cards.length,ro=or-S.length,Ec=or-ro,no=ro>=1,Ir=Ec===0;if(ct&&!qt){const P=new Date(ct.submittedAt).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}),W=()=>{const re=ct.data.categories;if(u.type==="closed"||u.type==="hybrid"){const Qe=[];u.categories.forEach(St=>{const Yn=re.find(Oe=>Oe.category_name===St.name);Qe.push({...Yn||{category_name:St.name,cards:[]},id:St.id||St.name,originalName:St.name,isDefault:!0,description:St.description})}),re.forEach(St=>{u.categories.some(Yn=>Yn.name===St.category_name)||Qe.push({...St,id:St.category_name,isDefault:!1})}),A(Qe)}else A(re.map(Qe=>({...Qe,id:Qe.category_name,isDefault:!1})));const rt=u.cards.map(Qe=>Qe.content),Mr=new Set(re.flatMap(Qe=>Qe.cards));b(rt.filter(Qe=>!Mr.has(Qe))),Ar(!0),T(!0),x(!0)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-8 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${Uo})`,backgroundColor:"var(--color-bg-secondary)"},children:a.jsxs(Ve,{className:"p-8 w-full max-w-md text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-5",children:a.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),a.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"Already Submitted!"}),a.jsx("p",{className:"text-sm mb-1",style:{color:"var(--color-text-secondary)"},children:a.jsx("span",{className:"font-medium",children:y})}),a.jsxs("p",{className:"text-sm mb-6",style:{color:"var(--color-text-secondary)"},children:["Completed on ",a.jsx("span",{className:"font-medium",children:P})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(U,{onClick:W,className:"w-full",children:" Edit My Submission"}),a.jsx(U,{onClick:()=>{Dr(null),w(""),p(""),T(!1),x(!1),Ar(!1)},variant:"secondary",className:"w-full",children:"Use a Different Email"})]}),a.jsx("p",{className:"text-xs mt-5",style:{color:"var(--color-text-secondary)"},children:"Editing will update your existing submission  no duplicate will be created."})]})})}return k?m?a.jsxs("div",{className:"min-h-screen p-8",style:{backgroundColor:"var(--color-bg-secondary)"},children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6 relative",children:[a.jsx(U,{onClick:()=>r("landing"),variant:"secondary",size:"sm",className:"absolute left-0 top-0",children:a.jsx(fi,{size:20})}),a.jsxs("div",{className:"absolute right-0 top-0 flex gap-2",children:[a.jsxs(U,{onClick:X,disabled:!no||Ne||V,size:"sm",style:{backgroundColor:no&&!V?"var(--color-primary-500)":"var(--color-neutral-200)",color:no&&!V?"white":"var(--color-neutral-400)",cursor:!no||V?"not-allowed":"pointer"},children:[a.jsx(hv,{size:16,className:"mr-1"}),Ne?"Saving...":"Save"]}),a.jsxs("div",{className:"relative",onMouseEnter:()=>!Ir&&N(!0),onMouseLeave:()=>N(!1),children:[a.jsx(U,{onClick:Ke,disabled:!Ir||H||V,size:"sm",style:{backgroundColor:Ir&&!V?"var(--color-success-500)":"var(--color-neutral-200)",color:Ir&&!V?"white":"var(--color-neutral-400)",cursor:!Ir||V?"not-allowed":"pointer"},children:V?"Submitted":"Submit"}),v&&!Ir&&a.jsxs("div",{className:"absolute top-full right-0 mt-2 px-3 py-2 rounded-lg shadow-lg text-sm whitespace-nowrap z-50",style:{backgroundColor:"var(--color-neutral-800)",color:"white"},children:["Finish sorting all cards to submit  ",Ec," remaining"]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:u.name}),a.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"Drag cards from the left into categories on the right"})]})]}),a.jsx("div",{className:"flex justify-center mb-0",children:u.type==="hybrid"&&a.jsxs("div",{className:"w-full max-w-3xl flex justify-center",children:[!sr&&a.jsxs("div",{className:"w-fit flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-50 border border-blue-200 text-blue-800 text-sm",children:[a.jsx(pi,{size:16,className:"flex-shrink-0"}),a.jsxs("span",{className:"truncate",children:[a.jsx("strong",{children:"Category Limit Guide:"})," Min 4, Max 5 acting categories."]})]}),sr&&a.jsxs("div",{className:"w-fit flex items-center gap-2 px-3 py-2 rounded-lg bg-yellow-50 border border-yellow-200 text-yellow-800 text-sm",children:[a.jsx(Xf,{size:16,className:"flex-shrink-0"}),a.jsxs("span",{className:"truncate",children:[a.jsx("strong",{children:"Limit reached (5/5)"})," - You can edit the latest category name, or suggest alternative names to other categories"]})]})]})}),a.jsxs("div",{className:"flex gap-6 mt-[15px]",children:[a.jsxs("div",{className:"w-80 flex-shrink-0",children:[a.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--color-text-primary)"},children:"Unsorted Cards"}),a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium leading-none",style:{backgroundColor:S.length===0?"var(--color-success-50)":"var(--color-warning-50)",color:S.length===0?"var(--color-success-700)":"var(--color-warning-700)"},children:[S.length," remaining"]})]}),a.jsx("div",{className:"min-h-[400px] max-h-[600px] p-4 rounded-lg border-2 border-dashed transition-all overflow-y-auto",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-secondary)"},onDrop:P=>de(P),onDragOver:Ie,onDragLeave:je,children:S.length===0?a.jsx("div",{className:"flex items-center justify-center h-full py-12 text-center",style:{color:"var(--color-text-tertiary)"},children:a.jsxs("div",{children:[a.jsx(ka,{size:48,className:"mx-auto mb-2"}),a.jsx("p",{children:"All cards sorted!"})]})}):a.jsx("div",{className:"space-y-2",children:S.map((P,W)=>a.jsx(hd,{content:P,description:sn(P),onDragStart:()=>ye(P),className:"border"},W))})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"mb-6 flex items-center gap-4",children:a.jsx("h2",{className:"text-xl font-semibold flex-shrink-0",style:{color:"var(--color-text-primary)"},children:"Categories"})}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[E.map(P=>a.jsxs("div",{className:"w-64 p-4 rounded-lg border",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border-primary)"},children:[a.jsx("div",{className:"flex items-center justify-between mb-3 min-h-[32px]",children:B===P.id?a.jsxs("div",{className:"flex items-center gap-1 flex-1",children:[a.jsx(ft,{value:le,onChange:W=>pe(W.target.value),onKeyPress:W=>{W.key==="Enter"&&Lr()},onKeyDown:W=>{W.key==="Escape"&&an()},onBlur:Lr,className:"flex-1 py-1 h-8 text-sm",autoFocus:!0}),a.jsx(U,{size:"sm",onClick:Lr,className:"h-8 w-8 p-0",children:a.jsx(ka,{size:14})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold truncate cursor-pointer hover:underline decoration-dashed underline-offset-4",style:{color:"var(--color-text-primary)"},onClick:()=>on(P),title:"Click to rename",children:P.category_name}),P.description&&a.jsxs("div",{className:"group relative flex items-center",children:[a.jsx(pi,{size:14,className:"text-blue-400 cursor-help"}),a.jsxs("div",{className:"invisible group-hover:visible absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 p-2 text-xs rounded shadow-lg z-50 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-200",style:{backgroundColor:"var(--color-neutral-800)",color:"white"},children:[P.description,a.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 rotate-45",style:{backgroundColor:"var(--color-neutral-800)"}})]})]})]}),a.jsxs("div",{className:"flex items-center gap-[2px] flex-shrink-0",children:[P.isDefault&&P.originalName&&P.category_name!==P.originalName&&a.jsx("button",{onClick:W=>O(P,W),className:"p-1 hover:opacity-75 transition-opacity",title:`Restore original name: ${P.originalName}`,style:{color:"var(--color-warning-500)"},children:a.jsx(Nc,{size:14})}),u.type!=="closed"&&!(u.type==="hybrid"&&P.isDefault)&&a.jsx("button",{onClick:()=>on(P),className:"p-1 hover:opacity-75 transition-opacity",style:{color:"var(--color-text-disabled)"},title:"Rename category",children:a.jsx(mi,{size:14})}),!P.isDefault&&u.type!=="closed"&&a.jsx("button",{onClick:()=>I(P.id),className:"p-1 hover:opacity-75 transition-opacity",title:"Delete category",children:a.jsx(Tt,{size:18,style:{color:"var(--color-error-500)"}})})]})]})}),P.isDefault&&a.jsx("input",{type:"text",placeholder:"Suggest category name...",className:"w-full text-xs px-2 py-1 border rounded bg-white/50 focus:bg-white focus:outline-none focus:ring-1 focus:ring-blue-300 transition-colors mb-2",style:{borderColor:"var(--color-border-secondary)",color:"var(--color-text-primary)"},value:P.suggested_name||"",onChange:W=>{const re=W.target.value;A(rt=>rt.map(Mr=>Mr.id===P.id?{...Mr,suggested_name:re}:Mr))}}),a.jsxs("div",{className:"text-xs text-center mb-2 px-2 py-1 rounded",style:{backgroundColor:"var(--color-bg-secondary)",color:"var(--color-text-secondary)"},children:[P.cards.length," ",P.cards.length===1?"CARD":"CARDS"]}),a.jsx("div",{className:`min-h-[120px] flex-1 p-2 rounded-lg border-2 border-dashed transition-all ${P.cards.length>3?"scrollable":""}`,style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border-secondary)",maxHeight:P.cards.length>3?"240px":"auto",overflowY:P.cards.length>3?"auto":"visible"},onDrop:W=>de(W,P.id),onDragOver:Ie,onDragLeave:je,children:P.cards.length===0?a.jsx("div",{className:"text-center py-8 text-sm",style:{color:"var(--color-text-tertiary)"},children:"Drop cards here"}):a.jsx("div",{className:"space-y-2",children:P.cards.map((W,re)=>a.jsx(hd,{content:W,description:sn(W),onDragStart:()=>ye(W),className:"bg-white"},re))})})]},P.id)),!sr&&(u.type==="open"||u.type==="hybrid")&&a.jsxs("div",{className:"w-64 p-4 rounded-xl border-2 border-dashed flex flex-col items-center justify-center gap-4 transition-all group relative bg-blue-50 border-blue-200",children:[a.jsxs("div",{className:"text-center mt-2",children:[a.jsx("h3",{className:"text-blue-800 font-bold text-lg",children:"Create New Column"}),a.jsx("p",{className:"text-blue-400 text-sm",children:"Add a custom sorting category"})]}),a.jsxs("div",{className:"w-full space-y-3",children:[a.jsx(ft,{placeholder:"Enter category name...",value:Z,onChange:P=>Y(P.target.value),onKeyPress:P=>P.key==="Enter"&&Rr(),className:"w-full bg-white border-blue-200 text-center placeholder:text-gray-400"}),a.jsxs(U,{onClick:Rr,className:"w-full bg-blue-100 hover:bg-blue-200 text-blue-500 border-none font-medium flex items-center justify-center gap-2",children:[a.jsx(gi,{size:18})," Add Category"]})]})]})]})]})]})]}),a.jsx(Rt,{isOpen:D,onClose:()=>M(!1),title:"Delete Category",children:a.jsxs("div",{className:"p-4",children:[a.jsx("p",{className:"mb-4",style:{color:"var(--color-text-secondary)"},children:"Are you sure you want to delete this category? All cards will return to Unsorted."}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(U,{variant:"secondary",onClick:()=>M(!1),children:"Cancel"}),a.jsx(U,{onClick:$,style:{backgroundColor:"var(--color-error-500)",color:"white"},children:"Delete"})]})]})}),ue&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},onClick:()=>Se(!1),children:a.jsxs("div",{className:"bg-white rounded-2xl p-10 w-full max-w-lg shadow-2xl",style:{animation:"slideUp 0.25s ease"},onClick:P=>P.stopPropagation(),children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",style:{backgroundColor:"#D1FAE5"},children:a.jsx(ka,{size:32,style:{color:"#10B981"}})}),a.jsx("h2",{className:"text-2xl font-semibold text-center mb-3",style:{color:"#111827"},children:"Ready to Submit Your Sorting?"}),a.jsx("p",{className:"text-center text-sm mb-8",style:{color:"#6B7280",lineHeight:"1.6"},children:"Your card sorting will be submitted and cannot be edited after submission."}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("label",{className:"block text-sm font-semibold mb-2",style:{color:"#374151"},children:["Additional Comments ",a.jsx("span",{className:"font-normal",style:{color:"#9CA3AF"},children:"(Optional)"})]}),a.jsx("textarea",{className:"w-full rounded-lg border px-4 py-3 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-300 transition",style:{borderColor:"#D1D5DB",color:"#111827",fontFamily:"inherit",lineHeight:"1.5"},placeholder:"Share any thoughts, suggestions, or feedback about the sorting experience...",rows:4,maxLength:500,value:Mt,onChange:P=>nr(P.target.value)}),a.jsxs("div",{className:"text-xs text-right mt-1",style:{color:"#9CA3AF"},children:[Mt.length,"/500"]})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx(U,{variant:"secondary",onClick:()=>{Se(!1),nr("")},disabled:H,children:"Cancel"}),a.jsx(U,{onClick:()=>ae(Mt),disabled:H,style:{backgroundColor:"#10B981",color:"white"},children:H?"Submitting...":"Submit Sorting"})]})]})})]}):a.jsxs("div",{className:"min-h-screen flex items-center justify-center p-8 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${Uo})`,backgroundColor:"var(--color-bg-secondary)"},children:[a.jsx("div",{className:"absolute top-8 left-8",children:a.jsxs(U,{onClick:()=>T(!1),variant:"secondary",size:"sm",className:"flex items-center gap-1.5",children:[a.jsx(fi,{size:16}),"Back"]})}),a.jsxs(Ve,{className:"p-8 w-full max-w-2xl",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Welcome to the Card Sorting Activity for Gravity's Subscriber App."}),a.jsx("p",{className:"text-base",style:{color:"#6B7280"},children:"This activity is being conducted to understand how you as an end-user, understand the app's information and naturally organise it in a way that makes sense to you."})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"Instructions for this activity -"}),a.jsxs("ol",{className:"space-y-4",style:{color:"var(--color-text-secondary)"},children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-sm",children:"1"}),a.jsx("span",{className:"leading-relaxed",children:"Go through the list of cards on the left section"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-sm",children:"2"}),a.jsx("span",{className:"leading-relaxed",children:"Drag and drop cards into categories that make most sense to you"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-sm",children:"3"}),a.jsx("span",{className:"leading-relaxed",children:"Create a new category if needed, and name that category. You can edit or delete this category."})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-sm",children:"4"}),a.jsx("span",{className:"leading-relaxed font-medium",style:{color:"var(--color-text-primary)"},children:"Remember - there are no right or wrong answers, only answers that are logical to you!"})]})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(U,{onClick:()=>x(!0),size:"lg",className:"px-12 py-3 text-lg font-medium min-w-[160px]",style:{backgroundColor:"#2563EB",color:"white"},children:"Start Sorting"})})]})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center p-8 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${Uo})`,backgroundColor:"var(--color-bg-secondary)"},children:a.jsxs(Ve,{className:"p-8 w-full max-w-md",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:u.name}),a.jsx("p",{className:"mb-6",style:{color:"var(--color-text-secondary)"},children:"Welcome to this card sorting study. Please enter your email to begin."}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(ft,{label:"Email Address",type:"email",value:y,onChange:P=>{w(P.target.value),p("")},onKeyDown:P=>P.key==="Enter"&&tt(),placeholder:"your.email@example.com",error:g}),a.jsx(U,{onClick:tt,className:"w-full",children:"Continue "})]})]})})};function Iw(){const[t,e]=j.useState("landing"),[r,n]=j.useState(""),[s,o]=j.useState(!1),[i,l]=j.useState(""),[c,u]=j.useState(""),[d,h]=j.useState(""),[f,y]=j.useState(!1),[w,k]=j.useState(!1),[T,g]=j.useState(!1),p=(S,b)=>{e(S),b&&n(b)},m=()=>{p("landing")};j.useEffect(()=>{const b=new URLSearchParams(window.location.search).get("project");b&&(n(b),e("participant"),window.history.replaceState({},"",window.location.pathname));const{data:E}=G.auth.onAuthStateChange((A,B)=>{A==="PASSWORD_RECOVERY"?o(!0):A==="SIGNED_OUT"&&(g(!0),e("landing"),setTimeout(()=>g(!1),2e3))});return()=>{E.subscription.unsubscribe()}},[]);const x=async S=>{if(S.preventDefault(),h(""),i.length<6){h("Password must be at least 6 characters long");return}if(i!==c){h("Passwords do not match");return}k(!0);try{const{error:b}=await G.auth.updateUser({password:i});if(b)throw b;y(!0),setTimeout(()=>{o(!1),l(""),u(""),y(!1),h("")},2e3)}catch(b){h(b.message||"Failed to reset password")}finally{k(!1)}};return a.jsx(J0,{children:a.jsxs("div",{className:"relative min-h-screen",children:[a.jsx("div",{className:"fixed top-5 right-4 z-10 flex items-center",children:a.jsx(vv,{})}),t==="landing"&&a.jsx(xv,{onNavigate:p,justLoggedOut:T}),t==="admin"&&a.jsx(Dw,{onNavigate:p}),t==="manage"&&r&&a.jsx(Aw,{projectId:r,onNavigate:S=>p(S)}),t==="results"&&r&&a.jsx(Rw,{projectId:r,onNavigate:S=>p(S)}),t==="participant"&&r&&a.jsx(Lw,{projectId:r,onComplete:m,onNavigate:S=>p(S)}),a.jsx(Rt,{isOpen:s,onClose:()=>{o(!1),l(""),u(""),h(""),y(!1)},title:"Set New Password",children:f?a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-success-50)",color:"var(--color-success-600)"},children:[a.jsx("p",{className:"font-medium mb-2",children:"Password updated successfully!"}),a.jsx("p",{className:"text-sm",children:"You can now sign in with your new password."})]}):a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Enter your new password below."}),a.jsx(ft,{label:"New Password",type:"password",value:i,onChange:S=>l(S.target.value),placeholder:"Enter new password",required:!0}),a.jsx(ft,{label:"Confirm Password",type:"password",value:c,onChange:S=>u(S.target.value),placeholder:"Confirm new password",required:!0}),d&&a.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-error-50)",color:"var(--color-error-600)"},children:d}),a.jsx(U,{type:"submit",className:"w-full",disabled:w,children:w?"Updating...":"Update Password"})]})})]})})}Nf(document.getElementById("root")).render(a.jsx(j.StrictMode,{children:a.jsx(Iw,{})}));
